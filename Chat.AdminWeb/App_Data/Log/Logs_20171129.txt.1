2017-11-29 17:17:17,932 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:17,946 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:17 +08:00

2017-11-29 17:17:17,947 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:17 +08:00

2017-11-29 17:17:17,948 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:17:17,948 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:17,948 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:17,948 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:17 +08:00

2017-11-29 17:17:17,949 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:17,949 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:17,949 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:17 +08:00

2017-11-29 17:17:17,949 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:17 +08:00

2017-11-29 17:17:17,950 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:17:17,950 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:17,950 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:17,950 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:17 +08:00

2017-11-29 17:17:17,953 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:17,953 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:17,953 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:17 +08:00

2017-11-29 17:17:18,042 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,042 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:17:18,043 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,043 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,043 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,048 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 5 ms with result: SqlDataReader

2017-11-29 17:17:18,048 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,048 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,048 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,048 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:17:18,049 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,049 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,049 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,050 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:18,050 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,050 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,051 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,051 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:17:18,051 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,051 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,051 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,053 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,054 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,054 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,054 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,055 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:17:18,055 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,055 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,055 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,056 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:17:18,056 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,056 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,056 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,057 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:17:18,057 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,057 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,057 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,059 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,059 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,059 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,158 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,159 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:17:18,159 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,159 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,159 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,162 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,162 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,162 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,163 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,163 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:17:18,163 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,163 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,163 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,164 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:18,164 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,164 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,165 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,166 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:17:18,166 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,166 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,166 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,168 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,168 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,168 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,169 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,169 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:17:18,169 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,169 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,169 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,171 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:18,171 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,171 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,171 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,172 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:17:18,172 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,172 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,172 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,175 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2017-11-29 17:17:18,175 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,175 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,204 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,205 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:17:18,205 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,205 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,205 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,207 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,207 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,208 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,208 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,208 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:17:18,208 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,208 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,208 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,209 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:18,209 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,209 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,210 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,210 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:17:18,210 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,210 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,210 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,213 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,213 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,214 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,214 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,214 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:17:18,214 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,214 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,214 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,216 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:18,216 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,216 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,216 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,216 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:17:18,217 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,217 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,217 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,219 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,219 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,220 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,256 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,257 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:17:18,257 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,257 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,257 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,259 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,260 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,260 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,260 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,260 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:17:18,260 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,260 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,260 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,261 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:18,261 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,262 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,262 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,262 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:17:18,262 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,263 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,263 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,265 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,265 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,266 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,266 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,266 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:17:18,266 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,266 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,266 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,267 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:17:18,268 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,268 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,268 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,268 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:17:18,268 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,268 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,268 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,271 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,271 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,271 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,297 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,298 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:17:18,298 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,298 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,298 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,300 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,300 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,300 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,301 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,301 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:17:18,301 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,301 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,301 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,302 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:18,302 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,302 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,303 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,303 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:17:18,303 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,303 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,303 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,306 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,306 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,306 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,306 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,307 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:17:18,307 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,307 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,307 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,308 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:17:18,308 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,308 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,308 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,309 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:17:18,309 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,309 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,309 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,311 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,311 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,311 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,322 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,326 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:17:18,326 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,326 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,326 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,329 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,329 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,329 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,329 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,329 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:17:18,329 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,329 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,329 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,330 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:18,330 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,331 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,331 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,332 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:17:18,332 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,332 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,332 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,334 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,334 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,335 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,335 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,335 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:17:18,335 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,335 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,336 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,337 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:18,337 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,337 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,337 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,338 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:17:18,338 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,338 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,338 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,340 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,340 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,340 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,358 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,358 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:17:18,358 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,358 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,358 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,361 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,361 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,361 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,361 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,361 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:17:18,361 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,361 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,361 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,362 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:18,362 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,362 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,363 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,364 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:17:18,364 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,364 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,364 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,366 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,366 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,367 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,367 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,368 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:17:18,368 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,368 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,368 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,369 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:17:18,369 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,369 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,369 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,369 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:17:18,369 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,369 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,369 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,372 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,372 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,372 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,385 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,385 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:17:18,386 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,386 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,386 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,388 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,388 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,388 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,389 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,389 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:17:18,389 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,389 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,389 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,390 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:18,390 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,390 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,390 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,391 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:17:18,391 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,391 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,391 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,393 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,393 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,394 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,394 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,394 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:17:18,394 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,394 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,394 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,395 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:17:18,395 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,395 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,396 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,396 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:17:18,396 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,396 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,396 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,399 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,399 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,399 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,427 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,427 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:17:18,427 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,427 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,427 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,430 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,430 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,430 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,431 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,431 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:17:18,431 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,431 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,431 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,432 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:18,432 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,432 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,433 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,433 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:17:18,433 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,433 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,433 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,436 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,436 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,436 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,437 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,440 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:17:18,440 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,440 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,440 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,441 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:18,441 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,441 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,441 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,442 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:17:18,442 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,442 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,442 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,444 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,444 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,445 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,474 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,475 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:17:18,475 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,475 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,475 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,478 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,478 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,478 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,479 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,479 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:17:18,479 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,479 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,479 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,480 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:18,480 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,480 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,481 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,481 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:17:18,481 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,481 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,481 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,483 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:18,483 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,484 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,484 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,484 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:17:18,484 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,484 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,485 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,486 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:17:18,486 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,486 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,486 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,486 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:17:18,486 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,486 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,487 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,489 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,489 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,489 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,520 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,521 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:17:18,521 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,521 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,521 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,523 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,523 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,524 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,524 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,524 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:17:18,524 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,524 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,524 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,525 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:18,525 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,525 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,526 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,526 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:17:18,526 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,526 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,526 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,529 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,529 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,529 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,529 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,530 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:17:18,530 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,530 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,530 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,531 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:18,532 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,532 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,532 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,532 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:17:18,532 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,533 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,533 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,535 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,536 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,536 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,544 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,545 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:17:18,545 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,545 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,545 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,547 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,547 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,548 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,548 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,548 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:17:18,548 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,548 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,548 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,549 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:18,549 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,549 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,550 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,550 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:17:18,551 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,551 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,551 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,553 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,553 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,553 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,554 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,554 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:17:18,554 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,554 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,554 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,555 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:17:18,555 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,555 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,556 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,556 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:17:18,556 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,556 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,556 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,559 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,559 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,559 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,585 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,586 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:17:18,586 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,586 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,586 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,588 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,588 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,589 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,589 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,589 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:17:18,589 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,589 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,589 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,590 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:17:18,590 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,590 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,591 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,591 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:17:18,591 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,591 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,591 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,594 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,594 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,594 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,594 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,595 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:17:18,595 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,595 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,595 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,596 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:18,596 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,596 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,596 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,597 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:17:18,597 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,597 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,597 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,599 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,599 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,600 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,608 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,608 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:17:18,608 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,608 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,608 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,610 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,610 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,611 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,611 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,611 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:17:18,611 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,611 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,611 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,612 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:18,612 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,612 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,613 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,614 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:17:18,614 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,614 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,614 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,616 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,616 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,616 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,617 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,617 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:17:18,617 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,617 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,617 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,618 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:18,618 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,618 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,619 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,619 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:17:18,619 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,619 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,619 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,622 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,622 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,622 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,656 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,656 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:17:18,657 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,657 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,657 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,659 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,659 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,660 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,660 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,660 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:17:18,660 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,660 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,660 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,661 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:18,661 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,661 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,662 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,662 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:17:18,662 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,662 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,662 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,665 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,665 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,665 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,666 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,666 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:17:18,666 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,666 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,666 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,667 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:18,667 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,667 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,667 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,668 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:17:18,668 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,668 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,668 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,671 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2017-11-29 17:17:18,671 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,671 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,706 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,706 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:17:18,707 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,707 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,707 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,709 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,709 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,709 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,710 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,710 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:17:18,710 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,710 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,710 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,711 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:18,711 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,711 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,712 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,712 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:17:18,712 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,712 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,712 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,715 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,715 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,715 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,715 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,716 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:17:18,716 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,716 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,716 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,717 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:18,717 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,717 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,717 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,718 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:17:18,718 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,718 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,718 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,720 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,720 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,721 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,749 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,750 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:17:18,750 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,750 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,750 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,752 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,752 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,753 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,753 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,753 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:17:18,753 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,753 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,753 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,754 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:18,754 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,754 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,755 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,755 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:17:18,755 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,755 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,755 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,758 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,758 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,758 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,758 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,759 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:17:18,759 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,759 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,759 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,760 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:17:18,760 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,760 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,760 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,761 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:17:18,761 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,761 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,761 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,763 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,763 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,763 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,775 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,776 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:17:18,776 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,776 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,776 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,779 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,779 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,779 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,779 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,779 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:17:18,779 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,779 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,779 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,781 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:18,781 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,781 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,781 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,782 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:17:18,782 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,782 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,782 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,785 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,785 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,785 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,785 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,786 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:17:18,786 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,786 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,786 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,787 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:18,787 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,787 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,787 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,788 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:17:18,788 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,788 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,788 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,790 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,790 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,790 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,838 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,838 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:17:18,838 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,838 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,838 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,841 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,841 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,841 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,841 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,841 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:17:18,841 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,841 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,841 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,843 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:18,843 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,843 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,843 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,844 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:17:18,844 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,844 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,844 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,846 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,847 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,847 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,847 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,847 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:17:18,848 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,848 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,848 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,849 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:18,849 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,849 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,849 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,849 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:17:18,850 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,850 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,850 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,853 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,853 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,853 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,905 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,905 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:17:18,905 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,905 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,905 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,908 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,908 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,908 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,908 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,908 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:17:18,908 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,908 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,908 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,910 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:18,910 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,910 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,911 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,911 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:17:18,911 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,911 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,911 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,914 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,914 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,914 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,914 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,915 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:17:18,915 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,915 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,915 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,916 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:18,916 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,916 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,916 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,917 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:17:18,917 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,917 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,917 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,919 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,919 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,919 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,945 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,946 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:17:18,946 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,946 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,946 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,949 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,949 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,949 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,949 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,949 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:17:18,949 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,949 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,950 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,951 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:18,951 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,951 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,951 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,952 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:17:18,952 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,952 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,952 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,954 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,954 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,955 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,955 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,955 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:17:18,955 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,955 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,955 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,956 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:17:18,956 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,956 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,957 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,957 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:17:18,957 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,957 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,957 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,960 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,960 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,960 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,975 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,976 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:17:18,976 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,976 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,976 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,978 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,979 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,979 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,979 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,979 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:17:18,979 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,979 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,979 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,980 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:18,980 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,980 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,981 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,981 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:17:18,981 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,981 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,981 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,984 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,984 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,984 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,985 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,985 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:17:18,985 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,985 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,985 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,986 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:17:18,986 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,986 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,987 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,987 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:17:18,987 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,987 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:18,987 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:18,990 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:18,990 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:18,990 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:18 +08:00

2017-11-29 17:17:19,008 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,009 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:17:19,009 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,009 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,009 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,011 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,011 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,011 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,012 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,012 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:17:19,012 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,012 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,012 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,013 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:19,013 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,013 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,014 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,014 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:17:19,014 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,014 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,014 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,017 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,017 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,017 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,018 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,018 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:17:19,018 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,018 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,018 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,019 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:17:19,020 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,020 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,020 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,020 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:17:19,021 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,021 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,021 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,023 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,023 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,023 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,046 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,047 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:17:19,047 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,047 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,047 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,050 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,050 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,050 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,050 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,050 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:17:19,050 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,050 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,050 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,051 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:19,051 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,052 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,052 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,052 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:17:19,053 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,053 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,053 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,055 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,055 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,055 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,056 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,056 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:17:19,056 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,056 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,056 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,057 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:17:19,057 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,057 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,058 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,058 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:17:19,058 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,058 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,058 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,061 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,061 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,061 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,147 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,147 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:17:19,147 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,147 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,147 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,150 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,150 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,150 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,150 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,150 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:17:19,150 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,151 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,151 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,152 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:19,152 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,152 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,152 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,153 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:17:19,153 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,153 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,153 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,155 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,155 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,156 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,156 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,156 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:17:19,156 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,156 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,156 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,157 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:17:19,157 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,158 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,158 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,158 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:17:19,158 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,158 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,158 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,161 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,161 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,161 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,186 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,186 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:17:19,187 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,187 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,187 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,189 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,189 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,189 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,189 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,190 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:17:19,190 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,190 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,190 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,191 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:19,191 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,191 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,191 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,192 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:17:19,192 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,192 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,192 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,194 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,194 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,194 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,195 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,195 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:17:19,195 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,195 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,195 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,199 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 4 ms with result: SqlDataReader

2017-11-29 17:17:19,199 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,200 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,200 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,200 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:17:19,200 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,201 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,201 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,203 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,203 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,203 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,238 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,238 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:17:19,238 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,238 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,238 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,241 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,241 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,241 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,241 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,241 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:17:19,241 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,241 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,241 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,242 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:19,242 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,242 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,243 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,243 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:17:19,243 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,243 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,243 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,246 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,246 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,246 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,247 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,247 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:17:19,247 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,247 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,247 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,248 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:17:19,248 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,248 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,249 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,249 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:17:19,249 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,249 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,249 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,252 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,252 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,252 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,315 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,315 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:17:19,315 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,315 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,315 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,318 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,318 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,318 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,318 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,318 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:17:19,318 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,318 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,318 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,319 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:19,320 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,320 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,320 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,321 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:17:19,321 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,321 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,321 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,323 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,323 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,323 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,324 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,324 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:17:19,324 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,324 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,324 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,325 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:17:19,325 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,325 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,325 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,326 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:17:19,326 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,326 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,326 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,328 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,328 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,328 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,357 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,357 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:17:19,357 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,357 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,357 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,360 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,360 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,360 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,360 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,360 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:17:19,360 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,360 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,360 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,361 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:19,361 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,361 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,362 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,362 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:17:19,362 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,362 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,362 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,365 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,365 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,365 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,366 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,366 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:17:19,366 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,366 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,366 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,367 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:17:19,367 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,367 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,367 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,368 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:17:19,368 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,368 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,368 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,370 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,370 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,370 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,407 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,407 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:17:19,407 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,407 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,407 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,409 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,409 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,410 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,410 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,410 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:17:19,410 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,410 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,410 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,411 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:19,411 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,411 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,412 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,412 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:17:19,412 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,412 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,412 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,415 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,415 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,415 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,415 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,416 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:17:19,416 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,416 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,416 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,417 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:19,417 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,417 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,418 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,418 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:17:19,418 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,418 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,418 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,421 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,421 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,421 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,451 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,452 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:17:19,452 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,452 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,452 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,455 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,455 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,455 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,455 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,455 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:17:19,455 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,455 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,455 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,456 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:19,456 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,457 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,457 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,457 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:17:19,457 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,457 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,457 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,460 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,460 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,460 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,461 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,461 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:17:19,461 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,461 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,461 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,462 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:19,462 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,462 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,463 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,463 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:17:19,463 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,463 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,463 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,466 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,466 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,466 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,473 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,473 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:17:19,474 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,474 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,474 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,476 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,476 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,476 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,476 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,477 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:17:19,477 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,477 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,477 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,478 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:19,478 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,478 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,478 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,479 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:17:19,479 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,479 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,479 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,481 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,481 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,482 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,482 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,482 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:17:19,482 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,482 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,483 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,484 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:17:19,484 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,484 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,484 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,485 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:17:19,485 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,485 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,485 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,487 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,487 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,487 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,521 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,521 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:17:19,521 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,521 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,522 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,524 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,524 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,524 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,524 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,525 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:17:19,525 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,525 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,525 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,526 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:19,526 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,526 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,527 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,527 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:17:19,527 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,527 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,527 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,530 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,530 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,530 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,531 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,531 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:17:19,531 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,531 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,531 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,532 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:19,532 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,533 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,533 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,533 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:17:19,533 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,533 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,533 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,536 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,536 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,536 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,559 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,560 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:17:19,560 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,560 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,560 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,564 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2017-11-29 17:17:19,564 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,564 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,564 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,564 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:17:19,564 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,564 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,564 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,566 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:19,566 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,566 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,566 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,567 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:17:19,567 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,567 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,567 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,570 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,570 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,570 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,570 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,571 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:17:19,571 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,571 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,571 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,573 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:19,573 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,573 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,573 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,573 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:17:19,573 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,573 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,573 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,576 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,576 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,576 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,601 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,602 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:17:19,602 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,602 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,602 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,604 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,604 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,605 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,605 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,605 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:17:19,605 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,605 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,605 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,606 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:19,606 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,606 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,607 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,607 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:17:19,608 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,608 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,608 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,610 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,610 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,611 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,611 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,611 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:17:19,611 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,611 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,612 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,613 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:19,614 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,614 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,614 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,615 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:17:19,615 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,615 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,615 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,618 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,618 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,618 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,627 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,627 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:17:19,627 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,627 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,627 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,630 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,630 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,630 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,631 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,631 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:17:19,631 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,631 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,631 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,633 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:19,633 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,633 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,634 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,634 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:17:19,634 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,634 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,634 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,636 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,637 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,637 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,637 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,640 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:17:19,640 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,640 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,640 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,641 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:17:19,641 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,641 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,641 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,642 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:17:19,642 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,642 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,642 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,645 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,645 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,645 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,673 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,674 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:17:19,674 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,674 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,674 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,677 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,677 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,677 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,677 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,677 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:17:19,677 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,677 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,677 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,678 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:19,678 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,678 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,679 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,679 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:17:19,679 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,679 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,679 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,682 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,682 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,682 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,683 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,683 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:17:19,683 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,683 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,683 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,685 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:19,685 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,685 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,685 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,686 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:17:19,686 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,686 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,686 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,688 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,688 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,688 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,723 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,724 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:17:19,724 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,724 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,724 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,727 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,727 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,727 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,727 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,727 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:17:19,727 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,728 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,728 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,729 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:19,729 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,729 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,730 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,730 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:17:19,730 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,730 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,731 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,733 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,733 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,734 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,734 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,735 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:17:19,735 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,735 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,735 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,736 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:19,736 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,736 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,736 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,737 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:17:19,737 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,737 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,737 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,740 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,740 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,740 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,754 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,754 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:17:19,754 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,755 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,755 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,757 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,757 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,757 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,758 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,758 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:17:19,758 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,758 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,758 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,759 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:19,759 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,759 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,760 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,760 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:17:19,760 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,760 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,760 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,763 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2017-11-29 17:17:19,763 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,764 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,764 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,765 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:17:19,765 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,765 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,765 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,766 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:19,766 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,766 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,767 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,767 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:17:19,767 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,767 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,767 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,770 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,770 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,770 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,806 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,806 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:17:19,806 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,806 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,806 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,809 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,809 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,810 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,810 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,810 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:17:19,810 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,810 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,810 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,811 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:19,811 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,811 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,812 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,812 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:17:19,812 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,812 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,812 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,815 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,815 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,815 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,816 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,816 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:17:19,816 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,816 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,816 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,818 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:19,818 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,818 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,818 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,819 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:17:19,819 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,819 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,819 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,822 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,822 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,822 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,859 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,860 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:17:19,860 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,860 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,860 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,862 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,862 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,863 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,864 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,864 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:17:19,864 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,864 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,864 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,865 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:19,865 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,865 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,866 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,866 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:17:19,867 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,867 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,867 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,869 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,869 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,870 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,870 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,870 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:17:19,870 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,871 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,871 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,872 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:17:19,872 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,872 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,872 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,873 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:17:19,873 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,873 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,873 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,875 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,875 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,876 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,889 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,890 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:17:19,890 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,890 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,890 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,893 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,893 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,893 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,893 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,893 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:17:19,893 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,893 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,893 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,894 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:19,894 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,895 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,895 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,895 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:17:19,896 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,896 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,896 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,898 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,898 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,899 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,899 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,899 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:17:19,899 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,899 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,899 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,901 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:19,901 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,901 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,901 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,902 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:17:19,902 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,902 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,902 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,905 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,905 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,905 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,912 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,916 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:17:19,916 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,916 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,916 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,919 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,919 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,919 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,920 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,920 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:17:19,920 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,920 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,920 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,921 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:19,921 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,921 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,922 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,922 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:17:19,922 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,922 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,922 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,925 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,925 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,925 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,925 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,926 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:17:19,926 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,926 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,926 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,927 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:19,927 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,927 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,927 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,928 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:17:19,928 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,928 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,928 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,936 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 8 ms with result: SqlDataReader

2017-11-29 17:17:19,937 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,937 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,959 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,961 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:17:19,961 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,961 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,961 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,964 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,964 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,964 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,964 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,964 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:17:19,964 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,964 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,964 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,969 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 4 ms with result: SqlDataReader

2017-11-29 17:17:19,969 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,969 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,970 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,971 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:17:19,971 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,971 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,971 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,973 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:19,974 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,974 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,974 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,975 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:17:19,975 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,975 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,975 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,976 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:19,976 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,976 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,976 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,977 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:17:19,977 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,977 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:19,977 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:19,981 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 4 ms with result: SqlDataReader

2017-11-29 17:17:19,981 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:19,981 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:19 +08:00

2017-11-29 17:17:20,008 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,009 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:17:20,009 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,009 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:20,009 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,011 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:20,011 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,012 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,012 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,012 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:17:20,012 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,012 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:20,012 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,013 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:20,013 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,013 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,014 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,015 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:17:20,015 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,015 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:20,015 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,018 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:20,018 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,018 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,018 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,019 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:17:20,019 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,019 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:20,019 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,020 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:20,020 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,020 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,020 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,021 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:17:20,021 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,021 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:20,021 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,024 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:20,024 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,024 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,043 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,044 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:17:20,044 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,044 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:20,044 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,046 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:20,046 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,047 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,047 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,047 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:17:20,047 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,047 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:20,047 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,049 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:20,049 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,050 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,050 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,051 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:17:20,051 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,051 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:20,051 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,053 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:20,054 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,054 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,054 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,055 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:17:20,055 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,055 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:20,055 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,056 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:17:20,056 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,056 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,056 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,057 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:17:20,057 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,057 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:20,057 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,059 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:20,059 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,059 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,071 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,071 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:17:20,071 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,071 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:20,072 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,074 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:20,074 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,074 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,075 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,075 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:17:20,075 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,075 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:20,075 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,076 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:20,076 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,076 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,076 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,077 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:17:20,077 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,077 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:20,077 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,079 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:20,079 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,080 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,080 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,081 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:17:20,081 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,081 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:20,081 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,082 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:20,082 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,082 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,082 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,083 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:17:20,083 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,083 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:20,083 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,085 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:20,085 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,086 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,117 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,118 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:17:20,118 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,118 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:20,118 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,121 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:20,121 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,121 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,121 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,121 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:17:20,121 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,121 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:20,121 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,122 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:20,123 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,123 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,123 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,124 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:17:20,124 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,124 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:20,124 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,126 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:20,126 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,127 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,127 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,127 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:17:20,127 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,127 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:20,127 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,128 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:17:20,128 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,128 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,129 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,129 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:17:20,129 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,129 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:20,129 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,249 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 119 ms with result: SqlDataReader

2017-11-29 17:17:20,249 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,249 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,258 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,259 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:17:20,259 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,259 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:20,259 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,261 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:20,261 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,261 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,261 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,261 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:17:20,261 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,261 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:20,261 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,262 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:17:20,263 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,263 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,264 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,265 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:17:20,265 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,265 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:20,265 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,267 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:20,267 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,267 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,268 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,268 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:17:20,268 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,268 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:20,268 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,269 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:17:20,269 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,269 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,269 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,270 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:17:20,270 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,270 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:20,270 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,272 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:20,272 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,273 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,299 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,300 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:17:20,300 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,300 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:20,300 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,302 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:20,302 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,303 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,303 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,303 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:17:20,303 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,303 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:20,303 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,304 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:20,304 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,304 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,305 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,306 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:17:20,306 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,306 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:20,306 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,308 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:20,308 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,309 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,309 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,310 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:17:20,310 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,310 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:20,310 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,311 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:17:20,311 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,311 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,311 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,311 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:17:20,312 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,312 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:20,312 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,314 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:20,314 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,314 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,342 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,343 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:17:20,343 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,343 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:20,343 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,345 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:20,345 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,346 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,346 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,346 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:17:20,346 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,346 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:20,346 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,347 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:20,347 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,348 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,349 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,349 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:17:20,349 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,349 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:20,349 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,352 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:20,352 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,352 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,353 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,353 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:17:20,353 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,353 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:20,353 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,354 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:20,354 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,354 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,355 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,355 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:17:20,355 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,355 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:20,355 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,358 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:20,358 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,358 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,372 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,372 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:17:20,372 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,372 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:20,372 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,375 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:20,375 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,375 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,375 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,375 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:17:20,375 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,375 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:20,375 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,377 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:20,377 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,377 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,377 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,378 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:17:20,378 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,378 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:20,378 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,380 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:20,380 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,381 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,381 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,381 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:17:20,382 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,382 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:20,382 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,383 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:20,383 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,383 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,383 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,384 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:17:20,385 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,385 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:20,385 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,388 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:20,388 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,388 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,443 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,444 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:17:20,444 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,444 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:20,444 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,447 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:20,447 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,447 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,447 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,447 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:17:20,447 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,447 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:20,447 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,449 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:20,449 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,449 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,449 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,450 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:17:20,450 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,450 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:20,450 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,452 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:20,452 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,453 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,454 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,454 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:17:20,454 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,454 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:20,454 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,455 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:20,455 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,456 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,456 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,456 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:17:20,456 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,456 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:20,456 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,459 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:20,459 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,459 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,945 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,946 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:17:20,946 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,946 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:20,946 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,949 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:20,949 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,949 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,950 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,950 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:17:20,950 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,950 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:17:20,950 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,951 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:20,951 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,951 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,952 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,953 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:17:20,953 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,953 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:20,953 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,956 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:20,956 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,956 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,957 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,957 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:17:20,957 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,957 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:20,957 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,958 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:17:20,958 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,959 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,959 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,959 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:17:20,960 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,960 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:17:20,960 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:17:20 +08:00

2017-11-29 17:17:20,962 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:17:20,962 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:17:20,963 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:17:20 +08:00

2017-11-29 17:23:42,078 [25] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:23:42 +08:00

2017-11-29 17:23:42,079 [25] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:23:42,079 [25] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:42,079 [25] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:23:42,079 [25] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:23:42 +08:00

2017-11-29 17:23:42,082 [25] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:23:42,082 [25] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:42,082 [25] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:23:42 +08:00

2017-11-29 17:23:42,082 [25] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:23:42 +08:00

2017-11-29 17:23:42,082 [25] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:23:42,082 [25] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:42,082 [25] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:23:42,082 [25] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:23:42 +08:00

2017-11-29 17:23:42,083 [25] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:23:42,083 [25] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:42,083 [25] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:23:42 +08:00

2017-11-29 17:23:42,084 [25] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:23:42 +08:00

2017-11-29 17:23:42,085 [25] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:23:42,085 [25] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:42,085 [25] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:23:42,085 [25] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:23:42 +08:00

2017-11-29 17:23:42,087 [25] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:23:42,087 [25] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:42,087 [25] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:23:42 +08:00

2017-11-29 17:23:42,088 [25] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:23:42 +08:00

2017-11-29 17:23:42,088 [25] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:23:42,088 [25] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:42,088 [25] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:23:42,088 [25] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:23:42 +08:00

2017-11-29 17:23:42,089 [25] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:23:42,089 [25] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:42,089 [25] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:23:42 +08:00

2017-11-29 17:23:42,090 [25] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:23:42 +08:00

2017-11-29 17:23:42,090 [25] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:23:42,090 [25] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:42,090 [25] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:23:42,090 [25] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:23:42 +08:00

2017-11-29 17:23:42,093 [25] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:23:42,093 [25] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:42,093 [25] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:23:42 +08:00

2017-11-29 17:23:48,987 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:23:48 +08:00

2017-11-29 17:23:48,987 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:23:48,988 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:48,988 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:23:48,988 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:23:48 +08:00

2017-11-29 17:23:49,018 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 30 ms with result: SqlDataReader

2017-11-29 17:23:49,018 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:49,019 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:23:49 +08:00

2017-11-29 17:23:49,019 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:23:49 +08:00

2017-11-29 17:23:49,019 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:23:49,019 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:49,019 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:23:49,019 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:23:49 +08:00

2017-11-29 17:23:49,020 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:23:49,020 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:49,020 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:23:49 +08:00

2017-11-29 17:23:49,021 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:23:49 +08:00

2017-11-29 17:23:49,021 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:23:49,021 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:49,021 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:23:49,021 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:23:49 +08:00

2017-11-29 17:23:49,024 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:23:49,024 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:49,024 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:23:49 +08:00

2017-11-29 17:23:49,025 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:23:49 +08:00

2017-11-29 17:23:49,025 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:23:49,025 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:49,025 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:23:49,025 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:23:49 +08:00

2017-11-29 17:23:49,026 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:23:49,026 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:49,027 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:23:49 +08:00

2017-11-29 17:23:49,027 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:23:49 +08:00

2017-11-29 17:23:49,027 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 6
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:23:49,028 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:49,028 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:23:49,028 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:23:49 +08:00

2017-11-29 17:23:49,030 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:23:49,031 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:49,031 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:23:49 +08:00

2017-11-29 17:23:52,334 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,334 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:23:52,335 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:52,335 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:23:52,335 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,337 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:23:52,337 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:52,338 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,338 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,338 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:23:52,338 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:52,338 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:23:52,338 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,339 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:23:52,339 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:52,339 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,340 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,340 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[NickName] AS [NickName], 
    [Extent1].[PhotoUrl] AS [PhotoUrl], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[Address] AS [Address], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[PassCount] AS [PassCount], 
    [Extent1].[WinCount] AS [WinCount], 
    [Extent1].[IsWon] AS [IsWon], 
    [Extent1].[ChangeTime] AS [ChangeTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:23:52,340 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:52,340 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '18' (Type = Int64, IsNullable = false)

2017-11-29 17:23:52,340 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,342 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:23:52,342 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:52,342 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,343 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,343 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Num] AS [Num], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[Description] AS [Description], 
    [Limit1].[ImgUrl] AS [ImgUrl], 
    [Limit1].[StatusId] AS [StatusId], 
    [Limit1].[WeChatUrl] AS [WeChatUrl], 
    [Limit1].[PaperId] AS [PaperId], 
    [Limit1].[PrizeName] AS [PrizeName], 
    [Limit1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Limit1].[VisitCount] AS [VisitCount], 
    [Limit1].[ForwardCount] AS [ForwardCount], 
    [Limit1].[AnswerCount] AS [AnswerCount], 
    [Limit1].[HavePrizeCount] AS [HavePrizeCount], 
    [Limit1].[PrizeCount] AS [PrizeCount], 
    [Limit1].[StartTime] AS [StartTime], 
    [Limit1].[ExamEndTime] AS [ExamEndTime], 
    [Limit1].[RewardTime] AS [RewardTime], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT TOP (2) 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Num] AS [Num], 
        [Extent1].[Name] AS [Name], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[ImgUrl] AS [ImgUrl], 
        [Extent1].[StatusId] AS [StatusId], 
        [Extent1].[WeChatUrl] AS [WeChatUrl], 
        [Extent1].[PaperId] AS [PaperId], 
        [Extent1].[PrizeName] AS [PrizeName], 
        [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
        [Extent1].[VisitCount] AS [VisitCount], 
        [Extent1].[ForwardCount] AS [ForwardCount], 
        [Extent1].[AnswerCount] AS [AnswerCount], 
        [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
        [Extent1].[PrizeCount] AS [PrizeCount], 
        [Extent1].[StartTime] AS [StartTime], 
        [Extent1].[ExamEndTime] AS [ExamEndTime], 
        [Extent1].[RewardTime] AS [RewardTime], 
        [Extent1].[IsDeleted] AS [IsDeleted], 
        [Extent1].[CreateDateTime] AS [CreateDateTime]
        FROM  [dbo].[T_Activities] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[ActivityId]
        WHERE ([Extent2].[UserId] = @p__linq__0) AND ([Extent1].[Id] = @p__linq__1)
    )  AS [Limit1]
2017-11-29 17:23:52,343 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:52,343 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '18' (Type = Int64, IsNullable = false)

2017-11-29 17:23:52,343 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:23:52,343 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,346 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:23:52,346 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:52,347 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,347 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,348 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Started transaction at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,348 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Activities]
SET [PrizeCount] = @0
WHERE ([Id] = @1)

2017-11-29 17:23:52,349 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '39' (Type = Int64)

2017-11-29 17:23:52,349 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '16' (Type = Int64)

2017-11-29 17:23:52,349 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,349 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: 1

2017-11-29 17:23:52,349 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:52,350 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Users]
SET [WinCount] = @0
WHERE ([Id] = @1)

2017-11-29 17:23:52,350 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '6' (Type = Int64)

2017-11-29 17:23:52,350 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '18' (Type = Int64)

2017-11-29 17:23:52,350 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,351 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: 1

2017-11-29 17:23:52,351 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:52,352 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Committed transaction at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,352 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,353 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,353 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[NickName] AS [NickName], 
    [Extent1].[PhotoUrl] AS [PhotoUrl], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[Address] AS [Address], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[PassCount] AS [PassCount], 
    [Extent1].[WinCount] AS [WinCount], 
    [Extent1].[IsWon] AS [IsWon], 
    [Extent1].[ChangeTime] AS [ChangeTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:23:52,353 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:52,353 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '18' (Type = Int64, IsNullable = false)

2017-11-29 17:23:52,353 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,356 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:23:52,356 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:52,356 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,356 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,357 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Started transaction at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,357 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Users]
SET [LoginErrorTimes] = @0
WHERE ([Id] = @1)

2017-11-29 17:23:52,357 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '0' (Type = Int32)

2017-11-29 17:23:52,357 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '18' (Type = Int64)

2017-11-29 17:23:52,357 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,359 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: 1

2017-11-29 17:23:52,359 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:52,360 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Committed transaction at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,360 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,361 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,361 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[NickName] AS [NickName], 
    [Extent1].[PhotoUrl] AS [PhotoUrl], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[Address] AS [Address], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[PassCount] AS [PassCount], 
    [Extent1].[WinCount] AS [WinCount], 
    [Extent1].[IsWon] AS [IsWon], 
    [Extent1].[ChangeTime] AS [ChangeTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:23:52,361 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:52,361 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '17' (Type = Int64, IsNullable = false)

2017-11-29 17:23:52,361 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,363 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:23:52,364 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:52,364 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,364 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,364 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Num] AS [Num], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[Description] AS [Description], 
    [Limit1].[ImgUrl] AS [ImgUrl], 
    [Limit1].[StatusId] AS [StatusId], 
    [Limit1].[WeChatUrl] AS [WeChatUrl], 
    [Limit1].[PaperId] AS [PaperId], 
    [Limit1].[PrizeName] AS [PrizeName], 
    [Limit1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Limit1].[VisitCount] AS [VisitCount], 
    [Limit1].[ForwardCount] AS [ForwardCount], 
    [Limit1].[AnswerCount] AS [AnswerCount], 
    [Limit1].[HavePrizeCount] AS [HavePrizeCount], 
    [Limit1].[PrizeCount] AS [PrizeCount], 
    [Limit1].[StartTime] AS [StartTime], 
    [Limit1].[ExamEndTime] AS [ExamEndTime], 
    [Limit1].[RewardTime] AS [RewardTime], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT TOP (2) 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Num] AS [Num], 
        [Extent1].[Name] AS [Name], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[ImgUrl] AS [ImgUrl], 
        [Extent1].[StatusId] AS [StatusId], 
        [Extent1].[WeChatUrl] AS [WeChatUrl], 
        [Extent1].[PaperId] AS [PaperId], 
        [Extent1].[PrizeName] AS [PrizeName], 
        [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
        [Extent1].[VisitCount] AS [VisitCount], 
        [Extent1].[ForwardCount] AS [ForwardCount], 
        [Extent1].[AnswerCount] AS [AnswerCount], 
        [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
        [Extent1].[PrizeCount] AS [PrizeCount], 
        [Extent1].[StartTime] AS [StartTime], 
        [Extent1].[ExamEndTime] AS [ExamEndTime], 
        [Extent1].[RewardTime] AS [RewardTime], 
        [Extent1].[IsDeleted] AS [IsDeleted], 
        [Extent1].[CreateDateTime] AS [CreateDateTime]
        FROM  [dbo].[T_Activities] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[ActivityId]
        WHERE ([Extent2].[UserId] = @p__linq__0) AND ([Extent1].[Id] = @p__linq__1)
    )  AS [Limit1]
2017-11-29 17:23:52,364 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:52,365 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '17' (Type = Int64, IsNullable = false)

2017-11-29 17:23:52,365 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:23:52,365 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,367 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:23:52,367 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:52,367 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,368 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,369 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Started transaction at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,369 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Activities]
SET [PrizeCount] = @0
WHERE ([Id] = @1)

2017-11-29 17:23:52,369 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '40' (Type = Int64)

2017-11-29 17:23:52,369 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '16' (Type = Int64)

2017-11-29 17:23:52,369 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,370 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: 1

2017-11-29 17:23:52,370 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:52,370 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Users]
SET [WinCount] = @0
WHERE ([Id] = @1)

2017-11-29 17:23:52,370 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '6' (Type = Int64)

2017-11-29 17:23:52,370 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '17' (Type = Int64)

2017-11-29 17:23:52,370 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,371 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: 1

2017-11-29 17:23:52,371 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:52,373 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Committed transaction at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,373 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,373 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,374 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[NickName] AS [NickName], 
    [Extent1].[PhotoUrl] AS [PhotoUrl], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[Address] AS [Address], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[PassCount] AS [PassCount], 
    [Extent1].[WinCount] AS [WinCount], 
    [Extent1].[IsWon] AS [IsWon], 
    [Extent1].[ChangeTime] AS [ChangeTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:23:52,374 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:52,374 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '17' (Type = Int64, IsNullable = false)

2017-11-29 17:23:52,374 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,376 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:23:52,376 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:52,376 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,377 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,378 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Started transaction at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,378 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Users]
SET [LoginErrorTimes] = @0
WHERE ([Id] = @1)

2017-11-29 17:23:52,378 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '0' (Type = Int32)

2017-11-29 17:23:52,378 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '17' (Type = Int64)

2017-11-29 17:23:52,378 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,379 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: 1

2017-11-29 17:23:52,379 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:52,380 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Committed transaction at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,380 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,381 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,381 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[NickName] AS [NickName], 
    [Extent1].[PhotoUrl] AS [PhotoUrl], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[Address] AS [Address], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[PassCount] AS [PassCount], 
    [Extent1].[WinCount] AS [WinCount], 
    [Extent1].[IsWon] AS [IsWon], 
    [Extent1].[ChangeTime] AS [ChangeTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:23:52,381 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:52,381 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:23:52,381 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,384 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:23:52,384 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:52,384 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,384 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,385 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Num] AS [Num], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[Description] AS [Description], 
    [Limit1].[ImgUrl] AS [ImgUrl], 
    [Limit1].[StatusId] AS [StatusId], 
    [Limit1].[WeChatUrl] AS [WeChatUrl], 
    [Limit1].[PaperId] AS [PaperId], 
    [Limit1].[PrizeName] AS [PrizeName], 
    [Limit1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Limit1].[VisitCount] AS [VisitCount], 
    [Limit1].[ForwardCount] AS [ForwardCount], 
    [Limit1].[AnswerCount] AS [AnswerCount], 
    [Limit1].[HavePrizeCount] AS [HavePrizeCount], 
    [Limit1].[PrizeCount] AS [PrizeCount], 
    [Limit1].[StartTime] AS [StartTime], 
    [Limit1].[ExamEndTime] AS [ExamEndTime], 
    [Limit1].[RewardTime] AS [RewardTime], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT TOP (2) 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Num] AS [Num], 
        [Extent1].[Name] AS [Name], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[ImgUrl] AS [ImgUrl], 
        [Extent1].[StatusId] AS [StatusId], 
        [Extent1].[WeChatUrl] AS [WeChatUrl], 
        [Extent1].[PaperId] AS [PaperId], 
        [Extent1].[PrizeName] AS [PrizeName], 
        [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
        [Extent1].[VisitCount] AS [VisitCount], 
        [Extent1].[ForwardCount] AS [ForwardCount], 
        [Extent1].[AnswerCount] AS [AnswerCount], 
        [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
        [Extent1].[PrizeCount] AS [PrizeCount], 
        [Extent1].[StartTime] AS [StartTime], 
        [Extent1].[ExamEndTime] AS [ExamEndTime], 
        [Extent1].[RewardTime] AS [RewardTime], 
        [Extent1].[IsDeleted] AS [IsDeleted], 
        [Extent1].[CreateDateTime] AS [CreateDateTime]
        FROM  [dbo].[T_Activities] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[ActivityId]
        WHERE ([Extent2].[UserId] = @p__linq__0) AND ([Extent1].[Id] = @p__linq__1)
    )  AS [Limit1]
2017-11-29 17:23:52,385 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:52,385 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:23:52,385 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:23:52,385 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,388 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:23:52,388 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:52,388 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,388 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,389 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Started transaction at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,390 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Activities]
SET [PrizeCount] = @0
WHERE ([Id] = @1)

2017-11-29 17:23:52,390 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '41' (Type = Int64)

2017-11-29 17:23:52,390 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '16' (Type = Int64)

2017-11-29 17:23:52,390 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,391 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: 1

2017-11-29 17:23:52,391 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:52,391 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Users]
SET [WinCount] = @0
WHERE ([Id] = @1)

2017-11-29 17:23:52,391 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '6' (Type = Int64)

2017-11-29 17:23:52,391 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '16' (Type = Int64)

2017-11-29 17:23:52,391 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,392 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: 1

2017-11-29 17:23:52,392 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:52,393 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Committed transaction at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,393 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,394 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,395 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[NickName] AS [NickName], 
    [Extent1].[PhotoUrl] AS [PhotoUrl], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[Address] AS [Address], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[PassCount] AS [PassCount], 
    [Extent1].[WinCount] AS [WinCount], 
    [Extent1].[IsWon] AS [IsWon], 
    [Extent1].[ChangeTime] AS [ChangeTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:23:52,395 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:52,395 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:23:52,395 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,397 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:23:52,397 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:52,397 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,398 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,399 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Started transaction at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,399 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Users]
SET [LoginErrorTimes] = @0
WHERE ([Id] = @1)

2017-11-29 17:23:52,399 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '0' (Type = Int32)

2017-11-29 17:23:52,399 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '16' (Type = Int64)

2017-11-29 17:23:52,399 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,400 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: 1

2017-11-29 17:23:52,400 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:52,401 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Committed transaction at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:52,401 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:23:52 +08:00

2017-11-29 17:23:54,135 [29] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:23:54 +08:00

2017-11-29 17:23:54,135 [29] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:23:54,135 [29] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:54,135 [29] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:23:54,136 [29] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:23:54 +08:00

2017-11-29 17:23:54,138 [29] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:23:54,138 [29] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:54,138 [29] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:23:54 +08:00

2017-11-29 17:23:54,138 [29] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:23:54 +08:00

2017-11-29 17:23:54,139 [29] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:23:54,139 [29] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:54,139 [29] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:23:54,139 [29] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:23:54 +08:00

2017-11-29 17:23:54,140 [29] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:23:54,140 [29] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:54,140 [29] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:23:54 +08:00

2017-11-29 17:23:54,141 [29] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:23:54 +08:00

2017-11-29 17:23:54,141 [29] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:23:54,141 [29] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:54,141 [29] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:23:54,141 [29] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:23:54 +08:00

2017-11-29 17:23:54,144 [29] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:23:54,144 [29] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:54,144 [29] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:23:54 +08:00

2017-11-29 17:23:54,144 [29] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:23:54 +08:00

2017-11-29 17:23:54,145 [29] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:23:54,145 [29] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:54,145 [29] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:23:54,145 [29] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:23:54 +08:00

2017-11-29 17:23:54,146 [29] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:23:54,146 [29] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:54,146 [29] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:23:54 +08:00

2017-11-29 17:23:54,146 [29] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:23:54 +08:00

2017-11-29 17:23:54,147 [29] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 6
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:23:54,147 [29] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:54,147 [29] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:23:54,147 [29] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:23:54 +08:00

2017-11-29 17:23:54,149 [29] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:23:54,149 [29] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:54,150 [29] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:23:54 +08:00

2017-11-29 17:23:54,207 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:23:54 +08:00

2017-11-29 17:23:54,207 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:23:54,207 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:54,207 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:23:54,207 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:23:54 +08:00

2017-11-29 17:23:54,210 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:23:54,210 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:54,210 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:23:54 +08:00

2017-11-29 17:23:54,210 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:23:54 +08:00

2017-11-29 17:23:54,210 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:23:54,210 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:54,211 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:23:54,211 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:23:54 +08:00

2017-11-29 17:23:54,212 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:23:54,212 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:54,212 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:23:54 +08:00

2017-11-29 17:23:54,213 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:23:54 +08:00

2017-11-29 17:23:54,213 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:23:54,213 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:54,213 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:23:54,213 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:23:54 +08:00

2017-11-29 17:23:54,216 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:23:54,216 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:54,216 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:23:54 +08:00

2017-11-29 17:23:54,216 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:23:54 +08:00

2017-11-29 17:23:54,217 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:23:54,217 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:54,217 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:23:54,217 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:23:54 +08:00

2017-11-29 17:23:54,218 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:23:54,218 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:54,218 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:23:54 +08:00

2017-11-29 17:23:54,218 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:23:54 +08:00

2017-11-29 17:23:54,219 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 3
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:23:54,219 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:54,219 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:23:54,219 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:23:54 +08:00

2017-11-29 17:23:54,222 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:23:54,222 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:23:54,222 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:23:54 +08:00

2017-11-29 17:24:02,009 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,009 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:24:02,009 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:02,009 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:24:02,010 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,012 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:24:02,012 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:02,012 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,012 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,013 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:24:02,013 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:02,013 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:24:02,013 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,014 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:24:02,014 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:02,014 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,015 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,015 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[NickName] AS [NickName], 
    [Extent1].[PhotoUrl] AS [PhotoUrl], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[Address] AS [Address], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[PassCount] AS [PassCount], 
    [Extent1].[WinCount] AS [WinCount], 
    [Extent1].[IsWon] AS [IsWon], 
    [Extent1].[ChangeTime] AS [ChangeTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:24:02,015 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:02,015 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '21' (Type = Int64, IsNullable = false)

2017-11-29 17:24:02,015 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,017 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:24:02,017 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:02,017 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,017 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,018 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Num] AS [Num], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[Description] AS [Description], 
    [Limit1].[ImgUrl] AS [ImgUrl], 
    [Limit1].[StatusId] AS [StatusId], 
    [Limit1].[WeChatUrl] AS [WeChatUrl], 
    [Limit1].[PaperId] AS [PaperId], 
    [Limit1].[PrizeName] AS [PrizeName], 
    [Limit1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Limit1].[VisitCount] AS [VisitCount], 
    [Limit1].[ForwardCount] AS [ForwardCount], 
    [Limit1].[AnswerCount] AS [AnswerCount], 
    [Limit1].[HavePrizeCount] AS [HavePrizeCount], 
    [Limit1].[PrizeCount] AS [PrizeCount], 
    [Limit1].[StartTime] AS [StartTime], 
    [Limit1].[ExamEndTime] AS [ExamEndTime], 
    [Limit1].[RewardTime] AS [RewardTime], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT TOP (2) 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Num] AS [Num], 
        [Extent1].[Name] AS [Name], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[ImgUrl] AS [ImgUrl], 
        [Extent1].[StatusId] AS [StatusId], 
        [Extent1].[WeChatUrl] AS [WeChatUrl], 
        [Extent1].[PaperId] AS [PaperId], 
        [Extent1].[PrizeName] AS [PrizeName], 
        [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
        [Extent1].[VisitCount] AS [VisitCount], 
        [Extent1].[ForwardCount] AS [ForwardCount], 
        [Extent1].[AnswerCount] AS [AnswerCount], 
        [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
        [Extent1].[PrizeCount] AS [PrizeCount], 
        [Extent1].[StartTime] AS [StartTime], 
        [Extent1].[ExamEndTime] AS [ExamEndTime], 
        [Extent1].[RewardTime] AS [RewardTime], 
        [Extent1].[IsDeleted] AS [IsDeleted], 
        [Extent1].[CreateDateTime] AS [CreateDateTime]
        FROM  [dbo].[T_Activities] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[ActivityId]
        WHERE ([Extent2].[UserId] = @p__linq__0) AND ([Extent1].[Id] = @p__linq__1)
    )  AS [Limit1]
2017-11-29 17:24:02,018 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:02,018 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '21' (Type = Int64, IsNullable = false)

2017-11-29 17:24:02,018 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:24:02,018 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,020 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:24:02,020 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:02,021 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,021 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,022 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Started transaction at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,022 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Activities]
SET [PrizeCount] = @0
WHERE ([Id] = @1)

2017-11-29 17:24:02,022 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '42' (Type = Int64)

2017-11-29 17:24:02,022 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '16' (Type = Int64)

2017-11-29 17:24:02,023 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,023 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: 1

2017-11-29 17:24:02,023 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:02,023 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Users]
SET [WinCount] = @0
WHERE ([Id] = @1)

2017-11-29 17:24:02,023 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '5' (Type = Int64)

2017-11-29 17:24:02,024 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '21' (Type = Int64)

2017-11-29 17:24:02,024 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,025 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: 1

2017-11-29 17:24:02,025 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:02,026 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Committed transaction at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,026 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,027 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,027 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[NickName] AS [NickName], 
    [Extent1].[PhotoUrl] AS [PhotoUrl], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[Address] AS [Address], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[PassCount] AS [PassCount], 
    [Extent1].[WinCount] AS [WinCount], 
    [Extent1].[IsWon] AS [IsWon], 
    [Extent1].[ChangeTime] AS [ChangeTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:24:02,027 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:02,027 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '21' (Type = Int64, IsNullable = false)

2017-11-29 17:24:02,027 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,029 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:24:02,029 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:02,030 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,030 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,031 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Started transaction at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,031 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Users]
SET [LoginErrorTimes] = @0
WHERE ([Id] = @1)

2017-11-29 17:24:02,031 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '0' (Type = Int32)

2017-11-29 17:24:02,031 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '21' (Type = Int64)

2017-11-29 17:24:02,031 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,032 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: 1

2017-11-29 17:24:02,032 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:02,034 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Committed transaction at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,034 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,034 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,034 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[NickName] AS [NickName], 
    [Extent1].[PhotoUrl] AS [PhotoUrl], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[Address] AS [Address], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[PassCount] AS [PassCount], 
    [Extent1].[WinCount] AS [WinCount], 
    [Extent1].[IsWon] AS [IsWon], 
    [Extent1].[ChangeTime] AS [ChangeTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:24:02,034 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:02,035 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '20' (Type = Int64, IsNullable = false)

2017-11-29 17:24:02,035 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,037 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:24:02,037 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:02,037 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,037 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,038 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Num] AS [Num], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[Description] AS [Description], 
    [Limit1].[ImgUrl] AS [ImgUrl], 
    [Limit1].[StatusId] AS [StatusId], 
    [Limit1].[WeChatUrl] AS [WeChatUrl], 
    [Limit1].[PaperId] AS [PaperId], 
    [Limit1].[PrizeName] AS [PrizeName], 
    [Limit1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Limit1].[VisitCount] AS [VisitCount], 
    [Limit1].[ForwardCount] AS [ForwardCount], 
    [Limit1].[AnswerCount] AS [AnswerCount], 
    [Limit1].[HavePrizeCount] AS [HavePrizeCount], 
    [Limit1].[PrizeCount] AS [PrizeCount], 
    [Limit1].[StartTime] AS [StartTime], 
    [Limit1].[ExamEndTime] AS [ExamEndTime], 
    [Limit1].[RewardTime] AS [RewardTime], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT TOP (2) 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Num] AS [Num], 
        [Extent1].[Name] AS [Name], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[ImgUrl] AS [ImgUrl], 
        [Extent1].[StatusId] AS [StatusId], 
        [Extent1].[WeChatUrl] AS [WeChatUrl], 
        [Extent1].[PaperId] AS [PaperId], 
        [Extent1].[PrizeName] AS [PrizeName], 
        [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
        [Extent1].[VisitCount] AS [VisitCount], 
        [Extent1].[ForwardCount] AS [ForwardCount], 
        [Extent1].[AnswerCount] AS [AnswerCount], 
        [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
        [Extent1].[PrizeCount] AS [PrizeCount], 
        [Extent1].[StartTime] AS [StartTime], 
        [Extent1].[ExamEndTime] AS [ExamEndTime], 
        [Extent1].[RewardTime] AS [RewardTime], 
        [Extent1].[IsDeleted] AS [IsDeleted], 
        [Extent1].[CreateDateTime] AS [CreateDateTime]
        FROM  [dbo].[T_Activities] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[ActivityId]
        WHERE ([Extent2].[UserId] = @p__linq__0) AND ([Extent1].[Id] = @p__linq__1)
    )  AS [Limit1]
2017-11-29 17:24:02,038 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:02,038 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '20' (Type = Int64, IsNullable = false)

2017-11-29 17:24:02,038 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:24:02,038 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,041 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:24:02,041 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:02,041 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,041 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,042 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Started transaction at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,042 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Activities]
SET [PrizeCount] = @0
WHERE ([Id] = @1)

2017-11-29 17:24:02,042 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '43' (Type = Int64)

2017-11-29 17:24:02,043 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '16' (Type = Int64)

2017-11-29 17:24:02,043 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,043 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: 1

2017-11-29 17:24:02,043 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:02,043 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Users]
SET [WinCount] = @0
WHERE ([Id] = @1)

2017-11-29 17:24:02,043 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '5' (Type = Int64)

2017-11-29 17:24:02,044 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '20' (Type = Int64)

2017-11-29 17:24:02,044 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,045 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: 1

2017-11-29 17:24:02,045 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:02,046 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Committed transaction at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,046 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,047 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,047 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[NickName] AS [NickName], 
    [Extent1].[PhotoUrl] AS [PhotoUrl], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[Address] AS [Address], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[PassCount] AS [PassCount], 
    [Extent1].[WinCount] AS [WinCount], 
    [Extent1].[IsWon] AS [IsWon], 
    [Extent1].[ChangeTime] AS [ChangeTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:24:02,047 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:02,047 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '20' (Type = Int64, IsNullable = false)

2017-11-29 17:24:02,047 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,049 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:24:02,049 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:02,049 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,050 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,050 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Started transaction at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,051 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Users]
SET [LoginErrorTimes] = @0
WHERE ([Id] = @1)

2017-11-29 17:24:02,051 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '0' (Type = Int32)

2017-11-29 17:24:02,051 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '20' (Type = Int64)

2017-11-29 17:24:02,051 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,052 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: 1

2017-11-29 17:24:02,052 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:02,053 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Committed transaction at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,053 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,054 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,054 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[NickName] AS [NickName], 
    [Extent1].[PhotoUrl] AS [PhotoUrl], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[Address] AS [Address], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[PassCount] AS [PassCount], 
    [Extent1].[WinCount] AS [WinCount], 
    [Extent1].[IsWon] AS [IsWon], 
    [Extent1].[ChangeTime] AS [ChangeTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:24:02,054 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:02,054 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '19' (Type = Int64, IsNullable = false)

2017-11-29 17:24:02,054 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,056 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:24:02,056 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:02,057 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,057 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,057 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Num] AS [Num], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[Description] AS [Description], 
    [Limit1].[ImgUrl] AS [ImgUrl], 
    [Limit1].[StatusId] AS [StatusId], 
    [Limit1].[WeChatUrl] AS [WeChatUrl], 
    [Limit1].[PaperId] AS [PaperId], 
    [Limit1].[PrizeName] AS [PrizeName], 
    [Limit1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Limit1].[VisitCount] AS [VisitCount], 
    [Limit1].[ForwardCount] AS [ForwardCount], 
    [Limit1].[AnswerCount] AS [AnswerCount], 
    [Limit1].[HavePrizeCount] AS [HavePrizeCount], 
    [Limit1].[PrizeCount] AS [PrizeCount], 
    [Limit1].[StartTime] AS [StartTime], 
    [Limit1].[ExamEndTime] AS [ExamEndTime], 
    [Limit1].[RewardTime] AS [RewardTime], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT TOP (2) 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Num] AS [Num], 
        [Extent1].[Name] AS [Name], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[ImgUrl] AS [ImgUrl], 
        [Extent1].[StatusId] AS [StatusId], 
        [Extent1].[WeChatUrl] AS [WeChatUrl], 
        [Extent1].[PaperId] AS [PaperId], 
        [Extent1].[PrizeName] AS [PrizeName], 
        [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
        [Extent1].[VisitCount] AS [VisitCount], 
        [Extent1].[ForwardCount] AS [ForwardCount], 
        [Extent1].[AnswerCount] AS [AnswerCount], 
        [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
        [Extent1].[PrizeCount] AS [PrizeCount], 
        [Extent1].[StartTime] AS [StartTime], 
        [Extent1].[ExamEndTime] AS [ExamEndTime], 
        [Extent1].[RewardTime] AS [RewardTime], 
        [Extent1].[IsDeleted] AS [IsDeleted], 
        [Extent1].[CreateDateTime] AS [CreateDateTime]
        FROM  [dbo].[T_Activities] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[ActivityId]
        WHERE ([Extent2].[UserId] = @p__linq__0) AND ([Extent1].[Id] = @p__linq__1)
    )  AS [Limit1]
2017-11-29 17:24:02,057 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:02,057 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '19' (Type = Int64, IsNullable = false)

2017-11-29 17:24:02,057 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:24:02,057 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,060 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:24:02,060 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:02,060 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,061 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,062 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Started transaction at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,062 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Activities]
SET [PrizeCount] = @0
WHERE ([Id] = @1)

2017-11-29 17:24:02,062 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '44' (Type = Int64)

2017-11-29 17:24:02,062 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '16' (Type = Int64)

2017-11-29 17:24:02,062 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,063 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: 1

2017-11-29 17:24:02,063 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:02,063 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Users]
SET [WinCount] = @0
WHERE ([Id] = @1)

2017-11-29 17:24:02,063 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '6' (Type = Int64)

2017-11-29 17:24:02,063 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '19' (Type = Int64)

2017-11-29 17:24:02,063 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,064 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: 1

2017-11-29 17:24:02,064 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:02,065 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Committed transaction at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,065 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,066 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,066 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[NickName] AS [NickName], 
    [Extent1].[PhotoUrl] AS [PhotoUrl], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[Address] AS [Address], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[PassCount] AS [PassCount], 
    [Extent1].[WinCount] AS [WinCount], 
    [Extent1].[IsWon] AS [IsWon], 
    [Extent1].[ChangeTime] AS [ChangeTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:24:02,066 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:02,066 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '19' (Type = Int64, IsNullable = false)

2017-11-29 17:24:02,066 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,069 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:24:02,069 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:02,069 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,069 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,070 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Started transaction at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,071 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Users]
SET [LoginErrorTimes] = @0
WHERE ([Id] = @1)

2017-11-29 17:24:02,071 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '0' (Type = Int32)

2017-11-29 17:24:02,071 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '19' (Type = Int64)

2017-11-29 17:24:02,071 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,071 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: 1

2017-11-29 17:24:02,071 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:02,073 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Committed transaction at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:02,073 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:24:02 +08:00

2017-11-29 17:24:03,102 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:24:03 +08:00

2017-11-29 17:24:03,103 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:24:03,103 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:03,103 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:24:03,103 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:03 +08:00

2017-11-29 17:24:03,105 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:24:03,105 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:03,106 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:24:03 +08:00

2017-11-29 17:24:03,106 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:24:03 +08:00

2017-11-29 17:24:03,106 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:24:03,106 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:03,106 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:24:03,106 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:03 +08:00

2017-11-29 17:24:03,107 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:24:03,107 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:03,107 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:24:03 +08:00

2017-11-29 17:24:03,108 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:24:03 +08:00

2017-11-29 17:24:03,108 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:24:03,108 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:03,108 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:24:03,108 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:03 +08:00

2017-11-29 17:24:03,111 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:24:03,111 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:03,111 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:24:03 +08:00

2017-11-29 17:24:03,112 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:24:03 +08:00

2017-11-29 17:24:03,112 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:24:03,112 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:03,112 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:24:03,113 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:03 +08:00

2017-11-29 17:24:03,113 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:24:03,114 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:03,114 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:24:03 +08:00

2017-11-29 17:24:03,114 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:24:03 +08:00

2017-11-29 17:24:03,114 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 3
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:24:03,114 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:03,114 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:24:03,115 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:03 +08:00

2017-11-29 17:24:03,117 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:24:03,117 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:03,117 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:24:03 +08:00

2017-11-29 17:24:03,189 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:24:03 +08:00

2017-11-29 17:24:03,195 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:24:03,195 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:03,195 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:24:03,195 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:03 +08:00

2017-11-29 17:24:03,198 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:24:03,198 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:03,198 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:24:03 +08:00

2017-11-29 17:24:03,198 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:24:03 +08:00

2017-11-29 17:24:03,198 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:24:03,198 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:03,198 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:24:03,198 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:03 +08:00

2017-11-29 17:24:03,199 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:24:03,199 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:03,199 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:24:03 +08:00

2017-11-29 17:24:03,200 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:24:03 +08:00

2017-11-29 17:24:03,200 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:24:03,201 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:03,201 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:24:03,201 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:03 +08:00

2017-11-29 17:24:03,203 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:24:03,203 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:03,203 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:24:03 +08:00

2017-11-29 17:24:03,204 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:24:03 +08:00

2017-11-29 17:24:03,204 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:24:03,204 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:03,204 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:24:03,204 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:03 +08:00

2017-11-29 17:24:03,205 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:24:03,205 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:03,205 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:24:03 +08:00

2017-11-29 17:24:03,205 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:24:03 +08:00

2017-11-29 17:24:03,206 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:24:03,206 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:03,206 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:24:03,206 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:03 +08:00

2017-11-29 17:24:03,208 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:24:03,209 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:03,209 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:24:03 +08:00

2017-11-29 17:24:06,149 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,150 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:24:06,150 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:06,150 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:24:06,150 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,153 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:24:06,153 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:06,153 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,154 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,154 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:24:06,154 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:06,154 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:24:06,154 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,155 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:24:06,155 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:06,155 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,156 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,156 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[NickName] AS [NickName], 
    [Extent1].[PhotoUrl] AS [PhotoUrl], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[Address] AS [Address], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[PassCount] AS [PassCount], 
    [Extent1].[WinCount] AS [WinCount], 
    [Extent1].[IsWon] AS [IsWon], 
    [Extent1].[ChangeTime] AS [ChangeTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:24:06,156 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:06,156 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '24' (Type = Int64, IsNullable = false)

2017-11-29 17:24:06,156 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,158 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:24:06,158 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:06,159 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,159 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,159 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Num] AS [Num], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[Description] AS [Description], 
    [Limit1].[ImgUrl] AS [ImgUrl], 
    [Limit1].[StatusId] AS [StatusId], 
    [Limit1].[WeChatUrl] AS [WeChatUrl], 
    [Limit1].[PaperId] AS [PaperId], 
    [Limit1].[PrizeName] AS [PrizeName], 
    [Limit1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Limit1].[VisitCount] AS [VisitCount], 
    [Limit1].[ForwardCount] AS [ForwardCount], 
    [Limit1].[AnswerCount] AS [AnswerCount], 
    [Limit1].[HavePrizeCount] AS [HavePrizeCount], 
    [Limit1].[PrizeCount] AS [PrizeCount], 
    [Limit1].[StartTime] AS [StartTime], 
    [Limit1].[ExamEndTime] AS [ExamEndTime], 
    [Limit1].[RewardTime] AS [RewardTime], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT TOP (2) 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Num] AS [Num], 
        [Extent1].[Name] AS [Name], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[ImgUrl] AS [ImgUrl], 
        [Extent1].[StatusId] AS [StatusId], 
        [Extent1].[WeChatUrl] AS [WeChatUrl], 
        [Extent1].[PaperId] AS [PaperId], 
        [Extent1].[PrizeName] AS [PrizeName], 
        [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
        [Extent1].[VisitCount] AS [VisitCount], 
        [Extent1].[ForwardCount] AS [ForwardCount], 
        [Extent1].[AnswerCount] AS [AnswerCount], 
        [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
        [Extent1].[PrizeCount] AS [PrizeCount], 
        [Extent1].[StartTime] AS [StartTime], 
        [Extent1].[ExamEndTime] AS [ExamEndTime], 
        [Extent1].[RewardTime] AS [RewardTime], 
        [Extent1].[IsDeleted] AS [IsDeleted], 
        [Extent1].[CreateDateTime] AS [CreateDateTime]
        FROM  [dbo].[T_Activities] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[ActivityId]
        WHERE ([Extent2].[UserId] = @p__linq__0) AND ([Extent1].[Id] = @p__linq__1)
    )  AS [Limit1]
2017-11-29 17:24:06,159 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:06,159 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '24' (Type = Int64, IsNullable = false)

2017-11-29 17:24:06,159 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:24:06,160 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,163 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:24:06,163 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:06,163 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,163 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,164 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Started transaction at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,165 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Activities]
SET [PrizeCount] = @0
WHERE ([Id] = @1)

2017-11-29 17:24:06,165 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '45' (Type = Int64)

2017-11-29 17:24:06,165 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '16' (Type = Int64)

2017-11-29 17:24:06,165 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,166 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: 1

2017-11-29 17:24:06,166 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:06,166 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Users]
SET [WinCount] = @0
WHERE ([Id] = @1)

2017-11-29 17:24:06,166 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '3' (Type = Int64)

2017-11-29 17:24:06,166 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '24' (Type = Int64)

2017-11-29 17:24:06,166 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,167 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: 1

2017-11-29 17:24:06,167 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:06,168 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Committed transaction at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,168 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,169 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,169 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[NickName] AS [NickName], 
    [Extent1].[PhotoUrl] AS [PhotoUrl], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[Address] AS [Address], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[PassCount] AS [PassCount], 
    [Extent1].[WinCount] AS [WinCount], 
    [Extent1].[IsWon] AS [IsWon], 
    [Extent1].[ChangeTime] AS [ChangeTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:24:06,169 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:06,169 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '24' (Type = Int64, IsNullable = false)

2017-11-29 17:24:06,169 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,172 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:24:06,172 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:06,172 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,172 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,173 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Started transaction at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,173 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Users]
SET [LoginErrorTimes] = @0
WHERE ([Id] = @1)

2017-11-29 17:24:06,173 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '0' (Type = Int32)

2017-11-29 17:24:06,173 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '24' (Type = Int64)

2017-11-29 17:24:06,173 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,174 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: 1

2017-11-29 17:24:06,174 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:06,176 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Committed transaction at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,176 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,177 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,177 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[NickName] AS [NickName], 
    [Extent1].[PhotoUrl] AS [PhotoUrl], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[Address] AS [Address], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[PassCount] AS [PassCount], 
    [Extent1].[WinCount] AS [WinCount], 
    [Extent1].[IsWon] AS [IsWon], 
    [Extent1].[ChangeTime] AS [ChangeTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:24:06,177 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:06,177 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '23' (Type = Int64, IsNullable = false)

2017-11-29 17:24:06,177 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,179 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:24:06,179 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:06,179 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,179 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,180 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Num] AS [Num], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[Description] AS [Description], 
    [Limit1].[ImgUrl] AS [ImgUrl], 
    [Limit1].[StatusId] AS [StatusId], 
    [Limit1].[WeChatUrl] AS [WeChatUrl], 
    [Limit1].[PaperId] AS [PaperId], 
    [Limit1].[PrizeName] AS [PrizeName], 
    [Limit1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Limit1].[VisitCount] AS [VisitCount], 
    [Limit1].[ForwardCount] AS [ForwardCount], 
    [Limit1].[AnswerCount] AS [AnswerCount], 
    [Limit1].[HavePrizeCount] AS [HavePrizeCount], 
    [Limit1].[PrizeCount] AS [PrizeCount], 
    [Limit1].[StartTime] AS [StartTime], 
    [Limit1].[ExamEndTime] AS [ExamEndTime], 
    [Limit1].[RewardTime] AS [RewardTime], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT TOP (2) 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Num] AS [Num], 
        [Extent1].[Name] AS [Name], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[ImgUrl] AS [ImgUrl], 
        [Extent1].[StatusId] AS [StatusId], 
        [Extent1].[WeChatUrl] AS [WeChatUrl], 
        [Extent1].[PaperId] AS [PaperId], 
        [Extent1].[PrizeName] AS [PrizeName], 
        [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
        [Extent1].[VisitCount] AS [VisitCount], 
        [Extent1].[ForwardCount] AS [ForwardCount], 
        [Extent1].[AnswerCount] AS [AnswerCount], 
        [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
        [Extent1].[PrizeCount] AS [PrizeCount], 
        [Extent1].[StartTime] AS [StartTime], 
        [Extent1].[ExamEndTime] AS [ExamEndTime], 
        [Extent1].[RewardTime] AS [RewardTime], 
        [Extent1].[IsDeleted] AS [IsDeleted], 
        [Extent1].[CreateDateTime] AS [CreateDateTime]
        FROM  [dbo].[T_Activities] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[ActivityId]
        WHERE ([Extent2].[UserId] = @p__linq__0) AND ([Extent1].[Id] = @p__linq__1)
    )  AS [Limit1]
2017-11-29 17:24:06,180 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:06,180 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '23' (Type = Int64, IsNullable = false)

2017-11-29 17:24:06,180 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:24:06,180 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,182 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:24:06,182 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:06,183 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,183 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,184 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Started transaction at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,184 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Activities]
SET [PrizeCount] = @0
WHERE ([Id] = @1)

2017-11-29 17:24:06,184 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '46' (Type = Int64)

2017-11-29 17:24:06,184 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '16' (Type = Int64)

2017-11-29 17:24:06,184 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,185 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: 1

2017-11-29 17:24:06,185 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:06,185 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Users]
SET [WinCount] = @0
WHERE ([Id] = @1)

2017-11-29 17:24:06,185 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '5' (Type = Int64)

2017-11-29 17:24:06,185 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '23' (Type = Int64)

2017-11-29 17:24:06,185 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,186 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: 1

2017-11-29 17:24:06,186 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:06,188 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Committed transaction at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,188 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,189 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,189 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[NickName] AS [NickName], 
    [Extent1].[PhotoUrl] AS [PhotoUrl], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[Address] AS [Address], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[PassCount] AS [PassCount], 
    [Extent1].[WinCount] AS [WinCount], 
    [Extent1].[IsWon] AS [IsWon], 
    [Extent1].[ChangeTime] AS [ChangeTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:24:06,189 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:06,189 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '23' (Type = Int64, IsNullable = false)

2017-11-29 17:24:06,189 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,191 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:24:06,191 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:06,192 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,192 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,193 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Started transaction at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,193 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Users]
SET [LoginErrorTimes] = @0
WHERE ([Id] = @1)

2017-11-29 17:24:06,193 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '0' (Type = Int32)

2017-11-29 17:24:06,193 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '23' (Type = Int64)

2017-11-29 17:24:06,193 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,194 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: 1

2017-11-29 17:24:06,194 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:06,195 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Committed transaction at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,195 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,196 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,196 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[NickName] AS [NickName], 
    [Extent1].[PhotoUrl] AS [PhotoUrl], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[Address] AS [Address], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[PassCount] AS [PassCount], 
    [Extent1].[WinCount] AS [WinCount], 
    [Extent1].[IsWon] AS [IsWon], 
    [Extent1].[ChangeTime] AS [ChangeTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:24:06,196 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:06,196 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '22' (Type = Int64, IsNullable = false)

2017-11-29 17:24:06,196 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,199 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:24:06,199 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:06,199 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,199 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,200 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Num] AS [Num], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[Description] AS [Description], 
    [Limit1].[ImgUrl] AS [ImgUrl], 
    [Limit1].[StatusId] AS [StatusId], 
    [Limit1].[WeChatUrl] AS [WeChatUrl], 
    [Limit1].[PaperId] AS [PaperId], 
    [Limit1].[PrizeName] AS [PrizeName], 
    [Limit1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Limit1].[VisitCount] AS [VisitCount], 
    [Limit1].[ForwardCount] AS [ForwardCount], 
    [Limit1].[AnswerCount] AS [AnswerCount], 
    [Limit1].[HavePrizeCount] AS [HavePrizeCount], 
    [Limit1].[PrizeCount] AS [PrizeCount], 
    [Limit1].[StartTime] AS [StartTime], 
    [Limit1].[ExamEndTime] AS [ExamEndTime], 
    [Limit1].[RewardTime] AS [RewardTime], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT TOP (2) 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Num] AS [Num], 
        [Extent1].[Name] AS [Name], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[ImgUrl] AS [ImgUrl], 
        [Extent1].[StatusId] AS [StatusId], 
        [Extent1].[WeChatUrl] AS [WeChatUrl], 
        [Extent1].[PaperId] AS [PaperId], 
        [Extent1].[PrizeName] AS [PrizeName], 
        [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
        [Extent1].[VisitCount] AS [VisitCount], 
        [Extent1].[ForwardCount] AS [ForwardCount], 
        [Extent1].[AnswerCount] AS [AnswerCount], 
        [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
        [Extent1].[PrizeCount] AS [PrizeCount], 
        [Extent1].[StartTime] AS [StartTime], 
        [Extent1].[ExamEndTime] AS [ExamEndTime], 
        [Extent1].[RewardTime] AS [RewardTime], 
        [Extent1].[IsDeleted] AS [IsDeleted], 
        [Extent1].[CreateDateTime] AS [CreateDateTime]
        FROM  [dbo].[T_Activities] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[ActivityId]
        WHERE ([Extent2].[UserId] = @p__linq__0) AND ([Extent1].[Id] = @p__linq__1)
    )  AS [Limit1]
2017-11-29 17:24:06,200 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:06,200 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '22' (Type = Int64, IsNullable = false)

2017-11-29 17:24:06,200 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:24:06,200 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,203 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:24:06,203 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:06,203 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,203 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,204 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Started transaction at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,205 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Activities]
SET [PrizeCount] = @0
WHERE ([Id] = @1)

2017-11-29 17:24:06,205 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '47' (Type = Int64)

2017-11-29 17:24:06,205 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '16' (Type = Int64)

2017-11-29 17:24:06,205 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,205 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: 1

2017-11-29 17:24:06,206 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:06,206 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Users]
SET [WinCount] = @0
WHERE ([Id] = @1)

2017-11-29 17:24:06,206 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '4' (Type = Int64)

2017-11-29 17:24:06,206 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '22' (Type = Int64)

2017-11-29 17:24:06,206 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,207 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: 1

2017-11-29 17:24:06,207 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:06,208 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Committed transaction at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,208 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,209 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,209 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[NickName] AS [NickName], 
    [Extent1].[PhotoUrl] AS [PhotoUrl], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[Address] AS [Address], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[PassCount] AS [PassCount], 
    [Extent1].[WinCount] AS [WinCount], 
    [Extent1].[IsWon] AS [IsWon], 
    [Extent1].[ChangeTime] AS [ChangeTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:24:06,209 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:06,209 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '22' (Type = Int64, IsNullable = false)

2017-11-29 17:24:06,209 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,212 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:24:06,212 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:06,212 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,212 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,213 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Started transaction at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,213 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Users]
SET [LoginErrorTimes] = @0
WHERE ([Id] = @1)

2017-11-29 17:24:06,213 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '0' (Type = Int32)

2017-11-29 17:24:06,213 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '22' (Type = Int64)

2017-11-29 17:24:06,213 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,214 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: 1

2017-11-29 17:24:06,214 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:06,215 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Committed transaction at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:06,216 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:24:06 +08:00

2017-11-29 17:24:07,245 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:24:07 +08:00

2017-11-29 17:24:07,247 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:24:07,247 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:07,247 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:24:07,247 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:07 +08:00

2017-11-29 17:24:07,250 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:24:07,250 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:07,250 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:24:07 +08:00

2017-11-29 17:24:07,250 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:24:07 +08:00

2017-11-29 17:24:07,250 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:24:07,251 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:07,251 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:24:07,251 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:07 +08:00

2017-11-29 17:24:07,252 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:24:07,252 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:07,252 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:24:07 +08:00

2017-11-29 17:24:07,253 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:24:07 +08:00

2017-11-29 17:24:07,253 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:24:07,253 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:07,253 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:24:07,253 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:07 +08:00

2017-11-29 17:24:07,256 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:24:07,256 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:07,256 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:24:07 +08:00

2017-11-29 17:24:07,256 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:24:07 +08:00

2017-11-29 17:24:07,257 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:24:07,257 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:07,257 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:24:07,257 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:07 +08:00

2017-11-29 17:24:07,258 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:24:07,258 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:07,258 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:24:07 +08:00

2017-11-29 17:24:07,258 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:24:07 +08:00

2017-11-29 17:24:07,259 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:24:07,259 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:07,259 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:24:07,259 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:07 +08:00

2017-11-29 17:24:07,261 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:24:07,261 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:07,262 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:24:07 +08:00

2017-11-29 17:24:43,623 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:24:43 +08:00

2017-11-29 17:24:43,623 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:24:43,624 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:43,624 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:24:43,624 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:43 +08:00

2017-11-29 17:24:43,627 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2017-11-29 17:24:43,627 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:43,627 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:24:43 +08:00

2017-11-29 17:24:43,628 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:24:43 +08:00

2017-11-29 17:24:43,628 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:24:43,628 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:43,628 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:24:43,628 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:43 +08:00

2017-11-29 17:24:43,629 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:24:43,629 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:43,629 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:24:43 +08:00

2017-11-29 17:24:43,630 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:24:43 +08:00

2017-11-29 17:24:43,630 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:24:43,630 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:43,630 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:24:43,630 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:43 +08:00

2017-11-29 17:24:43,633 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:24:43,633 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:43,633 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:24:43 +08:00

2017-11-29 17:24:43,634 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:24:43 +08:00

2017-11-29 17:24:43,634 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:24:43,634 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:43,634 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:24:43,634 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:43 +08:00

2017-11-29 17:24:43,635 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:24:43,635 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:43,635 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:24:43 +08:00

2017-11-29 17:24:43,636 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:24:43 +08:00

2017-11-29 17:24:43,636 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:24:43,636 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:43,636 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:24:43,636 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:24:43 +08:00

2017-11-29 17:24:43,639 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:24:43,639 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:24:43,639 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:24:43 +08:00

2017-11-29 17:25:04,458 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:04 +08:00

2017-11-29 17:25:04,458 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:25:04,458 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:04,458 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:25:04,458 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:04 +08:00

2017-11-29 17:25:04,461 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:25:04,461 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:04,461 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:04 +08:00

2017-11-29 17:25:04,461 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:04 +08:00

2017-11-29 17:25:04,462 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:25:04,462 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:04,462 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:25:04,462 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:04 +08:00

2017-11-29 17:25:04,463 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:25:04,463 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:04,463 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:04 +08:00

2017-11-29 17:25:04,464 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:04 +08:00

2017-11-29 17:25:04,464 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:25:04,464 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:04,464 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:25:04,464 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:04 +08:00

2017-11-29 17:25:04,467 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:25:04,467 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:04,467 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:04 +08:00

2017-11-29 17:25:04,467 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:04 +08:00

2017-11-29 17:25:04,468 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:25:04,468 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:04,468 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:25:04,468 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:04 +08:00

2017-11-29 17:25:04,469 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:25:04,469 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:04,469 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:04 +08:00

2017-11-29 17:25:04,469 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:04 +08:00

2017-11-29 17:25:04,470 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:25:04,470 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:04,470 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:25:04,470 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:04 +08:00

2017-11-29 17:25:04,472 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:25:04,472 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:04,473 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:04 +08:00

2017-11-29 17:25:12,005 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:12 +08:00

2017-11-29 17:25:12,005 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:25:12,005 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:12,005 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:25:12,005 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:12 +08:00

2017-11-29 17:25:12,007 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:25:12,008 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:12,008 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:12 +08:00

2017-11-29 17:25:12,008 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:12 +08:00

2017-11-29 17:25:12,008 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:25:12,008 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:12,008 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:25:12,008 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:12 +08:00

2017-11-29 17:25:12,009 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:25:12,009 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:12,018 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:12 +08:00

2017-11-29 17:25:12,019 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:12 +08:00

2017-11-29 17:25:12,019 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:25:12,019 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:12,020 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:25:12,020 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:12 +08:00

2017-11-29 17:25:12,022 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:25:12,022 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:12,022 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:12 +08:00

2017-11-29 17:25:12,023 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:12 +08:00

2017-11-29 17:25:12,023 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:25:12,023 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:12,023 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:25:12,023 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:12 +08:00

2017-11-29 17:25:12,024 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:25:12,024 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:12,024 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:12 +08:00

2017-11-29 17:25:12,025 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:12 +08:00

2017-11-29 17:25:12,025 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:25:12,025 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:12,025 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:25:12,025 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:12 +08:00

2017-11-29 17:25:12,028 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:25:12,028 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:12,028 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:12 +08:00

2017-11-29 17:25:14,066 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:14 +08:00

2017-11-29 17:25:14,066 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:25:14,066 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:14,066 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:25:14,066 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:14 +08:00

2017-11-29 17:25:14,069 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:25:14,069 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:14,069 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:14 +08:00

2017-11-29 17:25:14,069 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:14 +08:00

2017-11-29 17:25:14,069 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:25:14,069 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:14,069 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:25:14,069 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:14 +08:00

2017-11-29 17:25:14,070 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:25:14,070 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:14,070 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:14 +08:00

2017-11-29 17:25:14,071 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:14 +08:00

2017-11-29 17:25:14,071 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[NickName] AS [NickName], 
    [Extent1].[PhotoUrl] AS [PhotoUrl], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[Address] AS [Address], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[PassCount] AS [PassCount], 
    [Extent1].[WinCount] AS [WinCount], 
    [Extent1].[IsWon] AS [IsWon], 
    [Extent1].[ChangeTime] AS [ChangeTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:25:14,071 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:14,071 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '15' (Type = Int64, IsNullable = false)

2017-11-29 17:25:14,071 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:14 +08:00

2017-11-29 17:25:14,073 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:25:14,073 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:14,073 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:14 +08:00

2017-11-29 17:25:14,074 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:14 +08:00

2017-11-29 17:25:14,074 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Num] AS [Num], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[Description] AS [Description], 
    [Limit1].[ImgUrl] AS [ImgUrl], 
    [Limit1].[StatusId] AS [StatusId], 
    [Limit1].[WeChatUrl] AS [WeChatUrl], 
    [Limit1].[PaperId] AS [PaperId], 
    [Limit1].[PrizeName] AS [PrizeName], 
    [Limit1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Limit1].[VisitCount] AS [VisitCount], 
    [Limit1].[ForwardCount] AS [ForwardCount], 
    [Limit1].[AnswerCount] AS [AnswerCount], 
    [Limit1].[HavePrizeCount] AS [HavePrizeCount], 
    [Limit1].[PrizeCount] AS [PrizeCount], 
    [Limit1].[StartTime] AS [StartTime], 
    [Limit1].[ExamEndTime] AS [ExamEndTime], 
    [Limit1].[RewardTime] AS [RewardTime], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT TOP (2) 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Num] AS [Num], 
        [Extent1].[Name] AS [Name], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[ImgUrl] AS [ImgUrl], 
        [Extent1].[StatusId] AS [StatusId], 
        [Extent1].[WeChatUrl] AS [WeChatUrl], 
        [Extent1].[PaperId] AS [PaperId], 
        [Extent1].[PrizeName] AS [PrizeName], 
        [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
        [Extent1].[VisitCount] AS [VisitCount], 
        [Extent1].[ForwardCount] AS [ForwardCount], 
        [Extent1].[AnswerCount] AS [AnswerCount], 
        [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
        [Extent1].[PrizeCount] AS [PrizeCount], 
        [Extent1].[StartTime] AS [StartTime], 
        [Extent1].[ExamEndTime] AS [ExamEndTime], 
        [Extent1].[RewardTime] AS [RewardTime], 
        [Extent1].[IsDeleted] AS [IsDeleted], 
        [Extent1].[CreateDateTime] AS [CreateDateTime]
        FROM  [dbo].[T_Activities] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[ActivityId]
        WHERE ([Extent2].[UserId] = @p__linq__0) AND ([Extent1].[Id] = @p__linq__1)
    )  AS [Limit1]
2017-11-29 17:25:14,074 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:14,074 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '15' (Type = Int64, IsNullable = false)

2017-11-29 17:25:14,074 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:25:14,074 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:14 +08:00

2017-11-29 17:25:14,077 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:25:14,077 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:14,077 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:14 +08:00

2017-11-29 17:25:14,078 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:14 +08:00

2017-11-29 17:25:14,078 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：Started transaction at 2017/11/29 17:25:14 +08:00

2017-11-29 17:25:14,079 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Activities]
SET [PrizeCount] = @0
WHERE ([Id] = @1)

2017-11-29 17:25:14,079 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '48' (Type = Int64)

2017-11-29 17:25:14,079 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '16' (Type = Int64)

2017-11-29 17:25:14,079 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:14 +08:00

2017-11-29 17:25:14,080 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: 1

2017-11-29 17:25:14,080 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:14,080 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Users]
SET [WinCount] = @0
WHERE ([Id] = @1)

2017-11-29 17:25:14,080 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '7' (Type = Int64)

2017-11-29 17:25:14,080 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '15' (Type = Int64)

2017-11-29 17:25:14,080 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:14 +08:00

2017-11-29 17:25:14,081 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: 1

2017-11-29 17:25:14,081 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:14,082 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：Committed transaction at 2017/11/29 17:25:14 +08:00

2017-11-29 17:25:14,083 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:14 +08:00

2017-11-29 17:25:14,083 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:14 +08:00

2017-11-29 17:25:14,083 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[NickName] AS [NickName], 
    [Extent1].[PhotoUrl] AS [PhotoUrl], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[Address] AS [Address], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[PassCount] AS [PassCount], 
    [Extent1].[WinCount] AS [WinCount], 
    [Extent1].[IsWon] AS [IsWon], 
    [Extent1].[ChangeTime] AS [ChangeTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:25:14,083 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:14,083 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '15' (Type = Int64, IsNullable = false)

2017-11-29 17:25:14,083 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:14 +08:00

2017-11-29 17:25:14,086 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:25:14,086 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:14,086 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:14 +08:00

2017-11-29 17:25:14,087 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:14 +08:00

2017-11-29 17:25:14,087 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：Started transaction at 2017/11/29 17:25:14 +08:00

2017-11-29 17:25:14,088 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Users]
SET [LoginErrorTimes] = @0
WHERE ([Id] = @1)

2017-11-29 17:25:14,088 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '0' (Type = Int32)

2017-11-29 17:25:14,088 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '15' (Type = Int64)

2017-11-29 17:25:14,088 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:14 +08:00

2017-11-29 17:25:14,089 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: 1

2017-11-29 17:25:14,089 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:14,090 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：Committed transaction at 2017/11/29 17:25:14 +08:00

2017-11-29 17:25:14,090 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:14 +08:00

2017-11-29 17:25:15,190 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:15 +08:00

2017-11-29 17:25:15,191 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:25:15,191 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:15,191 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:25:15,191 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:15 +08:00

2017-11-29 17:25:15,193 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:25:15,194 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:15,194 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:15 +08:00

2017-11-29 17:25:15,194 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:15 +08:00

2017-11-29 17:25:15,194 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:25:15,194 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:15,194 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:25:15,194 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:15 +08:00

2017-11-29 17:25:15,195 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:25:15,195 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:15,196 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:15 +08:00

2017-11-29 17:25:15,196 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:15 +08:00

2017-11-29 17:25:15,197 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:25:15,197 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:15,197 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:25:15,197 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:15 +08:00

2017-11-29 17:25:15,199 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:25:15,199 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:15,200 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:15 +08:00

2017-11-29 17:25:15,200 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:15 +08:00

2017-11-29 17:25:15,201 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:25:15,201 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:15,201 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:25:15,201 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:15 +08:00

2017-11-29 17:25:15,202 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:25:15,202 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:15,202 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:15 +08:00

2017-11-29 17:25:15,202 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:15 +08:00

2017-11-29 17:25:15,203 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:25:15,203 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:15,203 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:25:15,203 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:15 +08:00

2017-11-29 17:25:15,205 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:25:15,205 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:15,205 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:15 +08:00

2017-11-29 17:25:15,279 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:15 +08:00

2017-11-29 17:25:15,280 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:25:15,280 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:15,280 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:25:15,280 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:15 +08:00

2017-11-29 17:25:15,282 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:25:15,282 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:15,282 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:15 +08:00

2017-11-29 17:25:15,283 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:15 +08:00

2017-11-29 17:25:15,283 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:25:15,283 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:15,283 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:25:15,283 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:15 +08:00

2017-11-29 17:25:15,284 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:25:15,284 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:15,284 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:15 +08:00

2017-11-29 17:25:15,285 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:15 +08:00

2017-11-29 17:25:15,285 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:25:15,285 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:15,285 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:25:15,285 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:15 +08:00

2017-11-29 17:25:15,288 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:25:15,288 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:15,288 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:15 +08:00

2017-11-29 17:25:15,289 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:15 +08:00

2017-11-29 17:25:15,289 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:25:15,289 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:15,289 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:25:15,289 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:15 +08:00

2017-11-29 17:25:15,290 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:25:15,290 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:15,290 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:15 +08:00

2017-11-29 17:25:15,290 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:15 +08:00

2017-11-29 17:25:15,291 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 6
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:25:15,291 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:15,291 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:25:15,291 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:15 +08:00

2017-11-29 17:25:15,294 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:25:15,294 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:15,294 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:15 +08:00

2017-11-29 17:25:17,601 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:17 +08:00

2017-11-29 17:25:17,601 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:25:17,602 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:17,602 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:25:17,602 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:17 +08:00

2017-11-29 17:25:17,604 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:25:17,604 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:17,604 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:17 +08:00

2017-11-29 17:25:17,604 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:17 +08:00

2017-11-29 17:25:17,605 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:25:17,605 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:17,605 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:25:17,605 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:17 +08:00

2017-11-29 17:25:17,606 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:25:17,606 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:17,606 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:17 +08:00

2017-11-29 17:25:17,606 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:17 +08:00

2017-11-29 17:25:17,607 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[NickName] AS [NickName], 
    [Extent1].[PhotoUrl] AS [PhotoUrl], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[Address] AS [Address], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[PassCount] AS [PassCount], 
    [Extent1].[WinCount] AS [WinCount], 
    [Extent1].[IsWon] AS [IsWon], 
    [Extent1].[ChangeTime] AS [ChangeTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:25:17,607 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:17,607 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '17' (Type = Int64, IsNullable = false)

2017-11-29 17:25:17,607 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:17 +08:00

2017-11-29 17:25:17,609 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:25:17,609 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:17,609 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:17 +08:00

2017-11-29 17:25:17,610 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:17 +08:00

2017-11-29 17:25:17,610 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Num] AS [Num], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[Description] AS [Description], 
    [Limit1].[ImgUrl] AS [ImgUrl], 
    [Limit1].[StatusId] AS [StatusId], 
    [Limit1].[WeChatUrl] AS [WeChatUrl], 
    [Limit1].[PaperId] AS [PaperId], 
    [Limit1].[PrizeName] AS [PrizeName], 
    [Limit1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Limit1].[VisitCount] AS [VisitCount], 
    [Limit1].[ForwardCount] AS [ForwardCount], 
    [Limit1].[AnswerCount] AS [AnswerCount], 
    [Limit1].[HavePrizeCount] AS [HavePrizeCount], 
    [Limit1].[PrizeCount] AS [PrizeCount], 
    [Limit1].[StartTime] AS [StartTime], 
    [Limit1].[ExamEndTime] AS [ExamEndTime], 
    [Limit1].[RewardTime] AS [RewardTime], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT TOP (2) 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Num] AS [Num], 
        [Extent1].[Name] AS [Name], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[ImgUrl] AS [ImgUrl], 
        [Extent1].[StatusId] AS [StatusId], 
        [Extent1].[WeChatUrl] AS [WeChatUrl], 
        [Extent1].[PaperId] AS [PaperId], 
        [Extent1].[PrizeName] AS [PrizeName], 
        [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
        [Extent1].[VisitCount] AS [VisitCount], 
        [Extent1].[ForwardCount] AS [ForwardCount], 
        [Extent1].[AnswerCount] AS [AnswerCount], 
        [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
        [Extent1].[PrizeCount] AS [PrizeCount], 
        [Extent1].[StartTime] AS [StartTime], 
        [Extent1].[ExamEndTime] AS [ExamEndTime], 
        [Extent1].[RewardTime] AS [RewardTime], 
        [Extent1].[IsDeleted] AS [IsDeleted], 
        [Extent1].[CreateDateTime] AS [CreateDateTime]
        FROM  [dbo].[T_Activities] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[ActivityId]
        WHERE ([Extent2].[UserId] = @p__linq__0) AND ([Extent1].[Id] = @p__linq__1)
    )  AS [Limit1]
2017-11-29 17:25:17,610 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:17,611 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '17' (Type = Int64, IsNullable = false)

2017-11-29 17:25:17,611 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:25:17,611 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:17 +08:00

2017-11-29 17:25:17,613 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:25:17,613 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:17,613 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:17 +08:00

2017-11-29 17:25:17,614 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:17 +08:00

2017-11-29 17:25:17,615 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Started transaction at 2017/11/29 17:25:17 +08:00

2017-11-29 17:25:17,615 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Activities]
SET [PrizeCount] = @0
WHERE ([Id] = @1)

2017-11-29 17:25:17,615 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '49' (Type = Int64)

2017-11-29 17:25:17,615 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '16' (Type = Int64)

2017-11-29 17:25:17,615 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:17 +08:00

2017-11-29 17:25:17,616 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: 1

2017-11-29 17:25:17,616 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:17,616 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Users]
SET [WinCount] = @0
WHERE ([Id] = @1)

2017-11-29 17:25:17,616 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '7' (Type = Int64)

2017-11-29 17:25:17,616 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '17' (Type = Int64)

2017-11-29 17:25:17,616 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:17 +08:00

2017-11-29 17:25:17,617 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: 1

2017-11-29 17:25:17,618 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:17,619 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Committed transaction at 2017/11/29 17:25:17 +08:00

2017-11-29 17:25:17,619 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:17 +08:00

2017-11-29 17:25:17,619 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:17 +08:00

2017-11-29 17:25:17,620 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[NickName] AS [NickName], 
    [Extent1].[PhotoUrl] AS [PhotoUrl], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[Address] AS [Address], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[PassCount] AS [PassCount], 
    [Extent1].[WinCount] AS [WinCount], 
    [Extent1].[IsWon] AS [IsWon], 
    [Extent1].[ChangeTime] AS [ChangeTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:25:17,620 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:17,620 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '17' (Type = Int64, IsNullable = false)

2017-11-29 17:25:17,620 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:17 +08:00

2017-11-29 17:25:17,622 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:25:17,622 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:17,622 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:17 +08:00

2017-11-29 17:25:17,623 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:17 +08:00

2017-11-29 17:25:17,624 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Started transaction at 2017/11/29 17:25:17 +08:00

2017-11-29 17:25:17,624 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Users]
SET [LoginErrorTimes] = @0
WHERE ([Id] = @1)

2017-11-29 17:25:17,624 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '0' (Type = Int32)

2017-11-29 17:25:17,624 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '17' (Type = Int64)

2017-11-29 17:25:17,624 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:17 +08:00

2017-11-29 17:25:17,625 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: 1

2017-11-29 17:25:17,625 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:17,626 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Committed transaction at 2017/11/29 17:25:17 +08:00

2017-11-29 17:25:17,626 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:17 +08:00

2017-11-29 17:25:18,692 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:18 +08:00

2017-11-29 17:25:18,692 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:25:18,692 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:18,692 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:25:18,692 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:18 +08:00

2017-11-29 17:25:18,695 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:25:18,695 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:18,695 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:18 +08:00

2017-11-29 17:25:18,695 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:18 +08:00

2017-11-29 17:25:18,695 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:25:18,695 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:18,695 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:25:18,695 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:18 +08:00

2017-11-29 17:25:18,696 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:25:18,696 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:18,697 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:18 +08:00

2017-11-29 17:25:18,697 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:18 +08:00

2017-11-29 17:25:18,698 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:25:18,698 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:18,698 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:25:18,698 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:18 +08:00

2017-11-29 17:25:18,701 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:25:18,701 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:18,701 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:18 +08:00

2017-11-29 17:25:18,701 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:18 +08:00

2017-11-29 17:25:18,702 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:25:18,702 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:18,702 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:25:18,702 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:18 +08:00

2017-11-29 17:25:18,703 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:25:18,703 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:18,703 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:18 +08:00

2017-11-29 17:25:18,703 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:18 +08:00

2017-11-29 17:25:18,703 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 6
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:25:18,704 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:18,704 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:25:18,704 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:18 +08:00

2017-11-29 17:25:18,706 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:25:18,706 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:18,706 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:18 +08:00

2017-11-29 17:25:21,673 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:21 +08:00

2017-11-29 17:25:21,674 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:25:21,674 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:21,674 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:25:21,674 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:21 +08:00

2017-11-29 17:25:21,676 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:25:21,676 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:21,677 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:21 +08:00

2017-11-29 17:25:21,677 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:21 +08:00

2017-11-29 17:25:21,677 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:25:21,677 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:21,677 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:25:21,677 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:21 +08:00

2017-11-29 17:25:21,678 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:25:21,678 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:21,678 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:21 +08:00

2017-11-29 17:25:21,679 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:21 +08:00

2017-11-29 17:25:21,679 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[NickName] AS [NickName], 
    [Extent1].[PhotoUrl] AS [PhotoUrl], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[Address] AS [Address], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[PassCount] AS [PassCount], 
    [Extent1].[WinCount] AS [WinCount], 
    [Extent1].[IsWon] AS [IsWon], 
    [Extent1].[ChangeTime] AS [ChangeTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:25:21,679 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:21,679 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '18' (Type = Int64, IsNullable = false)

2017-11-29 17:25:21,679 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:21 +08:00

2017-11-29 17:25:21,681 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:25:21,681 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:21,681 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:21 +08:00

2017-11-29 17:25:21,682 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:21 +08:00

2017-11-29 17:25:21,682 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Num] AS [Num], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[Description] AS [Description], 
    [Limit1].[ImgUrl] AS [ImgUrl], 
    [Limit1].[StatusId] AS [StatusId], 
    [Limit1].[WeChatUrl] AS [WeChatUrl], 
    [Limit1].[PaperId] AS [PaperId], 
    [Limit1].[PrizeName] AS [PrizeName], 
    [Limit1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Limit1].[VisitCount] AS [VisitCount], 
    [Limit1].[ForwardCount] AS [ForwardCount], 
    [Limit1].[AnswerCount] AS [AnswerCount], 
    [Limit1].[HavePrizeCount] AS [HavePrizeCount], 
    [Limit1].[PrizeCount] AS [PrizeCount], 
    [Limit1].[StartTime] AS [StartTime], 
    [Limit1].[ExamEndTime] AS [ExamEndTime], 
    [Limit1].[RewardTime] AS [RewardTime], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT TOP (2) 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Num] AS [Num], 
        [Extent1].[Name] AS [Name], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[ImgUrl] AS [ImgUrl], 
        [Extent1].[StatusId] AS [StatusId], 
        [Extent1].[WeChatUrl] AS [WeChatUrl], 
        [Extent1].[PaperId] AS [PaperId], 
        [Extent1].[PrizeName] AS [PrizeName], 
        [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
        [Extent1].[VisitCount] AS [VisitCount], 
        [Extent1].[ForwardCount] AS [ForwardCount], 
        [Extent1].[AnswerCount] AS [AnswerCount], 
        [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
        [Extent1].[PrizeCount] AS [PrizeCount], 
        [Extent1].[StartTime] AS [StartTime], 
        [Extent1].[ExamEndTime] AS [ExamEndTime], 
        [Extent1].[RewardTime] AS [RewardTime], 
        [Extent1].[IsDeleted] AS [IsDeleted], 
        [Extent1].[CreateDateTime] AS [CreateDateTime]
        FROM  [dbo].[T_Activities] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[ActivityId]
        WHERE ([Extent2].[UserId] = @p__linq__0) AND ([Extent1].[Id] = @p__linq__1)
    )  AS [Limit1]
2017-11-29 17:25:21,682 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:21,682 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '18' (Type = Int64, IsNullable = false)

2017-11-29 17:25:21,682 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:25:21,682 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:21 +08:00

2017-11-29 17:25:21,685 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:25:21,685 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:21,685 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:21 +08:00

2017-11-29 17:25:21,686 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:21 +08:00

2017-11-29 17:25:21,687 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：Started transaction at 2017/11/29 17:25:21 +08:00

2017-11-29 17:25:21,687 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Activities]
SET [PrizeCount] = @0
WHERE ([Id] = @1)

2017-11-29 17:25:21,687 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '50' (Type = Int64)

2017-11-29 17:25:21,687 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '16' (Type = Int64)

2017-11-29 17:25:21,687 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:21 +08:00

2017-11-29 17:25:21,688 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: 1

2017-11-29 17:25:21,688 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:21,688 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Users]
SET [WinCount] = @0
WHERE ([Id] = @1)

2017-11-29 17:25:21,688 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '7' (Type = Int64)

2017-11-29 17:25:21,688 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '18' (Type = Int64)

2017-11-29 17:25:21,688 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:21 +08:00

2017-11-29 17:25:21,689 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: 1

2017-11-29 17:25:21,689 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:21,691 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：Committed transaction at 2017/11/29 17:25:21 +08:00

2017-11-29 17:25:21,691 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:21 +08:00

2017-11-29 17:25:21,691 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:21 +08:00

2017-11-29 17:25:21,692 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[NickName] AS [NickName], 
    [Extent1].[PhotoUrl] AS [PhotoUrl], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[Address] AS [Address], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[PassCount] AS [PassCount], 
    [Extent1].[WinCount] AS [WinCount], 
    [Extent1].[IsWon] AS [IsWon], 
    [Extent1].[ChangeTime] AS [ChangeTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:25:21,692 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:21,692 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '18' (Type = Int64, IsNullable = false)

2017-11-29 17:25:21,692 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:21 +08:00

2017-11-29 17:25:21,694 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:25:21,694 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:21,694 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:21 +08:00

2017-11-29 17:25:21,695 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:21 +08:00

2017-11-29 17:25:21,695 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：Started transaction at 2017/11/29 17:25:21 +08:00

2017-11-29 17:25:21,696 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Users]
SET [LoginErrorTimes] = @0
WHERE ([Id] = @1)

2017-11-29 17:25:21,696 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '0' (Type = Int32)

2017-11-29 17:25:21,696 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '18' (Type = Int64)

2017-11-29 17:25:21,696 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:21 +08:00

2017-11-29 17:25:21,697 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: 1

2017-11-29 17:25:21,697 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:21,698 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：Committed transaction at 2017/11/29 17:25:21 +08:00

2017-11-29 17:25:21,698 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:21 +08:00

2017-11-29 17:25:22,653 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:22 +08:00

2017-11-29 17:25:22,653 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:25:22,653 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:22,653 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:25:22,653 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:22 +08:00

2017-11-29 17:25:22,656 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:25:22,656 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:22,656 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:22 +08:00

2017-11-29 17:25:22,656 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:22 +08:00

2017-11-29 17:25:22,656 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:25:22,657 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:22,657 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:25:22,657 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:22 +08:00

2017-11-29 17:25:22,658 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:25:22,658 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:22,658 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:22 +08:00

2017-11-29 17:25:22,659 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:22 +08:00

2017-11-29 17:25:22,659 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:25:22,659 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:22,659 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:25:22,659 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:22 +08:00

2017-11-29 17:25:22,662 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:25:22,662 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:22,662 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:22 +08:00

2017-11-29 17:25:22,662 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:22 +08:00

2017-11-29 17:25:22,663 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:25:22,663 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:22,663 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:25:22,663 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:22 +08:00

2017-11-29 17:25:22,664 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:25:22,664 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:22,664 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:22 +08:00

2017-11-29 17:25:22,664 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:22 +08:00

2017-11-29 17:25:22,665 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 6
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:25:22,665 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:22,665 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:25:22,665 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:22 +08:00

2017-11-29 17:25:22,667 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:25:22,667 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:22,668 [42] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:22 +08:00

2017-11-29 17:25:24,443 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:24 +08:00

2017-11-29 17:25:24,449 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:25:24,450 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:24,450 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:25:24,450 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:24 +08:00

2017-11-29 17:25:24,452 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:25:24,452 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:24,452 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:24 +08:00

2017-11-29 17:25:24,453 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:24 +08:00

2017-11-29 17:25:24,453 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:25:24,453 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:24,453 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:25:24,453 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:24 +08:00

2017-11-29 17:25:24,454 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:25:24,454 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:24,454 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:24 +08:00

2017-11-29 17:25:24,455 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:24 +08:00

2017-11-29 17:25:24,455 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[NickName] AS [NickName], 
    [Extent1].[PhotoUrl] AS [PhotoUrl], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[Address] AS [Address], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[PassCount] AS [PassCount], 
    [Extent1].[WinCount] AS [WinCount], 
    [Extent1].[IsWon] AS [IsWon], 
    [Extent1].[ChangeTime] AS [ChangeTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:25:24,455 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:24,455 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:25:24,455 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:24 +08:00

2017-11-29 17:25:24,457 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:25:24,457 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:24,457 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:24 +08:00

2017-11-29 17:25:24,458 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:24 +08:00

2017-11-29 17:25:24,458 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Num] AS [Num], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[Description] AS [Description], 
    [Limit1].[ImgUrl] AS [ImgUrl], 
    [Limit1].[StatusId] AS [StatusId], 
    [Limit1].[WeChatUrl] AS [WeChatUrl], 
    [Limit1].[PaperId] AS [PaperId], 
    [Limit1].[PrizeName] AS [PrizeName], 
    [Limit1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Limit1].[VisitCount] AS [VisitCount], 
    [Limit1].[ForwardCount] AS [ForwardCount], 
    [Limit1].[AnswerCount] AS [AnswerCount], 
    [Limit1].[HavePrizeCount] AS [HavePrizeCount], 
    [Limit1].[PrizeCount] AS [PrizeCount], 
    [Limit1].[StartTime] AS [StartTime], 
    [Limit1].[ExamEndTime] AS [ExamEndTime], 
    [Limit1].[RewardTime] AS [RewardTime], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT TOP (2) 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Num] AS [Num], 
        [Extent1].[Name] AS [Name], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[ImgUrl] AS [ImgUrl], 
        [Extent1].[StatusId] AS [StatusId], 
        [Extent1].[WeChatUrl] AS [WeChatUrl], 
        [Extent1].[PaperId] AS [PaperId], 
        [Extent1].[PrizeName] AS [PrizeName], 
        [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
        [Extent1].[VisitCount] AS [VisitCount], 
        [Extent1].[ForwardCount] AS [ForwardCount], 
        [Extent1].[AnswerCount] AS [AnswerCount], 
        [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
        [Extent1].[PrizeCount] AS [PrizeCount], 
        [Extent1].[StartTime] AS [StartTime], 
        [Extent1].[ExamEndTime] AS [ExamEndTime], 
        [Extent1].[RewardTime] AS [RewardTime], 
        [Extent1].[IsDeleted] AS [IsDeleted], 
        [Extent1].[CreateDateTime] AS [CreateDateTime]
        FROM  [dbo].[T_Activities] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[ActivityId]
        WHERE ([Extent2].[UserId] = @p__linq__0) AND ([Extent1].[Id] = @p__linq__1)
    )  AS [Limit1]
2017-11-29 17:25:24,458 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:24,458 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:25:24,458 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:25:24,458 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:24 +08:00

2017-11-29 17:25:24,461 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:25:24,461 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:24,461 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:24 +08:00

2017-11-29 17:25:24,462 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:24 +08:00

2017-11-29 17:25:24,463 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Started transaction at 2017/11/29 17:25:24 +08:00

2017-11-29 17:25:24,463 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Activities]
SET [PrizeCount] = @0
WHERE ([Id] = @1)

2017-11-29 17:25:24,463 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '51' (Type = Int64)

2017-11-29 17:25:24,463 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '16' (Type = Int64)

2017-11-29 17:25:24,463 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:24 +08:00

2017-11-29 17:25:24,464 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: 1

2017-11-29 17:25:24,464 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:24,464 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Users]
SET [WinCount] = @0
WHERE ([Id] = @1)

2017-11-29 17:25:24,464 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '7' (Type = Int64)

2017-11-29 17:25:24,464 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '16' (Type = Int64)

2017-11-29 17:25:24,464 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:24 +08:00

2017-11-29 17:25:24,465 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: 1

2017-11-29 17:25:24,466 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:24,467 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Committed transaction at 2017/11/29 17:25:24 +08:00

2017-11-29 17:25:24,467 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:24 +08:00

2017-11-29 17:25:24,467 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:24 +08:00

2017-11-29 17:25:24,468 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[NickName] AS [NickName], 
    [Extent1].[PhotoUrl] AS [PhotoUrl], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[Address] AS [Address], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[PassCount] AS [PassCount], 
    [Extent1].[WinCount] AS [WinCount], 
    [Extent1].[IsWon] AS [IsWon], 
    [Extent1].[ChangeTime] AS [ChangeTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:25:24,468 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:24,468 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:25:24,468 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:24 +08:00

2017-11-29 17:25:24,469 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:25:24,469 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:24,470 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:24 +08:00

2017-11-29 17:25:24,470 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:24 +08:00

2017-11-29 17:25:24,471 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Started transaction at 2017/11/29 17:25:24 +08:00

2017-11-29 17:25:24,472 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Users]
SET [LoginErrorTimes] = @0
WHERE ([Id] = @1)

2017-11-29 17:25:24,472 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '0' (Type = Int32)

2017-11-29 17:25:24,472 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '16' (Type = Int64)

2017-11-29 17:25:24,472 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:24 +08:00

2017-11-29 17:25:24,473 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: 1

2017-11-29 17:25:24,473 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:24,474 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Committed transaction at 2017/11/29 17:25:24 +08:00

2017-11-29 17:25:24,474 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:24 +08:00

2017-11-29 17:25:25,378 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:25 +08:00

2017-11-29 17:25:25,379 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:25:25,379 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:25,379 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:25:25,379 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:25 +08:00

2017-11-29 17:25:25,382 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:25:25,382 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:25,382 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:25 +08:00

2017-11-29 17:25:25,383 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:25 +08:00

2017-11-29 17:25:25,383 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:25:25,383 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:25,383 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:25:25,383 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:25 +08:00

2017-11-29 17:25:25,384 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:25:25,384 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:25,384 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:25 +08:00

2017-11-29 17:25:25,385 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:25 +08:00

2017-11-29 17:25:25,385 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:25:25,385 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:25,385 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:25:25,385 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:25 +08:00

2017-11-29 17:25:25,388 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:25:25,388 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:25,388 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:25 +08:00

2017-11-29 17:25:25,389 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:25 +08:00

2017-11-29 17:25:25,389 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:25:25,389 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:25,389 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:25:25,389 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:25 +08:00

2017-11-29 17:25:25,395 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 6 ms with result: SqlDataReader

2017-11-29 17:25:25,396 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:25,396 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:25 +08:00

2017-11-29 17:25:25,396 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:25 +08:00

2017-11-29 17:25:25,396 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 6
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:25:25,396 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:25,396 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:25:25,396 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:25 +08:00

2017-11-29 17:25:25,399 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:25:25,399 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:25,399 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:25 +08:00

2017-11-29 17:25:25,464 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:25 +08:00

2017-11-29 17:25:25,465 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:25:25,465 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:25,465 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:25:25,465 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:25 +08:00

2017-11-29 17:25:25,468 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:25:25,468 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:25,468 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:25 +08:00

2017-11-29 17:25:25,468 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:25 +08:00

2017-11-29 17:25:25,468 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:25:25,468 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:25,468 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:25:25,468 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:25 +08:00

2017-11-29 17:25:25,469 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:25:25,469 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:25,470 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:25 +08:00

2017-11-29 17:25:25,470 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:25 +08:00

2017-11-29 17:25:25,470 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:25:25,471 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:25,471 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:25:25,471 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:25 +08:00

2017-11-29 17:25:25,473 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:25:25,473 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:25,474 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:25 +08:00

2017-11-29 17:25:25,474 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:25 +08:00

2017-11-29 17:25:25,474 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:25:25,474 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:25,474 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:25:25,474 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:25 +08:00

2017-11-29 17:25:25,476 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:25:25,476 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:25,476 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:25 +08:00

2017-11-29 17:25:25,476 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:25:25 +08:00

2017-11-29 17:25:25,477 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 3
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:25:25,477 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:25,477 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:25:25,477 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:25:25 +08:00

2017-11-29 17:25:25,479 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:25:25,479 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:25:25,480 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:25:25 +08:00

2017-11-29 17:26:46,332 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:26:46 +08:00

2017-11-29 17:26:46,332 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:26:46,332 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:26:46,332 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:26:46,332 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:26:46 +08:00

2017-11-29 17:26:46,335 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:26:46,335 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:26:46,335 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:26:46 +08:00

2017-11-29 17:26:46,335 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:26:46 +08:00

2017-11-29 17:26:46,335 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:26:46,335 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:26:46,335 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:26:46,335 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:26:46 +08:00

2017-11-29 17:26:46,337 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:26:46,337 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:26:46,337 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:26:46 +08:00

2017-11-29 17:26:46,338 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:26:46 +08:00

2017-11-29 17:26:46,338 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:26:46,338 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:26:46,338 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:26:46,338 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:26:46 +08:00

2017-11-29 17:26:46,341 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:26:46,341 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:26:46,341 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:26:46 +08:00

2017-11-29 17:26:46,341 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:26:46 +08:00

2017-11-29 17:26:46,342 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:26:46,342 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:26:46,342 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:26:46,342 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:26:46 +08:00

2017-11-29 17:26:46,343 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:26:46,343 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:26:46,343 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:26:46 +08:00

2017-11-29 17:26:46,343 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:26:46 +08:00

2017-11-29 17:26:46,343 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:26:46,344 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:26:46,344 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:26:46,344 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:26:46 +08:00

2017-11-29 17:26:46,346 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:26:46,346 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:26:46,346 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:26:46 +08:00

2017-11-29 17:26:47,330 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:26:47 +08:00

2017-11-29 17:26:47,330 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:26:47,330 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:26:47,330 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:26:47,330 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:26:47 +08:00

2017-11-29 17:26:47,333 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:26:47,333 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:26:47,333 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:26:47 +08:00

2017-11-29 17:26:47,333 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:26:47 +08:00

2017-11-29 17:26:47,333 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:26:47,333 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:26:47,333 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:26:47,333 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:26:47 +08:00

2017-11-29 17:26:47,335 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:26:47,335 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:26:47,335 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:26:47 +08:00

2017-11-29 17:26:47,335 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:26:47 +08:00

2017-11-29 17:26:47,336 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:26:47,336 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:26:47,336 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:26:47,336 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:26:47 +08:00

2017-11-29 17:26:47,338 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:26:47,338 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:26:47,339 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:26:47 +08:00

2017-11-29 17:26:47,339 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:26:47 +08:00

2017-11-29 17:26:47,339 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:26:47,339 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:26:47,339 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:26:47,339 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:26:47 +08:00

2017-11-29 17:26:47,340 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:26:47,340 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:26:47,341 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:26:47 +08:00

2017-11-29 17:26:47,341 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:26:47 +08:00

2017-11-29 17:26:47,341 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 3
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:26:47,341 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:26:47,341 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:26:47,341 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:26:47 +08:00

2017-11-29 17:26:47,344 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:26:47,344 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:26:47,344 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:26:47 +08:00

2017-11-29 17:26:48,094 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:26:48 +08:00

2017-11-29 17:26:48,095 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:26:48,095 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:26:48,095 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:26:48,095 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:26:48 +08:00

2017-11-29 17:26:48,097 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:26:48,097 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:26:48,098 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:26:48 +08:00

2017-11-29 17:26:48,098 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:26:48 +08:00

2017-11-29 17:26:48,098 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:26:48,098 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:26:48,098 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:26:48,098 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:26:48 +08:00

2017-11-29 17:26:48,099 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:26:48,099 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:26:48,099 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:26:48 +08:00

2017-11-29 17:26:48,100 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:26:48 +08:00

2017-11-29 17:26:48,100 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:26:48,100 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:26:48,100 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:26:48,100 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:26:48 +08:00

2017-11-29 17:26:48,102 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:26:48,102 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:26:48,103 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:26:48 +08:00

2017-11-29 17:26:48,103 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:26:48 +08:00

2017-11-29 17:26:48,103 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:26:48,103 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:26:48,103 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:26:48,104 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:26:48 +08:00

2017-11-29 17:26:48,105 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:26:48,105 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:26:48,105 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:26:48 +08:00

2017-11-29 17:26:48,106 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:26:48 +08:00

2017-11-29 17:26:48,106 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:26:48,106 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:26:48,106 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:26:48,106 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:26:48 +08:00

2017-11-29 17:26:48,109 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:26:48,109 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:26:48,109 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:26:48 +08:00

2017-11-29 17:26:48,620 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:26:48 +08:00

2017-11-29 17:26:48,621 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:26:48,621 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:26:48,621 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:26:48,621 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:26:48 +08:00

2017-11-29 17:26:48,623 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:26:48,623 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:26:48,623 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:26:48 +08:00

2017-11-29 17:26:48,623 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:26:48 +08:00

2017-11-29 17:26:48,623 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:26:48,623 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:26:48,624 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:26:48,624 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:26:48 +08:00

2017-11-29 17:26:48,625 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:26:48,625 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:26:48,625 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:26:48 +08:00

2017-11-29 17:26:48,626 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:26:48 +08:00

2017-11-29 17:26:48,626 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:26:48,626 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:26:48,626 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:26:48,626 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:26:48 +08:00

2017-11-29 17:26:48,629 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:26:48,629 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:26:48,629 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:26:48 +08:00

2017-11-29 17:26:48,629 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:26:48 +08:00

2017-11-29 17:26:48,630 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:26:48,630 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:26:48,630 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:26:48,630 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:26:48 +08:00

2017-11-29 17:26:48,631 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:26:48,631 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:26:48,631 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:26:48 +08:00

2017-11-29 17:26:48,631 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:26:48 +08:00

2017-11-29 17:26:48,632 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 3
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:26:48,632 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:26:48,632 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:26:48,632 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:26:48 +08:00

2017-11-29 17:26:48,634 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:26:48,634 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:26:48,635 [49] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:26:48 +08:00

2017-11-29 17:26:49,199 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:26:49 +08:00

2017-11-29 17:26:49,199 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:26:49,199 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:26:49,199 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:26:49,199 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:26:49 +08:00

2017-11-29 17:26:49,202 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:26:49,202 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:26:49,202 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:26:49 +08:00

2017-11-29 17:26:49,202 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:26:49 +08:00

2017-11-29 17:26:49,203 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:26:49,203 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:26:49,203 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:26:49,203 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:26:49 +08:00

2017-11-29 17:26:49,204 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:26:49,204 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:26:49,204 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:26:49 +08:00

2017-11-29 17:26:49,205 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:26:49 +08:00

2017-11-29 17:26:49,205 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:26:49,205 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:26:49,205 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:26:49,205 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:26:49 +08:00

2017-11-29 17:26:49,207 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:26:49,208 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:26:49,208 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:26:49 +08:00

2017-11-29 17:26:49,208 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:26:49 +08:00

2017-11-29 17:26:49,209 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:26:49,209 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:26:49,209 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:26:49,209 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:26:49 +08:00

2017-11-29 17:26:49,210 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

