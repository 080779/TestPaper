2017-11-29 17:02:33,071 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:33,196 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:02:33,196 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:33 +08:00

2017-11-29 17:02:33,199 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:02:33,199 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:33,199 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:33 +08:00

2017-11-29 17:02:33,199 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:33 +08:00

2017-11-29 17:02:33,199 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:02:33,199 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:33,199 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:02:33,199 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:33 +08:00

2017-11-29 17:02:33,200 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:02:33,201 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:33,201 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:33 +08:00

2017-11-29 17:02:33,201 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:33 +08:00

2017-11-29 17:02:33,202 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:02:33,202 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:33,202 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:02:33,202 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:33 +08:00

2017-11-29 17:02:33,204 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:02:33,204 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:33,205 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:33 +08:00

2017-11-29 17:02:33,205 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:33 +08:00

2017-11-29 17:02:33,205 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:02:33,205 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:33,205 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:02:33,205 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:33 +08:00

2017-11-29 17:02:33,206 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:02:33,206 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:33,206 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:33 +08:00

2017-11-29 17:02:33,207 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:33 +08:00

2017-11-29 17:02:33,207 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:02:33,207 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:33,207 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:02:33,207 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:33 +08:00

2017-11-29 17:02:33,209 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:02:33,210 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:33,210 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:33 +08:00

2017-11-29 17:02:44,171 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:44 +08:00

2017-11-29 17:02:44,171 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:02:44,171 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:44,171 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:02:44,171 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:44 +08:00

2017-11-29 17:02:44,174 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:02:44,174 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:44,174 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:44 +08:00

2017-11-29 17:02:44,174 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:44 +08:00

2017-11-29 17:02:44,174 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:02:44,174 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:44,175 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:02:44,175 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:44 +08:00

2017-11-29 17:02:44,176 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:02:44,176 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:44,176 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:44 +08:00

2017-11-29 17:02:44,177 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:44 +08:00

2017-11-29 17:02:44,177 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:02:44,177 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:44,177 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:02:44,177 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:44 +08:00

2017-11-29 17:02:44,180 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:02:44,180 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:44,180 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:44 +08:00

2017-11-29 17:02:44,180 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:44 +08:00

2017-11-29 17:02:44,181 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:02:44,181 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:44,181 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:02:44,181 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:44 +08:00

2017-11-29 17:02:44,182 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:02:44,182 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:44,182 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:44 +08:00

2017-11-29 17:02:44,182 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:44 +08:00

2017-11-29 17:02:44,183 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 3
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:02:44,183 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:44,183 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:02:44,183 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:44 +08:00

2017-11-29 17:02:44,186 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:02:44,186 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:44,186 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:44 +08:00

2017-11-29 17:02:46,891 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:46 +08:00

2017-11-29 17:02:46,892 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:02:46,892 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:46,892 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:02:46,892 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:46 +08:00

2017-11-29 17:02:46,895 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:02:46,895 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:46,895 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:46 +08:00

2017-11-29 17:02:46,895 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:46 +08:00

2017-11-29 17:02:46,895 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:02:46,895 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:46,895 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:02:46,895 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:46 +08:00

2017-11-29 17:02:46,896 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:02:46,896 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:46,896 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:46 +08:00

2017-11-29 17:02:46,897 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:46 +08:00

2017-11-29 17:02:46,897 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[NickName] AS [NickName], 
    [Extent1].[PhotoUrl] AS [PhotoUrl], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[Address] AS [Address], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[PassCount] AS [PassCount], 
    [Extent1].[WinCount] AS [WinCount], 
    [Extent1].[IsWon] AS [IsWon], 
    [Extent1].[ChangeTime] AS [ChangeTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:02:46,897 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:46,897 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:02:46,897 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:46 +08:00

2017-11-29 17:02:46,899 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:02:46,899 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:46,899 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:46 +08:00

2017-11-29 17:02:46,900 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:46 +08:00

2017-11-29 17:02:46,900 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Num] AS [Num], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[Description] AS [Description], 
    [Limit1].[ImgUrl] AS [ImgUrl], 
    [Limit1].[StatusId] AS [StatusId], 
    [Limit1].[WeChatUrl] AS [WeChatUrl], 
    [Limit1].[PaperId] AS [PaperId], 
    [Limit1].[PrizeName] AS [PrizeName], 
    [Limit1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Limit1].[VisitCount] AS [VisitCount], 
    [Limit1].[ForwardCount] AS [ForwardCount], 
    [Limit1].[AnswerCount] AS [AnswerCount], 
    [Limit1].[HavePrizeCount] AS [HavePrizeCount], 
    [Limit1].[PrizeCount] AS [PrizeCount], 
    [Limit1].[StartTime] AS [StartTime], 
    [Limit1].[ExamEndTime] AS [ExamEndTime], 
    [Limit1].[RewardTime] AS [RewardTime], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT TOP (2) 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Num] AS [Num], 
        [Extent1].[Name] AS [Name], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[ImgUrl] AS [ImgUrl], 
        [Extent1].[StatusId] AS [StatusId], 
        [Extent1].[WeChatUrl] AS [WeChatUrl], 
        [Extent1].[PaperId] AS [PaperId], 
        [Extent1].[PrizeName] AS [PrizeName], 
        [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
        [Extent1].[VisitCount] AS [VisitCount], 
        [Extent1].[ForwardCount] AS [ForwardCount], 
        [Extent1].[AnswerCount] AS [AnswerCount], 
        [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
        [Extent1].[PrizeCount] AS [PrizeCount], 
        [Extent1].[StartTime] AS [StartTime], 
        [Extent1].[ExamEndTime] AS [ExamEndTime], 
        [Extent1].[RewardTime] AS [RewardTime], 
        [Extent1].[IsDeleted] AS [IsDeleted], 
        [Extent1].[CreateDateTime] AS [CreateDateTime]
        FROM  [dbo].[T_Activities] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[ActivityId]
        WHERE ([Extent2].[UserId] = @p__linq__0) AND ([Extent1].[Id] = @p__linq__1)
    )  AS [Limit1]
2017-11-29 17:02:46,900 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:46,900 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:02:46,900 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:02:46,900 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:46 +08:00

2017-11-29 17:02:46,903 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:02:46,903 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:46,903 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:46 +08:00

2017-11-29 17:02:46,904 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:46 +08:00

2017-11-29 17:02:46,904 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Started transaction at 2017/11/29 17:02:46 +08:00

2017-11-29 17:02:46,905 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Activities]
SET [PrizeCount] = @0
WHERE ([Id] = @1)

2017-11-29 17:02:46,905 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '23' (Type = Int64)

2017-11-29 17:02:46,905 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '16' (Type = Int64)

2017-11-29 17:02:46,905 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:46 +08:00

2017-11-29 17:02:46,906 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: 1

2017-11-29 17:02:46,906 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:46,906 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Users]
SET [WinCount] = @0, [IsWon] = @1
WHERE ([Id] = @2)

2017-11-29 17:02:46,906 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '4' (Type = Int64)

2017-11-29 17:02:46,906 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: 'True' (Type = Boolean)

2017-11-29 17:02:46,906 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @2: '16' (Type = Int64)

2017-11-29 17:02:46,906 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:46 +08:00

2017-11-29 17:02:46,907 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: 1

2017-11-29 17:02:46,907 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:46,909 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Committed transaction at 2017/11/29 17:02:46 +08:00

2017-11-29 17:02:46,909 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:46 +08:00

2017-11-29 17:02:46,909 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:46 +08:00

2017-11-29 17:02:46,909 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[NickName] AS [NickName], 
    [Extent1].[PhotoUrl] AS [PhotoUrl], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[Address] AS [Address], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[PassCount] AS [PassCount], 
    [Extent1].[WinCount] AS [WinCount], 
    [Extent1].[IsWon] AS [IsWon], 
    [Extent1].[ChangeTime] AS [ChangeTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:02:46,910 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:46,910 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:02:46,910 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:46 +08:00

2017-11-29 17:02:46,912 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:02:46,912 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:46,912 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:46 +08:00

2017-11-29 17:02:46,913 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:46 +08:00

2017-11-29 17:02:46,914 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Started transaction at 2017/11/29 17:02:46 +08:00

2017-11-29 17:02:46,914 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Users]
SET [LoginErrorTimes] = @0
WHERE ([Id] = @1)

2017-11-29 17:02:46,914 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '0' (Type = Int32)

2017-11-29 17:02:46,914 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '16' (Type = Int64)

2017-11-29 17:02:46,914 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:46 +08:00

2017-11-29 17:02:46,915 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: 1

2017-11-29 17:02:46,915 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:46,916 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Committed transaction at 2017/11/29 17:02:46 +08:00

2017-11-29 17:02:46,916 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:46 +08:00

2017-11-29 17:02:48,118 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:48 +08:00

2017-11-29 17:02:48,119 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:02:48,119 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:48,119 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:02:48,119 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:48 +08:00

2017-11-29 17:02:48,122 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:02:48,122 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:48,122 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:48 +08:00

2017-11-29 17:02:48,122 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:48 +08:00

2017-11-29 17:02:48,122 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:02:48,122 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:48,122 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:02:48,122 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:48 +08:00

2017-11-29 17:02:48,123 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:02:48,124 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:48,124 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:48 +08:00

2017-11-29 17:02:48,125 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:48 +08:00

2017-11-29 17:02:48,125 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:02:48,125 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:48,125 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:02:48,125 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:48 +08:00

2017-11-29 17:02:48,128 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:02:48,128 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:48,128 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:48 +08:00

2017-11-29 17:02:48,128 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:48 +08:00

2017-11-29 17:02:48,129 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:02:48,129 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:48,129 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:02:48,129 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:48 +08:00

2017-11-29 17:02:48,130 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:02:48,130 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:48,130 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:48 +08:00

2017-11-29 17:02:48,130 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:48 +08:00

2017-11-29 17:02:48,131 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:02:48,131 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:48,131 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:02:48,131 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:48 +08:00

2017-11-29 17:02:48,134 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:02:48,134 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:48,134 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:48 +08:00

2017-11-29 17:02:50,094 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:50 +08:00

2017-11-29 17:02:50,094 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:02:50,094 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:50,094 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:02:50,094 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:50 +08:00

2017-11-29 17:02:50,097 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:02:50,097 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:50,097 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:50 +08:00

2017-11-29 17:02:50,097 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:50 +08:00

2017-11-29 17:02:50,097 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:02:50,097 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:50,097 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:02:50,097 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:50 +08:00

2017-11-29 17:02:50,099 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:02:50,099 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:50,099 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:50 +08:00

2017-11-29 17:02:50,099 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:50 +08:00

2017-11-29 17:02:50,100 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:02:50,100 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:50,100 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:02:50,100 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:50 +08:00

2017-11-29 17:02:50,103 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:02:50,103 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:50,103 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:50 +08:00

2017-11-29 17:02:50,103 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:50 +08:00

2017-11-29 17:02:50,104 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:02:50,104 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:50,104 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:02:50,104 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:50 +08:00

2017-11-29 17:02:50,105 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:02:50,105 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:50,105 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:50 +08:00

2017-11-29 17:02:50,105 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:50 +08:00

2017-11-29 17:02:50,106 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 3
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:02:50,106 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:50,106 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:02:50,106 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:50 +08:00

2017-11-29 17:02:50,108 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:02:50,108 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:50,109 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:50 +08:00

2017-11-29 17:02:51,993 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:51 +08:00

2017-11-29 17:02:51,993 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:02:51,993 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:51,993 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:02:51,993 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:51 +08:00

2017-11-29 17:02:51,996 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:02:51,996 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:51,996 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:51 +08:00

2017-11-29 17:02:51,996 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:51 +08:00

2017-11-29 17:02:51,996 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:02:51,996 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:51,996 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:02:51,996 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:51 +08:00

2017-11-29 17:02:51,998 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:02:51,998 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:51,998 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:51 +08:00

2017-11-29 17:02:51,998 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:51 +08:00

2017-11-29 17:02:51,999 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[NickName] AS [NickName], 
    [Extent1].[PhotoUrl] AS [PhotoUrl], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[Address] AS [Address], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[PassCount] AS [PassCount], 
    [Extent1].[WinCount] AS [WinCount], 
    [Extent1].[IsWon] AS [IsWon], 
    [Extent1].[ChangeTime] AS [ChangeTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:02:51,999 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:51,999 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '15' (Type = Int64, IsNullable = false)

2017-11-29 17:02:51,999 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:51 +08:00

2017-11-29 17:02:52,000 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:02:52,000 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:52,001 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:52 +08:00

2017-11-29 17:02:52,001 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:52 +08:00

2017-11-29 17:02:52,001 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Num] AS [Num], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[Description] AS [Description], 
    [Limit1].[ImgUrl] AS [ImgUrl], 
    [Limit1].[StatusId] AS [StatusId], 
    [Limit1].[WeChatUrl] AS [WeChatUrl], 
    [Limit1].[PaperId] AS [PaperId], 
    [Limit1].[PrizeName] AS [PrizeName], 
    [Limit1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Limit1].[VisitCount] AS [VisitCount], 
    [Limit1].[ForwardCount] AS [ForwardCount], 
    [Limit1].[AnswerCount] AS [AnswerCount], 
    [Limit1].[HavePrizeCount] AS [HavePrizeCount], 
    [Limit1].[PrizeCount] AS [PrizeCount], 
    [Limit1].[StartTime] AS [StartTime], 
    [Limit1].[ExamEndTime] AS [ExamEndTime], 
    [Limit1].[RewardTime] AS [RewardTime], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT TOP (2) 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Num] AS [Num], 
        [Extent1].[Name] AS [Name], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[ImgUrl] AS [ImgUrl], 
        [Extent1].[StatusId] AS [StatusId], 
        [Extent1].[WeChatUrl] AS [WeChatUrl], 
        [Extent1].[PaperId] AS [PaperId], 
        [Extent1].[PrizeName] AS [PrizeName], 
        [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
        [Extent1].[VisitCount] AS [VisitCount], 
        [Extent1].[ForwardCount] AS [ForwardCount], 
        [Extent1].[AnswerCount] AS [AnswerCount], 
        [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
        [Extent1].[PrizeCount] AS [PrizeCount], 
        [Extent1].[StartTime] AS [StartTime], 
        [Extent1].[ExamEndTime] AS [ExamEndTime], 
        [Extent1].[RewardTime] AS [RewardTime], 
        [Extent1].[IsDeleted] AS [IsDeleted], 
        [Extent1].[CreateDateTime] AS [CreateDateTime]
        FROM  [dbo].[T_Activities] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[ActivityId]
        WHERE ([Extent2].[UserId] = @p__linq__0) AND ([Extent1].[Id] = @p__linq__1)
    )  AS [Limit1]
2017-11-29 17:02:52,001 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:52,002 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '15' (Type = Int64, IsNullable = false)

2017-11-29 17:02:52,002 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:02:52,002 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:52 +08:00

2017-11-29 17:02:52,004 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:02:52,004 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:52,004 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:52 +08:00

2017-11-29 17:02:52,005 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:52 +08:00

2017-11-29 17:02:52,006 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Started transaction at 2017/11/29 17:02:52 +08:00

2017-11-29 17:02:52,006 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Activities]
SET [PrizeCount] = @0
WHERE ([Id] = @1)

2017-11-29 17:02:52,006 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '24' (Type = Int64)

2017-11-29 17:02:52,006 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '16' (Type = Int64)

2017-11-29 17:02:52,006 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:52 +08:00

2017-11-29 17:02:52,007 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: 1

2017-11-29 17:02:52,007 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:52,007 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Users]
SET [WinCount] = @0, [IsWon] = @1
WHERE ([Id] = @2)

2017-11-29 17:02:52,007 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '4' (Type = Int64)

2017-11-29 17:02:52,007 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: 'True' (Type = Boolean)

2017-11-29 17:02:52,007 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @2: '15' (Type = Int64)

2017-11-29 17:02:52,007 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:52 +08:00

2017-11-29 17:02:52,009 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: 1

2017-11-29 17:02:52,009 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:52,010 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Committed transaction at 2017/11/29 17:02:52 +08:00

2017-11-29 17:02:52,010 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:52 +08:00

2017-11-29 17:02:52,010 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:52 +08:00

2017-11-29 17:02:52,011 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[NickName] AS [NickName], 
    [Extent1].[PhotoUrl] AS [PhotoUrl], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[Address] AS [Address], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[PassCount] AS [PassCount], 
    [Extent1].[WinCount] AS [WinCount], 
    [Extent1].[IsWon] AS [IsWon], 
    [Extent1].[ChangeTime] AS [ChangeTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:02:52,011 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:52,011 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '15' (Type = Int64, IsNullable = false)

2017-11-29 17:02:52,011 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:52 +08:00

2017-11-29 17:02:52,013 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:02:52,013 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:52,013 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:52 +08:00

2017-11-29 17:02:52,014 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:52 +08:00

2017-11-29 17:02:52,015 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Started transaction at 2017/11/29 17:02:52 +08:00

2017-11-29 17:02:52,015 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Users]
SET [LoginErrorTimes] = @0
WHERE ([Id] = @1)

2017-11-29 17:02:52,015 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '0' (Type = Int32)

2017-11-29 17:02:52,015 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '15' (Type = Int64)

2017-11-29 17:02:52,015 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:52 +08:00

2017-11-29 17:02:52,016 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: 1

2017-11-29 17:02:52,016 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:52,017 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Committed transaction at 2017/11/29 17:02:52 +08:00

2017-11-29 17:02:52,017 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:52 +08:00

2017-11-29 17:02:52,865 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:52 +08:00

2017-11-29 17:02:52,865 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:02:52,866 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:52,866 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:02:52,866 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:52 +08:00

2017-11-29 17:02:52,869 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2017-11-29 17:02:52,869 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:52,869 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:52 +08:00

2017-11-29 17:02:52,869 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:52 +08:00

2017-11-29 17:02:52,870 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:02:52,870 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:52,870 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:02:52,870 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:52 +08:00

2017-11-29 17:02:52,871 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:02:52,871 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:52,871 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:52 +08:00

2017-11-29 17:02:52,871 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:52 +08:00

2017-11-29 17:02:52,872 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:02:52,872 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:52,872 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:02:52,872 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:52 +08:00

2017-11-29 17:02:52,874 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:02:52,874 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:52,875 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:52 +08:00

2017-11-29 17:02:52,875 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:52 +08:00

2017-11-29 17:02:52,876 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:02:52,876 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:52,876 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:02:52,876 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:52 +08:00

2017-11-29 17:02:52,877 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:02:52,877 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:52,877 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:52 +08:00

2017-11-29 17:02:52,877 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:52 +08:00

2017-11-29 17:02:52,877 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:02:52,878 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:52,878 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:02:52,878 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:52 +08:00

2017-11-29 17:02:52,880 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:02:52,880 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:52,881 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:52 +08:00

2017-11-29 17:02:55,578 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:55 +08:00

2017-11-29 17:02:55,578 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:02:55,578 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:55,579 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:02:55,579 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:55 +08:00

2017-11-29 17:02:55,581 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:02:55,581 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:55,581 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:55 +08:00

2017-11-29 17:02:55,582 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:55 +08:00

2017-11-29 17:02:55,582 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:02:55,582 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:55,582 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:02:55,582 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:55 +08:00

2017-11-29 17:02:55,583 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:02:55,583 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:55,583 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:55 +08:00

2017-11-29 17:02:55,584 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:55 +08:00

2017-11-29 17:02:55,584 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[NickName] AS [NickName], 
    [Extent1].[PhotoUrl] AS [PhotoUrl], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[Address] AS [Address], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[PassCount] AS [PassCount], 
    [Extent1].[WinCount] AS [WinCount], 
    [Extent1].[IsWon] AS [IsWon], 
    [Extent1].[ChangeTime] AS [ChangeTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:02:55,584 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:55,584 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '20' (Type = Int64, IsNullable = false)

2017-11-29 17:02:55,584 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:55 +08:00

2017-11-29 17:02:55,586 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:02:55,586 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:55,586 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:55 +08:00

2017-11-29 17:02:55,586 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:55 +08:00

2017-11-29 17:02:55,587 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Num] AS [Num], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[Description] AS [Description], 
    [Limit1].[ImgUrl] AS [ImgUrl], 
    [Limit1].[StatusId] AS [StatusId], 
    [Limit1].[WeChatUrl] AS [WeChatUrl], 
    [Limit1].[PaperId] AS [PaperId], 
    [Limit1].[PrizeName] AS [PrizeName], 
    [Limit1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Limit1].[VisitCount] AS [VisitCount], 
    [Limit1].[ForwardCount] AS [ForwardCount], 
    [Limit1].[AnswerCount] AS [AnswerCount], 
    [Limit1].[HavePrizeCount] AS [HavePrizeCount], 
    [Limit1].[PrizeCount] AS [PrizeCount], 
    [Limit1].[StartTime] AS [StartTime], 
    [Limit1].[ExamEndTime] AS [ExamEndTime], 
    [Limit1].[RewardTime] AS [RewardTime], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT TOP (2) 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Num] AS [Num], 
        [Extent1].[Name] AS [Name], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[ImgUrl] AS [ImgUrl], 
        [Extent1].[StatusId] AS [StatusId], 
        [Extent1].[WeChatUrl] AS [WeChatUrl], 
        [Extent1].[PaperId] AS [PaperId], 
        [Extent1].[PrizeName] AS [PrizeName], 
        [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
        [Extent1].[VisitCount] AS [VisitCount], 
        [Extent1].[ForwardCount] AS [ForwardCount], 
        [Extent1].[AnswerCount] AS [AnswerCount], 
        [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
        [Extent1].[PrizeCount] AS [PrizeCount], 
        [Extent1].[StartTime] AS [StartTime], 
        [Extent1].[ExamEndTime] AS [ExamEndTime], 
        [Extent1].[RewardTime] AS [RewardTime], 
        [Extent1].[IsDeleted] AS [IsDeleted], 
        [Extent1].[CreateDateTime] AS [CreateDateTime]
        FROM  [dbo].[T_Activities] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[ActivityId]
        WHERE ([Extent2].[UserId] = @p__linq__0) AND ([Extent1].[Id] = @p__linq__1)
    )  AS [Limit1]
2017-11-29 17:02:55,587 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:55,587 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '20' (Type = Int64, IsNullable = false)

2017-11-29 17:02:55,587 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:02:55,587 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:55 +08:00

2017-11-29 17:02:55,590 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:02:55,590 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:55,590 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:55 +08:00

2017-11-29 17:02:55,590 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:55 +08:00

2017-11-29 17:02:55,591 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Started transaction at 2017/11/29 17:02:55 +08:00

2017-11-29 17:02:55,592 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Activities]
SET [PrizeCount] = @0
WHERE ([Id] = @1)

2017-11-29 17:02:55,592 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '25' (Type = Int64)

2017-11-29 17:02:55,592 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '16' (Type = Int64)

2017-11-29 17:02:55,592 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:55 +08:00

2017-11-29 17:02:55,593 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: 1

2017-11-29 17:02:55,593 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:55,593 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Users]
SET [WinCount] = @0, [IsWon] = @1
WHERE ([Id] = @2)

2017-11-29 17:02:55,593 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '3' (Type = Int64)

2017-11-29 17:02:55,593 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: 'True' (Type = Boolean)

2017-11-29 17:02:55,593 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @2: '20' (Type = Int64)

2017-11-29 17:02:55,593 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:55 +08:00

2017-11-29 17:02:55,594 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: 1

2017-11-29 17:02:55,594 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:55,595 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Committed transaction at 2017/11/29 17:02:55 +08:00

2017-11-29 17:02:55,595 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:55 +08:00

2017-11-29 17:02:55,596 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:55 +08:00

2017-11-29 17:02:55,596 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[NickName] AS [NickName], 
    [Extent1].[PhotoUrl] AS [PhotoUrl], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[Address] AS [Address], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[PassCount] AS [PassCount], 
    [Extent1].[WinCount] AS [WinCount], 
    [Extent1].[IsWon] AS [IsWon], 
    [Extent1].[ChangeTime] AS [ChangeTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:02:55,596 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:55,596 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '20' (Type = Int64, IsNullable = false)

2017-11-29 17:02:55,596 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:55 +08:00

2017-11-29 17:02:55,599 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:02:55,599 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:55,599 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:55 +08:00

2017-11-29 17:02:55,599 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:55 +08:00

2017-11-29 17:02:55,600 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Started transaction at 2017/11/29 17:02:55 +08:00

2017-11-29 17:02:55,601 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Users]
SET [LoginErrorTimes] = @0
WHERE ([Id] = @1)

2017-11-29 17:02:55,601 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '0' (Type = Int32)

2017-11-29 17:02:55,601 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '20' (Type = Int64)

2017-11-29 17:02:55,601 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:55 +08:00

2017-11-29 17:02:55,602 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: 1

2017-11-29 17:02:55,602 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:55,603 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Committed transaction at 2017/11/29 17:02:55 +08:00

2017-11-29 17:02:55,603 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:55 +08:00

2017-11-29 17:02:55,604 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:55 +08:00

2017-11-29 17:02:55,604 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[NickName] AS [NickName], 
    [Extent1].[PhotoUrl] AS [PhotoUrl], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[Address] AS [Address], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[PassCount] AS [PassCount], 
    [Extent1].[WinCount] AS [WinCount], 
    [Extent1].[IsWon] AS [IsWon], 
    [Extent1].[ChangeTime] AS [ChangeTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:02:55,604 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:55,604 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '19' (Type = Int64, IsNullable = false)

2017-11-29 17:02:55,604 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:55 +08:00

2017-11-29 17:02:55,607 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:02:55,607 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:55,607 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:55 +08:00

2017-11-29 17:02:55,607 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:55 +08:00

2017-11-29 17:02:55,608 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Num] AS [Num], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[Description] AS [Description], 
    [Limit1].[ImgUrl] AS [ImgUrl], 
    [Limit1].[StatusId] AS [StatusId], 
    [Limit1].[WeChatUrl] AS [WeChatUrl], 
    [Limit1].[PaperId] AS [PaperId], 
    [Limit1].[PrizeName] AS [PrizeName], 
    [Limit1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Limit1].[VisitCount] AS [VisitCount], 
    [Limit1].[ForwardCount] AS [ForwardCount], 
    [Limit1].[AnswerCount] AS [AnswerCount], 
    [Limit1].[HavePrizeCount] AS [HavePrizeCount], 
    [Limit1].[PrizeCount] AS [PrizeCount], 
    [Limit1].[StartTime] AS [StartTime], 
    [Limit1].[ExamEndTime] AS [ExamEndTime], 
    [Limit1].[RewardTime] AS [RewardTime], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT TOP (2) 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Num] AS [Num], 
        [Extent1].[Name] AS [Name], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[ImgUrl] AS [ImgUrl], 
        [Extent1].[StatusId] AS [StatusId], 
        [Extent1].[WeChatUrl] AS [WeChatUrl], 
        [Extent1].[PaperId] AS [PaperId], 
        [Extent1].[PrizeName] AS [PrizeName], 
        [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
        [Extent1].[VisitCount] AS [VisitCount], 
        [Extent1].[ForwardCount] AS [ForwardCount], 
        [Extent1].[AnswerCount] AS [AnswerCount], 
        [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
        [Extent1].[PrizeCount] AS [PrizeCount], 
        [Extent1].[StartTime] AS [StartTime], 
        [Extent1].[ExamEndTime] AS [ExamEndTime], 
        [Extent1].[RewardTime] AS [RewardTime], 
        [Extent1].[IsDeleted] AS [IsDeleted], 
        [Extent1].[CreateDateTime] AS [CreateDateTime]
        FROM  [dbo].[T_Activities] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[ActivityId]
        WHERE ([Extent2].[UserId] = @p__linq__0) AND ([Extent1].[Id] = @p__linq__1)
    )  AS [Limit1]
2017-11-29 17:02:55,608 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:55,608 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '19' (Type = Int64, IsNullable = false)

2017-11-29 17:02:55,608 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:02:55,608 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:55 +08:00

2017-11-29 17:02:55,611 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:02:55,611 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:55,611 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:55 +08:00

2017-11-29 17:02:55,611 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:55 +08:00

2017-11-29 17:02:55,612 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Started transaction at 2017/11/29 17:02:55 +08:00

2017-11-29 17:02:55,613 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Activities]
SET [PrizeCount] = @0
WHERE ([Id] = @1)

2017-11-29 17:02:55,613 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '26' (Type = Int64)

2017-11-29 17:02:55,613 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '16' (Type = Int64)

2017-11-29 17:02:55,613 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:55 +08:00

2017-11-29 17:02:55,614 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: 1

2017-11-29 17:02:55,614 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:55,614 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Users]
SET [WinCount] = @0, [IsWon] = @1
WHERE ([Id] = @2)

2017-11-29 17:02:55,614 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '4' (Type = Int64)

2017-11-29 17:02:55,614 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: 'True' (Type = Boolean)

2017-11-29 17:02:55,614 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @2: '19' (Type = Int64)

2017-11-29 17:02:55,614 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:55 +08:00

2017-11-29 17:02:55,615 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: 1

2017-11-29 17:02:55,615 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:55,617 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Committed transaction at 2017/11/29 17:02:55 +08:00

2017-11-29 17:02:55,617 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:55 +08:00

2017-11-29 17:02:55,617 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:55 +08:00

2017-11-29 17:02:55,617 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[NickName] AS [NickName], 
    [Extent1].[PhotoUrl] AS [PhotoUrl], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[Address] AS [Address], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[PassCount] AS [PassCount], 
    [Extent1].[WinCount] AS [WinCount], 
    [Extent1].[IsWon] AS [IsWon], 
    [Extent1].[ChangeTime] AS [ChangeTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:02:55,618 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:55,618 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '19' (Type = Int64, IsNullable = false)

2017-11-29 17:02:55,618 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:55 +08:00

2017-11-29 17:02:55,620 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:02:55,620 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:55,620 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:55 +08:00

2017-11-29 17:02:55,621 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:55 +08:00

2017-11-29 17:02:55,621 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Started transaction at 2017/11/29 17:02:55 +08:00

2017-11-29 17:02:55,622 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Users]
SET [LoginErrorTimes] = @0
WHERE ([Id] = @1)

2017-11-29 17:02:55,622 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '0' (Type = Int32)

2017-11-29 17:02:55,622 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '19' (Type = Int64)

2017-11-29 17:02:55,622 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:55 +08:00

2017-11-29 17:02:55,623 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: 1

2017-11-29 17:02:55,623 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:55,624 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Committed transaction at 2017/11/29 17:02:55 +08:00

2017-11-29 17:02:55,624 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:55 +08:00

2017-11-29 17:02:56,893 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:56 +08:00

2017-11-29 17:02:56,893 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:02:56,894 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:56,894 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:02:56,894 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:56 +08:00

2017-11-29 17:02:56,897 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2017-11-29 17:02:56,897 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:56,897 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:56 +08:00

2017-11-29 17:02:56,898 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:56 +08:00

2017-11-29 17:02:56,898 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:02:56,898 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:56,898 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:02:56,898 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:56 +08:00

2017-11-29 17:02:56,899 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:02:56,899 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:56,899 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:56 +08:00

2017-11-29 17:02:56,900 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:56 +08:00

2017-11-29 17:02:56,901 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:02:56,901 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:56,901 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:02:56,902 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:56 +08:00

2017-11-29 17:02:56,904 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:02:56,904 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:56,904 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:56 +08:00

2017-11-29 17:02:56,905 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:56 +08:00

2017-11-29 17:02:56,905 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:02:56,905 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:56,905 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:02:56,905 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:56 +08:00

2017-11-29 17:02:56,906 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:02:56,906 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:56,906 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:56 +08:00

2017-11-29 17:02:56,907 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:56 +08:00

2017-11-29 17:02:56,907 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:02:56,907 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:56,907 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:02:56,907 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:56 +08:00

2017-11-29 17:02:56,910 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:02:56,910 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:56,910 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:56 +08:00

2017-11-29 17:02:58,695 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:58 +08:00

2017-11-29 17:02:58,695 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:02:58,695 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:58,695 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:02:58,695 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:58 +08:00

2017-11-29 17:02:58,698 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:02:58,698 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:58,699 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:58 +08:00

2017-11-29 17:02:58,699 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:58 +08:00

2017-11-29 17:02:58,699 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:02:58,699 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:58,699 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:02:58,699 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:58 +08:00

2017-11-29 17:02:58,700 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:02:58,700 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:58,700 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:58 +08:00

2017-11-29 17:02:58,701 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:58 +08:00

2017-11-29 17:02:58,701 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[NickName] AS [NickName], 
    [Extent1].[PhotoUrl] AS [PhotoUrl], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[Address] AS [Address], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[PassCount] AS [PassCount], 
    [Extent1].[WinCount] AS [WinCount], 
    [Extent1].[IsWon] AS [IsWon], 
    [Extent1].[ChangeTime] AS [ChangeTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:02:58,701 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:58,701 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '21' (Type = Int64, IsNullable = false)

2017-11-29 17:02:58,701 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:58 +08:00

2017-11-29 17:02:58,703 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:02:58,703 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:58,703 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:58 +08:00

2017-11-29 17:02:58,704 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:58 +08:00

2017-11-29 17:02:58,704 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Num] AS [Num], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[Description] AS [Description], 
    [Limit1].[ImgUrl] AS [ImgUrl], 
    [Limit1].[StatusId] AS [StatusId], 
    [Limit1].[WeChatUrl] AS [WeChatUrl], 
    [Limit1].[PaperId] AS [PaperId], 
    [Limit1].[PrizeName] AS [PrizeName], 
    [Limit1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Limit1].[VisitCount] AS [VisitCount], 
    [Limit1].[ForwardCount] AS [ForwardCount], 
    [Limit1].[AnswerCount] AS [AnswerCount], 
    [Limit1].[HavePrizeCount] AS [HavePrizeCount], 
    [Limit1].[PrizeCount] AS [PrizeCount], 
    [Limit1].[StartTime] AS [StartTime], 
    [Limit1].[ExamEndTime] AS [ExamEndTime], 
    [Limit1].[RewardTime] AS [RewardTime], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT TOP (2) 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Num] AS [Num], 
        [Extent1].[Name] AS [Name], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[ImgUrl] AS [ImgUrl], 
        [Extent1].[StatusId] AS [StatusId], 
        [Extent1].[WeChatUrl] AS [WeChatUrl], 
        [Extent1].[PaperId] AS [PaperId], 
        [Extent1].[PrizeName] AS [PrizeName], 
        [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
        [Extent1].[VisitCount] AS [VisitCount], 
        [Extent1].[ForwardCount] AS [ForwardCount], 
        [Extent1].[AnswerCount] AS [AnswerCount], 
        [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
        [Extent1].[PrizeCount] AS [PrizeCount], 
        [Extent1].[StartTime] AS [StartTime], 
        [Extent1].[ExamEndTime] AS [ExamEndTime], 
        [Extent1].[RewardTime] AS [RewardTime], 
        [Extent1].[IsDeleted] AS [IsDeleted], 
        [Extent1].[CreateDateTime] AS [CreateDateTime]
        FROM  [dbo].[T_Activities] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[ActivityId]
        WHERE ([Extent2].[UserId] = @p__linq__0) AND ([Extent1].[Id] = @p__linq__1)
    )  AS [Limit1]
2017-11-29 17:02:58,704 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:58,704 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '21' (Type = Int64, IsNullable = false)

2017-11-29 17:02:58,704 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:02:58,704 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:58 +08:00

2017-11-29 17:02:58,707 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:02:58,707 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:58,707 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:58 +08:00

2017-11-29 17:02:58,708 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:58 +08:00

2017-11-29 17:02:58,708 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Started transaction at 2017/11/29 17:02:58 +08:00

2017-11-29 17:02:58,709 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Activities]
SET [PrizeCount] = @0
WHERE ([Id] = @1)

2017-11-29 17:02:58,709 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '27' (Type = Int64)

2017-11-29 17:02:58,709 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '16' (Type = Int64)

2017-11-29 17:02:58,709 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:58 +08:00

2017-11-29 17:02:58,710 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: 1

2017-11-29 17:02:58,710 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:58,710 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Users]
SET [WinCount] = @0, [IsWon] = @1
WHERE ([Id] = @2)

2017-11-29 17:02:58,710 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '3' (Type = Int64)

2017-11-29 17:02:58,710 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: 'True' (Type = Boolean)

2017-11-29 17:02:58,710 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @2: '21' (Type = Int64)

2017-11-29 17:02:58,710 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:58 +08:00

2017-11-29 17:02:58,712 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: 1

2017-11-29 17:02:58,712 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:58,713 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Committed transaction at 2017/11/29 17:02:58 +08:00

2017-11-29 17:02:58,713 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:58 +08:00

2017-11-29 17:02:58,714 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:58 +08:00

2017-11-29 17:02:58,714 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[NickName] AS [NickName], 
    [Extent1].[PhotoUrl] AS [PhotoUrl], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[Address] AS [Address], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[PassCount] AS [PassCount], 
    [Extent1].[WinCount] AS [WinCount], 
    [Extent1].[IsWon] AS [IsWon], 
    [Extent1].[ChangeTime] AS [ChangeTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:02:58,714 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:58,714 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '21' (Type = Int64, IsNullable = false)

2017-11-29 17:02:58,714 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:58 +08:00

2017-11-29 17:02:58,716 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:02:58,717 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:58,717 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:58 +08:00

2017-11-29 17:02:58,717 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:58 +08:00

2017-11-29 17:02:58,718 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Started transaction at 2017/11/29 17:02:58 +08:00

2017-11-29 17:02:58,718 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Users]
SET [LoginErrorTimes] = @0
WHERE ([Id] = @1)

2017-11-29 17:02:58,719 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '0' (Type = Int32)

2017-11-29 17:02:58,719 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '21' (Type = Int64)

2017-11-29 17:02:58,719 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:58 +08:00

2017-11-29 17:02:58,719 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: 1

2017-11-29 17:02:58,719 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:58,721 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Committed transaction at 2017/11/29 17:02:58 +08:00

2017-11-29 17:02:58,721 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:58 +08:00

2017-11-29 17:02:59,622 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:59 +08:00

2017-11-29 17:02:59,623 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:02:59,623 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:59,623 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:02:59,623 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:59 +08:00

2017-11-29 17:02:59,626 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:02:59,626 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:59,626 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:59 +08:00

2017-11-29 17:02:59,626 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:59 +08:00

2017-11-29 17:02:59,626 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:02:59,626 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:59,626 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:02:59,626 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:59 +08:00

2017-11-29 17:02:59,627 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:02:59,627 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:59,627 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:59 +08:00

2017-11-29 17:02:59,628 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:59 +08:00

2017-11-29 17:02:59,628 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:02:59,628 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:59,628 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:02:59,628 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:59 +08:00

2017-11-29 17:02:59,631 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:02:59,631 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:59,631 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:59 +08:00

2017-11-29 17:02:59,632 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:59 +08:00

2017-11-29 17:02:59,632 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:02:59,632 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:59,632 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:02:59,632 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:59 +08:00

2017-11-29 17:02:59,633 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:02:59,633 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:59,633 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:59 +08:00

2017-11-29 17:02:59,634 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:02:59 +08:00

2017-11-29 17:02:59,634 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:02:59,634 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:59,634 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:02:59,634 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:02:59 +08:00

2017-11-29 17:02:59,637 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:02:59,637 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:02:59,637 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:02:59 +08:00

2017-11-29 17:03:13,904 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:13 +08:00

2017-11-29 17:03:13,904 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:03:13,904 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:13,904 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:03:13,904 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:13 +08:00

2017-11-29 17:03:13,907 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:03:13,907 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:13,907 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:13 +08:00

2017-11-29 17:03:13,907 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:13 +08:00

2017-11-29 17:03:13,907 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:03:13,907 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:13,907 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:03:13,908 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:13 +08:00

2017-11-29 17:03:13,909 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:03:13,909 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:13,909 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:13 +08:00

2017-11-29 17:03:13,910 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:13 +08:00

2017-11-29 17:03:13,910 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:03:13,910 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:13,910 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:03:13,910 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:13 +08:00

2017-11-29 17:03:13,913 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:03:13,913 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:13,913 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:13 +08:00

2017-11-29 17:03:13,913 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:13 +08:00

2017-11-29 17:03:13,914 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:03:13,914 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:13,914 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:03:13,914 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:13 +08:00

2017-11-29 17:03:13,915 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:03:13,915 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:13,915 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:13 +08:00

2017-11-29 17:03:13,915 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:13 +08:00

2017-11-29 17:03:13,916 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:03:13,916 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:13,916 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:03:13,916 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:13 +08:00

2017-11-29 17:03:13,918 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:03:13,919 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:13,919 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:13 +08:00

2017-11-29 17:03:22,321 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:22 +08:00

2017-11-29 17:03:22,321 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:03:22,321 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:22,321 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:03:22,321 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:22 +08:00

2017-11-29 17:03:22,324 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:03:22,324 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:22,324 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:22 +08:00

2017-11-29 17:03:22,324 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:22 +08:00

2017-11-29 17:03:22,324 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:03:22,324 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:22,324 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:03:22,324 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:22 +08:00

2017-11-29 17:03:22,325 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:03:22,325 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:22,326 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:22 +08:00

2017-11-29 17:03:22,326 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:22 +08:00

2017-11-29 17:03:22,326 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:03:22,327 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:22,327 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:03:22,327 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:22 +08:00

2017-11-29 17:03:22,329 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:03:22,329 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:22,329 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:22 +08:00

2017-11-29 17:03:22,330 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:22 +08:00

2017-11-29 17:03:22,330 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:03:22,330 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:22,330 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:03:22,330 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:22 +08:00

2017-11-29 17:03:22,331 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:03:22,331 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:22,331 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:22 +08:00

2017-11-29 17:03:22,332 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:22 +08:00

2017-11-29 17:03:22,336 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:03:22,336 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:22,336 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:03:22,336 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:22 +08:00

2017-11-29 17:03:22,339 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:03:22,339 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:22,339 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:22 +08:00

2017-11-29 17:03:24,315 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:24 +08:00

2017-11-29 17:03:24,316 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:03:24,316 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:24,316 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:03:24,316 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:24 +08:00

2017-11-29 17:03:24,319 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:03:24,319 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:24,319 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:24 +08:00

2017-11-29 17:03:24,319 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:24 +08:00

2017-11-29 17:03:24,319 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:03:24,319 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:24,319 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:03:24,319 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:24 +08:00

2017-11-29 17:03:24,320 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:03:24,320 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:24,320 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:24 +08:00

2017-11-29 17:03:24,321 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:24 +08:00

2017-11-29 17:03:24,321 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[NickName] AS [NickName], 
    [Extent1].[PhotoUrl] AS [PhotoUrl], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[Address] AS [Address], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[PassCount] AS [PassCount], 
    [Extent1].[WinCount] AS [WinCount], 
    [Extent1].[IsWon] AS [IsWon], 
    [Extent1].[ChangeTime] AS [ChangeTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:03:24,321 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:24,321 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '15' (Type = Int64, IsNullable = false)

2017-11-29 17:03:24,321 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:24 +08:00

2017-11-29 17:03:24,323 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:03:24,323 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:24,323 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:24 +08:00

2017-11-29 17:03:24,324 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:24 +08:00

2017-11-29 17:03:24,324 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Num] AS [Num], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[Description] AS [Description], 
    [Limit1].[ImgUrl] AS [ImgUrl], 
    [Limit1].[StatusId] AS [StatusId], 
    [Limit1].[WeChatUrl] AS [WeChatUrl], 
    [Limit1].[PaperId] AS [PaperId], 
    [Limit1].[PrizeName] AS [PrizeName], 
    [Limit1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Limit1].[VisitCount] AS [VisitCount], 
    [Limit1].[ForwardCount] AS [ForwardCount], 
    [Limit1].[AnswerCount] AS [AnswerCount], 
    [Limit1].[HavePrizeCount] AS [HavePrizeCount], 
    [Limit1].[PrizeCount] AS [PrizeCount], 
    [Limit1].[StartTime] AS [StartTime], 
    [Limit1].[ExamEndTime] AS [ExamEndTime], 
    [Limit1].[RewardTime] AS [RewardTime], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT TOP (2) 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Num] AS [Num], 
        [Extent1].[Name] AS [Name], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[ImgUrl] AS [ImgUrl], 
        [Extent1].[StatusId] AS [StatusId], 
        [Extent1].[WeChatUrl] AS [WeChatUrl], 
        [Extent1].[PaperId] AS [PaperId], 
        [Extent1].[PrizeName] AS [PrizeName], 
        [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
        [Extent1].[VisitCount] AS [VisitCount], 
        [Extent1].[ForwardCount] AS [ForwardCount], 
        [Extent1].[AnswerCount] AS [AnswerCount], 
        [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
        [Extent1].[PrizeCount] AS [PrizeCount], 
        [Extent1].[StartTime] AS [StartTime], 
        [Extent1].[ExamEndTime] AS [ExamEndTime], 
        [Extent1].[RewardTime] AS [RewardTime], 
        [Extent1].[IsDeleted] AS [IsDeleted], 
        [Extent1].[CreateDateTime] AS [CreateDateTime]
        FROM  [dbo].[T_Activities] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[ActivityId]
        WHERE ([Extent2].[UserId] = @p__linq__0) AND ([Extent1].[Id] = @p__linq__1)
    )  AS [Limit1]
2017-11-29 17:03:24,324 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:24,324 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '15' (Type = Int64, IsNullable = false)

2017-11-29 17:03:24,324 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:03:24,324 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:24 +08:00

2017-11-29 17:03:24,327 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:03:24,327 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:24,327 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:24 +08:00

2017-11-29 17:03:24,328 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:24 +08:00

2017-11-29 17:03:24,329 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Started transaction at 2017/11/29 17:03:24 +08:00

2017-11-29 17:03:24,329 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Activities]
SET [PrizeCount] = @0
WHERE ([Id] = @1)

2017-11-29 17:03:24,329 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '28' (Type = Int64)

2017-11-29 17:03:24,329 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '16' (Type = Int64)

2017-11-29 17:03:24,329 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:24 +08:00

2017-11-29 17:03:24,330 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: 1

2017-11-29 17:03:24,330 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:24,330 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Users]
SET [WinCount] = @0
WHERE ([Id] = @1)

2017-11-29 17:03:24,330 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '5' (Type = Int64)

2017-11-29 17:03:24,330 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '15' (Type = Int64)

2017-11-29 17:03:24,330 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:24 +08:00

2017-11-29 17:03:24,333 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: 1

2017-11-29 17:03:24,333 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:24,334 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Committed transaction at 2017/11/29 17:03:24 +08:00

2017-11-29 17:03:24,334 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:24 +08:00

2017-11-29 17:03:24,335 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:24 +08:00

2017-11-29 17:03:24,335 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[NickName] AS [NickName], 
    [Extent1].[PhotoUrl] AS [PhotoUrl], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[Address] AS [Address], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[PassCount] AS [PassCount], 
    [Extent1].[WinCount] AS [WinCount], 
    [Extent1].[IsWon] AS [IsWon], 
    [Extent1].[ChangeTime] AS [ChangeTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:03:24,335 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:24,335 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '15' (Type = Int64, IsNullable = false)

2017-11-29 17:03:24,335 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:24 +08:00

2017-11-29 17:03:24,338 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:03:24,338 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:24,338 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:24 +08:00

2017-11-29 17:03:24,338 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:24 +08:00

2017-11-29 17:03:24,339 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Started transaction at 2017/11/29 17:03:24 +08:00

2017-11-29 17:03:24,339 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Users]
SET [LoginErrorTimes] = @0
WHERE ([Id] = @1)

2017-11-29 17:03:24,339 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '0' (Type = Int32)

2017-11-29 17:03:24,339 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '15' (Type = Int64)

2017-11-29 17:03:24,339 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:24 +08:00

2017-11-29 17:03:24,340 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: 1

2017-11-29 17:03:24,340 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:24,342 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Committed transaction at 2017/11/29 17:03:24 +08:00

2017-11-29 17:03:24,342 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:24 +08:00

2017-11-29 17:03:25,411 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:25 +08:00

2017-11-29 17:03:25,411 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:03:25,412 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:25,412 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:03:25,412 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:25 +08:00

2017-11-29 17:03:25,421 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 9 ms with result: SqlDataReader

2017-11-29 17:03:25,421 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:25,422 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:25 +08:00

2017-11-29 17:03:25,422 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:25 +08:00

2017-11-29 17:03:25,422 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:03:25,422 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:25,422 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:03:25,422 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:25 +08:00

2017-11-29 17:03:25,423 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:03:25,423 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:25,423 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:25 +08:00

2017-11-29 17:03:25,424 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:25 +08:00

2017-11-29 17:03:25,424 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:03:25,424 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:25,424 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:03:25,424 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:25 +08:00

2017-11-29 17:03:25,427 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:03:25,427 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:25,427 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:25 +08:00

2017-11-29 17:03:25,427 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:25 +08:00

2017-11-29 17:03:25,428 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:03:25,428 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:25,428 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:03:25,428 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:25 +08:00

2017-11-29 17:03:25,429 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:03:25,429 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:25,429 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:25 +08:00

2017-11-29 17:03:25,429 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:25 +08:00

2017-11-29 17:03:25,430 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 6
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:03:25,430 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:25,430 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:03:25,430 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:25 +08:00

2017-11-29 17:03:25,433 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:03:25,433 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:25,433 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:25 +08:00

2017-11-29 17:03:34,865 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:34 +08:00

2017-11-29 17:03:34,865 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:03:34,865 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:34,865 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:03:34,865 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:34 +08:00

2017-11-29 17:03:34,868 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:03:34,868 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:34,868 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:34 +08:00

2017-11-29 17:03:34,868 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:34 +08:00

2017-11-29 17:03:34,868 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:03:34,868 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:34,868 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:03:34,868 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:34 +08:00

2017-11-29 17:03:34,870 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:03:34,870 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:34,870 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:34 +08:00

2017-11-29 17:03:34,870 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:34 +08:00

2017-11-29 17:03:34,871 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[NickName] AS [NickName], 
    [Extent1].[PhotoUrl] AS [PhotoUrl], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[Address] AS [Address], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[PassCount] AS [PassCount], 
    [Extent1].[WinCount] AS [WinCount], 
    [Extent1].[IsWon] AS [IsWon], 
    [Extent1].[ChangeTime] AS [ChangeTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:03:34,871 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:34,871 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '18' (Type = Int64, IsNullable = false)

2017-11-29 17:03:34,871 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:34 +08:00

2017-11-29 17:03:34,873 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:03:34,873 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:34,873 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:34 +08:00

2017-11-29 17:03:34,874 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:34 +08:00

2017-11-29 17:03:34,874 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Num] AS [Num], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[Description] AS [Description], 
    [Limit1].[ImgUrl] AS [ImgUrl], 
    [Limit1].[StatusId] AS [StatusId], 
    [Limit1].[WeChatUrl] AS [WeChatUrl], 
    [Limit1].[PaperId] AS [PaperId], 
    [Limit1].[PrizeName] AS [PrizeName], 
    [Limit1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Limit1].[VisitCount] AS [VisitCount], 
    [Limit1].[ForwardCount] AS [ForwardCount], 
    [Limit1].[AnswerCount] AS [AnswerCount], 
    [Limit1].[HavePrizeCount] AS [HavePrizeCount], 
    [Limit1].[PrizeCount] AS [PrizeCount], 
    [Limit1].[StartTime] AS [StartTime], 
    [Limit1].[ExamEndTime] AS [ExamEndTime], 
    [Limit1].[RewardTime] AS [RewardTime], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT TOP (2) 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Num] AS [Num], 
        [Extent1].[Name] AS [Name], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[ImgUrl] AS [ImgUrl], 
        [Extent1].[StatusId] AS [StatusId], 
        [Extent1].[WeChatUrl] AS [WeChatUrl], 
        [Extent1].[PaperId] AS [PaperId], 
        [Extent1].[PrizeName] AS [PrizeName], 
        [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
        [Extent1].[VisitCount] AS [VisitCount], 
        [Extent1].[ForwardCount] AS [ForwardCount], 
        [Extent1].[AnswerCount] AS [AnswerCount], 
        [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
        [Extent1].[PrizeCount] AS [PrizeCount], 
        [Extent1].[StartTime] AS [StartTime], 
        [Extent1].[ExamEndTime] AS [ExamEndTime], 
        [Extent1].[RewardTime] AS [RewardTime], 
        [Extent1].[IsDeleted] AS [IsDeleted], 
        [Extent1].[CreateDateTime] AS [CreateDateTime]
        FROM  [dbo].[T_Activities] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[ActivityId]
        WHERE ([Extent2].[UserId] = @p__linq__0) AND ([Extent1].[Id] = @p__linq__1)
    )  AS [Limit1]
2017-11-29 17:03:34,874 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:34,874 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '18' (Type = Int64, IsNullable = false)

2017-11-29 17:03:34,874 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:03:34,874 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:34 +08:00

2017-11-29 17:03:34,877 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:03:34,877 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:34,878 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:34 +08:00

2017-11-29 17:03:34,878 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:34 +08:00

2017-11-29 17:03:34,879 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Started transaction at 2017/11/29 17:03:34 +08:00

2017-11-29 17:03:34,879 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Activities]
SET [PrizeCount] = @0
WHERE ([Id] = @1)

2017-11-29 17:03:34,879 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '29' (Type = Int64)

2017-11-29 17:03:34,879 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '16' (Type = Int64)

2017-11-29 17:03:34,879 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:34 +08:00

2017-11-29 17:03:34,880 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: 1

2017-11-29 17:03:34,880 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:34,880 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Users]
SET [WinCount] = @0
WHERE ([Id] = @1)

2017-11-29 17:03:34,880 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '5' (Type = Int64)

2017-11-29 17:03:34,881 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '18' (Type = Int64)

2017-11-29 17:03:34,881 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:34 +08:00

2017-11-29 17:03:34,882 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: 1

2017-11-29 17:03:34,882 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:34,883 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Committed transaction at 2017/11/29 17:03:34 +08:00

2017-11-29 17:03:34,883 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:34 +08:00

2017-11-29 17:03:34,884 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:34 +08:00

2017-11-29 17:03:34,884 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[NickName] AS [NickName], 
    [Extent1].[PhotoUrl] AS [PhotoUrl], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[Address] AS [Address], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[PassCount] AS [PassCount], 
    [Extent1].[WinCount] AS [WinCount], 
    [Extent1].[IsWon] AS [IsWon], 
    [Extent1].[ChangeTime] AS [ChangeTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:03:34,884 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:34,884 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '18' (Type = Int64, IsNullable = false)

2017-11-29 17:03:34,884 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:34 +08:00

2017-11-29 17:03:34,886 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:03:34,886 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:34,886 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:34 +08:00

2017-11-29 17:03:34,887 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:34 +08:00

2017-11-29 17:03:34,887 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Started transaction at 2017/11/29 17:03:34 +08:00

2017-11-29 17:03:34,888 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Users]
SET [LoginErrorTimes] = @0
WHERE ([Id] = @1)

2017-11-29 17:03:34,888 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '0' (Type = Int32)

2017-11-29 17:03:34,888 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '18' (Type = Int64)

2017-11-29 17:03:34,888 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:34 +08:00

2017-11-29 17:03:34,889 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: 1

2017-11-29 17:03:34,889 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:34,890 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Committed transaction at 2017/11/29 17:03:34 +08:00

2017-11-29 17:03:34,890 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:34 +08:00

2017-11-29 17:03:34,891 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:34 +08:00

2017-11-29 17:03:34,891 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[NickName] AS [NickName], 
    [Extent1].[PhotoUrl] AS [PhotoUrl], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[Address] AS [Address], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[PassCount] AS [PassCount], 
    [Extent1].[WinCount] AS [WinCount], 
    [Extent1].[IsWon] AS [IsWon], 
    [Extent1].[ChangeTime] AS [ChangeTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:03:34,891 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:34,891 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '17' (Type = Int64, IsNullable = false)

2017-11-29 17:03:34,891 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:34 +08:00

2017-11-29 17:03:34,894 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:03:34,894 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:34,894 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:34 +08:00

2017-11-29 17:03:34,894 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:34 +08:00

2017-11-29 17:03:34,895 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Num] AS [Num], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[Description] AS [Description], 
    [Limit1].[ImgUrl] AS [ImgUrl], 
    [Limit1].[StatusId] AS [StatusId], 
    [Limit1].[WeChatUrl] AS [WeChatUrl], 
    [Limit1].[PaperId] AS [PaperId], 
    [Limit1].[PrizeName] AS [PrizeName], 
    [Limit1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Limit1].[VisitCount] AS [VisitCount], 
    [Limit1].[ForwardCount] AS [ForwardCount], 
    [Limit1].[AnswerCount] AS [AnswerCount], 
    [Limit1].[HavePrizeCount] AS [HavePrizeCount], 
    [Limit1].[PrizeCount] AS [PrizeCount], 
    [Limit1].[StartTime] AS [StartTime], 
    [Limit1].[ExamEndTime] AS [ExamEndTime], 
    [Limit1].[RewardTime] AS [RewardTime], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT TOP (2) 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Num] AS [Num], 
        [Extent1].[Name] AS [Name], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[ImgUrl] AS [ImgUrl], 
        [Extent1].[StatusId] AS [StatusId], 
        [Extent1].[WeChatUrl] AS [WeChatUrl], 
        [Extent1].[PaperId] AS [PaperId], 
        [Extent1].[PrizeName] AS [PrizeName], 
        [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
        [Extent1].[VisitCount] AS [VisitCount], 
        [Extent1].[ForwardCount] AS [ForwardCount], 
        [Extent1].[AnswerCount] AS [AnswerCount], 
        [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
        [Extent1].[PrizeCount] AS [PrizeCount], 
        [Extent1].[StartTime] AS [StartTime], 
        [Extent1].[ExamEndTime] AS [ExamEndTime], 
        [Extent1].[RewardTime] AS [RewardTime], 
        [Extent1].[IsDeleted] AS [IsDeleted], 
        [Extent1].[CreateDateTime] AS [CreateDateTime]
        FROM  [dbo].[T_Activities] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[ActivityId]
        WHERE ([Extent2].[UserId] = @p__linq__0) AND ([Extent1].[Id] = @p__linq__1)
    )  AS [Limit1]
2017-11-29 17:03:34,895 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:34,895 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '17' (Type = Int64, IsNullable = false)

2017-11-29 17:03:34,895 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:03:34,895 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:34 +08:00

2017-11-29 17:03:34,897 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:03:34,897 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:34,898 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:34 +08:00

2017-11-29 17:03:34,898 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:34 +08:00

2017-11-29 17:03:34,900 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Started transaction at 2017/11/29 17:03:34 +08:00

2017-11-29 17:03:34,901 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Activities]
SET [PrizeCount] = @0
WHERE ([Id] = @1)

2017-11-29 17:03:34,901 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '30' (Type = Int64)

2017-11-29 17:03:34,901 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '16' (Type = Int64)

2017-11-29 17:03:34,901 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:34 +08:00

2017-11-29 17:03:34,902 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: 1

2017-11-29 17:03:34,902 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:34,902 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Users]
SET [WinCount] = @0
WHERE ([Id] = @1)

2017-11-29 17:03:34,902 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '5' (Type = Int64)

2017-11-29 17:03:34,902 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '17' (Type = Int64)

2017-11-29 17:03:34,902 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:34 +08:00

2017-11-29 17:03:34,903 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: 1

2017-11-29 17:03:34,903 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:34,904 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Committed transaction at 2017/11/29 17:03:34 +08:00

2017-11-29 17:03:34,905 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:34 +08:00

2017-11-29 17:03:34,905 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:34 +08:00

2017-11-29 17:03:34,905 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[NickName] AS [NickName], 
    [Extent1].[PhotoUrl] AS [PhotoUrl], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[Address] AS [Address], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[PassCount] AS [PassCount], 
    [Extent1].[WinCount] AS [WinCount], 
    [Extent1].[IsWon] AS [IsWon], 
    [Extent1].[ChangeTime] AS [ChangeTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:03:34,905 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:34,905 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '17' (Type = Int64, IsNullable = false)

2017-11-29 17:03:34,905 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:34 +08:00

2017-11-29 17:03:34,908 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:03:34,908 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:34,908 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:34 +08:00

2017-11-29 17:03:34,908 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:34 +08:00

2017-11-29 17:03:34,910 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Started transaction at 2017/11/29 17:03:34 +08:00

2017-11-29 17:03:34,911 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Users]
SET [LoginErrorTimes] = @0
WHERE ([Id] = @1)

2017-11-29 17:03:34,911 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '0' (Type = Int32)

2017-11-29 17:03:34,911 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '17' (Type = Int64)

2017-11-29 17:03:34,911 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:34 +08:00

2017-11-29 17:03:34,912 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: 1

2017-11-29 17:03:34,912 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:34,913 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Committed transaction at 2017/11/29 17:03:34 +08:00

2017-11-29 17:03:34,913 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:34 +08:00

2017-11-29 17:03:35,967 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:35 +08:00

2017-11-29 17:03:35,967 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:03:35,967 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:35,968 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:03:35,968 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:35 +08:00

2017-11-29 17:03:35,970 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:03:35,970 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:35,970 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:35 +08:00

2017-11-29 17:03:35,971 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:35 +08:00

2017-11-29 17:03:35,971 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:03:35,971 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:35,971 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:03:35,971 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:35 +08:00

2017-11-29 17:03:35,972 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:03:35,972 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:35,972 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:35 +08:00

2017-11-29 17:03:35,973 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:35 +08:00

2017-11-29 17:03:35,973 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:03:35,973 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:35,973 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:03:35,973 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:35 +08:00

2017-11-29 17:03:35,976 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:03:35,976 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:35,976 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:35 +08:00

2017-11-29 17:03:35,977 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:35 +08:00

2017-11-29 17:03:35,977 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:03:35,977 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:35,977 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:03:35,977 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:35 +08:00

2017-11-29 17:03:35,979 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:03:35,979 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:35,979 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:35 +08:00

2017-11-29 17:03:35,979 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:35 +08:00

2017-11-29 17:03:35,980 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 3
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:03:35,980 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:35,980 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:03:35,980 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:35 +08:00

2017-11-29 17:03:35,982 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:03:35,982 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:35,983 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:35 +08:00

2017-11-29 17:03:39,587 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:39 +08:00

2017-11-29 17:03:39,587 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:03:39,587 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:39,587 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:03:39,587 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:39 +08:00

2017-11-29 17:03:39,590 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:03:39,590 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:39,590 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:39 +08:00

2017-11-29 17:03:39,590 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:39 +08:00

2017-11-29 17:03:39,590 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:03:39,590 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:39,590 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:03:39,591 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:39 +08:00

2017-11-29 17:03:39,592 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:03:39,592 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:39,592 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:39 +08:00

2017-11-29 17:03:39,592 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:39 +08:00

2017-11-29 17:03:39,593 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:03:39,593 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:39,593 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:03:39,593 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:39 +08:00

2017-11-29 17:03:39,595 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:03:39,595 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:39,595 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:39 +08:00

2017-11-29 17:03:39,596 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:39 +08:00

2017-11-29 17:03:39,596 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:03:39,596 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:39,596 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:03:39,596 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:39 +08:00

2017-11-29 17:03:39,597 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:03:39,597 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:39,598 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:39 +08:00

2017-11-29 17:03:39,598 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:39 +08:00

2017-11-29 17:03:39,598 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 6
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:03:39,598 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:39,598 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:03:39,598 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:39 +08:00

2017-11-29 17:03:39,601 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:03:39,601 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:39,601 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:39 +08:00

2017-11-29 17:03:41,809 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:41 +08:00

2017-11-29 17:03:41,809 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:03:41,809 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:41,810 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:03:41,810 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:41 +08:00

2017-11-29 17:03:41,813 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:03:41,813 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:41,813 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:41 +08:00

2017-11-29 17:03:41,813 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:41 +08:00

2017-11-29 17:03:41,813 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:03:41,813 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:41,813 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:03:41,813 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:41 +08:00

2017-11-29 17:03:41,814 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:03:41,814 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:41,814 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:41 +08:00

2017-11-29 17:03:41,815 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:41 +08:00

2017-11-29 17:03:41,815 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[NickName] AS [NickName], 
    [Extent1].[PhotoUrl] AS [PhotoUrl], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[Address] AS [Address], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[PassCount] AS [PassCount], 
    [Extent1].[WinCount] AS [WinCount], 
    [Extent1].[IsWon] AS [IsWon], 
    [Extent1].[ChangeTime] AS [ChangeTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:03:41,815 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:41,815 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:03:41,815 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:41 +08:00

2017-11-29 17:03:41,817 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:03:41,817 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:41,817 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:41 +08:00

2017-11-29 17:03:41,817 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:41 +08:00

2017-11-29 17:03:41,818 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Num] AS [Num], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[Description] AS [Description], 
    [Limit1].[ImgUrl] AS [ImgUrl], 
    [Limit1].[StatusId] AS [StatusId], 
    [Limit1].[WeChatUrl] AS [WeChatUrl], 
    [Limit1].[PaperId] AS [PaperId], 
    [Limit1].[PrizeName] AS [PrizeName], 
    [Limit1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Limit1].[VisitCount] AS [VisitCount], 
    [Limit1].[ForwardCount] AS [ForwardCount], 
    [Limit1].[AnswerCount] AS [AnswerCount], 
    [Limit1].[HavePrizeCount] AS [HavePrizeCount], 
    [Limit1].[PrizeCount] AS [PrizeCount], 
    [Limit1].[StartTime] AS [StartTime], 
    [Limit1].[ExamEndTime] AS [ExamEndTime], 
    [Limit1].[RewardTime] AS [RewardTime], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT TOP (2) 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Num] AS [Num], 
        [Extent1].[Name] AS [Name], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[ImgUrl] AS [ImgUrl], 
        [Extent1].[StatusId] AS [StatusId], 
        [Extent1].[WeChatUrl] AS [WeChatUrl], 
        [Extent1].[PaperId] AS [PaperId], 
        [Extent1].[PrizeName] AS [PrizeName], 
        [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
        [Extent1].[VisitCount] AS [VisitCount], 
        [Extent1].[ForwardCount] AS [ForwardCount], 
        [Extent1].[AnswerCount] AS [AnswerCount], 
        [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
        [Extent1].[PrizeCount] AS [PrizeCount], 
        [Extent1].[StartTime] AS [StartTime], 
        [Extent1].[ExamEndTime] AS [ExamEndTime], 
        [Extent1].[RewardTime] AS [RewardTime], 
        [Extent1].[IsDeleted] AS [IsDeleted], 
        [Extent1].[CreateDateTime] AS [CreateDateTime]
        FROM  [dbo].[T_Activities] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[ActivityId]
        WHERE ([Extent2].[UserId] = @p__linq__0) AND ([Extent1].[Id] = @p__linq__1)
    )  AS [Limit1]
2017-11-29 17:03:41,818 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:41,818 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:03:41,818 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:03:41,818 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:41 +08:00

2017-11-29 17:03:41,821 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:03:41,821 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:41,821 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:41 +08:00

2017-11-29 17:03:41,822 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:41 +08:00

2017-11-29 17:03:41,823 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Started transaction at 2017/11/29 17:03:41 +08:00

2017-11-29 17:03:41,823 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Activities]
SET [PrizeCount] = @0
WHERE ([Id] = @1)

2017-11-29 17:03:41,823 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '31' (Type = Int64)

2017-11-29 17:03:41,823 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '16' (Type = Int64)

2017-11-29 17:03:41,823 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:41 +08:00

2017-11-29 17:03:41,824 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: 1

2017-11-29 17:03:41,824 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:41,824 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Users]
SET [WinCount] = @0
WHERE ([Id] = @1)

2017-11-29 17:03:41,824 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '5' (Type = Int64)

2017-11-29 17:03:41,824 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '16' (Type = Int64)

2017-11-29 17:03:41,824 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:41 +08:00

2017-11-29 17:03:41,825 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: 1

2017-11-29 17:03:41,825 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:41,827 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Committed transaction at 2017/11/29 17:03:41 +08:00

2017-11-29 17:03:41,827 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:41 +08:00

2017-11-29 17:03:41,827 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:41 +08:00

2017-11-29 17:03:41,828 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[NickName] AS [NickName], 
    [Extent1].[PhotoUrl] AS [PhotoUrl], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[Address] AS [Address], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[PassCount] AS [PassCount], 
    [Extent1].[WinCount] AS [WinCount], 
    [Extent1].[IsWon] AS [IsWon], 
    [Extent1].[ChangeTime] AS [ChangeTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:03:41,828 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:41,828 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:03:41,828 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:41 +08:00

2017-11-29 17:03:41,842 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 14 ms with result: SqlDataReader

2017-11-29 17:03:41,842 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:41,842 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:41 +08:00

2017-11-29 17:03:41,843 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:41 +08:00

2017-11-29 17:03:41,849 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Started transaction at 2017/11/29 17:03:41 +08:00

2017-11-29 17:03:41,849 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Users]
SET [LoginErrorTimes] = @0
WHERE ([Id] = @1)

2017-11-29 17:03:41,849 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '0' (Type = Int32)

2017-11-29 17:03:41,849 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '16' (Type = Int64)

2017-11-29 17:03:41,849 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:41 +08:00

2017-11-29 17:03:41,852 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: 1

2017-11-29 17:03:41,852 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:41,854 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Committed transaction at 2017/11/29 17:03:41 +08:00

2017-11-29 17:03:41,854 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:41 +08:00

2017-11-29 17:03:42,856 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:42 +08:00

2017-11-29 17:03:42,856 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:03:42,860 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:42,861 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:03:42,861 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:42 +08:00

2017-11-29 17:03:42,863 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:03:42,863 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:42,863 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:42 +08:00

2017-11-29 17:03:42,863 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:42 +08:00

2017-11-29 17:03:42,864 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:03:42,864 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:42,864 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:03:42,864 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:42 +08:00

2017-11-29 17:03:42,865 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:03:42,865 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:42,865 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:42 +08:00

2017-11-29 17:03:42,865 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:42 +08:00

2017-11-29 17:03:42,866 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:03:42,866 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:42,866 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:03:42,866 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:42 +08:00

2017-11-29 17:03:42,868 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:03:42,868 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:42,869 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:42 +08:00

2017-11-29 17:03:42,869 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:42 +08:00

2017-11-29 17:03:42,869 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:03:42,869 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:42,870 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:03:42,870 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:42 +08:00

2017-11-29 17:03:42,870 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:03:42,871 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:42,871 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:42 +08:00

2017-11-29 17:03:42,871 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:42 +08:00

2017-11-29 17:03:42,871 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 3
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:03:42,871 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:42,871 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:03:42,871 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:42 +08:00

2017-11-29 17:03:42,874 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:03:42,874 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:42,874 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:42 +08:00

2017-11-29 17:03:50,895 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:50 +08:00

2017-11-29 17:03:50,896 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:03:50,896 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:50,896 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:03:50,896 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:50 +08:00

2017-11-29 17:03:50,898 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:03:50,899 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:50,899 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:50 +08:00

2017-11-29 17:03:50,899 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:50 +08:00

2017-11-29 17:03:50,899 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:03:50,899 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:50,899 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:03:50,899 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:50 +08:00

2017-11-29 17:03:50,900 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:03:50,900 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:50,900 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:50 +08:00

2017-11-29 17:03:50,901 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:50 +08:00

2017-11-29 17:03:50,901 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[NickName] AS [NickName], 
    [Extent1].[PhotoUrl] AS [PhotoUrl], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[Address] AS [Address], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[PassCount] AS [PassCount], 
    [Extent1].[WinCount] AS [WinCount], 
    [Extent1].[IsWon] AS [IsWon], 
    [Extent1].[ChangeTime] AS [ChangeTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:03:50,902 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:50,902 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '20' (Type = Int64, IsNullable = false)

2017-11-29 17:03:50,902 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:50 +08:00

2017-11-29 17:03:50,903 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:03:50,903 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:50,903 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:50 +08:00

2017-11-29 17:03:50,904 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:50 +08:00

2017-11-29 17:03:50,904 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Num] AS [Num], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[Description] AS [Description], 
    [Limit1].[ImgUrl] AS [ImgUrl], 
    [Limit1].[StatusId] AS [StatusId], 
    [Limit1].[WeChatUrl] AS [WeChatUrl], 
    [Limit1].[PaperId] AS [PaperId], 
    [Limit1].[PrizeName] AS [PrizeName], 
    [Limit1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Limit1].[VisitCount] AS [VisitCount], 
    [Limit1].[ForwardCount] AS [ForwardCount], 
    [Limit1].[AnswerCount] AS [AnswerCount], 
    [Limit1].[HavePrizeCount] AS [HavePrizeCount], 
    [Limit1].[PrizeCount] AS [PrizeCount], 
    [Limit1].[StartTime] AS [StartTime], 
    [Limit1].[ExamEndTime] AS [ExamEndTime], 
    [Limit1].[RewardTime] AS [RewardTime], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT TOP (2) 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Num] AS [Num], 
        [Extent1].[Name] AS [Name], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[ImgUrl] AS [ImgUrl], 
        [Extent1].[StatusId] AS [StatusId], 
        [Extent1].[WeChatUrl] AS [WeChatUrl], 
        [Extent1].[PaperId] AS [PaperId], 
        [Extent1].[PrizeName] AS [PrizeName], 
        [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
        [Extent1].[VisitCount] AS [VisitCount], 
        [Extent1].[ForwardCount] AS [ForwardCount], 
        [Extent1].[AnswerCount] AS [AnswerCount], 
        [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
        [Extent1].[PrizeCount] AS [PrizeCount], 
        [Extent1].[StartTime] AS [StartTime], 
        [Extent1].[ExamEndTime] AS [ExamEndTime], 
        [Extent1].[RewardTime] AS [RewardTime], 
        [Extent1].[IsDeleted] AS [IsDeleted], 
        [Extent1].[CreateDateTime] AS [CreateDateTime]
        FROM  [dbo].[T_Activities] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[ActivityId]
        WHERE ([Extent2].[UserId] = @p__linq__0) AND ([Extent1].[Id] = @p__linq__1)
    )  AS [Limit1]
2017-11-29 17:03:50,904 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:50,904 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '20' (Type = Int64, IsNullable = false)

2017-11-29 17:03:50,904 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:03:50,904 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:50 +08:00

2017-11-29 17:03:50,907 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:03:50,907 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:50,907 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:50 +08:00

2017-11-29 17:03:50,908 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:50 +08:00

2017-11-29 17:03:50,909 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Started transaction at 2017/11/29 17:03:50 +08:00

2017-11-29 17:03:50,909 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Activities]
SET [PrizeCount] = @0
WHERE ([Id] = @1)

2017-11-29 17:03:50,909 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '32' (Type = Int64)

2017-11-29 17:03:50,909 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '16' (Type = Int64)

2017-11-29 17:03:50,909 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:50 +08:00

2017-11-29 17:03:50,910 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: 1

2017-11-29 17:03:50,910 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:50,910 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Users]
SET [WinCount] = @0
WHERE ([Id] = @1)

2017-11-29 17:03:50,910 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '4' (Type = Int64)

2017-11-29 17:03:50,910 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '20' (Type = Int64)

2017-11-29 17:03:50,910 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:50 +08:00

2017-11-29 17:03:50,912 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: 1

2017-11-29 17:03:50,912 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:50,913 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Committed transaction at 2017/11/29 17:03:50 +08:00

2017-11-29 17:03:50,913 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:50 +08:00

2017-11-29 17:03:50,914 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:50 +08:00

2017-11-29 17:03:50,914 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[NickName] AS [NickName], 
    [Extent1].[PhotoUrl] AS [PhotoUrl], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[Address] AS [Address], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[PassCount] AS [PassCount], 
    [Extent1].[WinCount] AS [WinCount], 
    [Extent1].[IsWon] AS [IsWon], 
    [Extent1].[ChangeTime] AS [ChangeTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:03:50,914 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:50,914 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '20' (Type = Int64, IsNullable = false)

2017-11-29 17:03:50,914 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:50 +08:00

2017-11-29 17:03:50,916 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:03:50,916 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:50,917 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:50 +08:00

2017-11-29 17:03:50,917 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:50 +08:00

2017-11-29 17:03:50,918 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Started transaction at 2017/11/29 17:03:50 +08:00

2017-11-29 17:03:50,918 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Users]
SET [LoginErrorTimes] = @0
WHERE ([Id] = @1)

2017-11-29 17:03:50,918 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '0' (Type = Int32)

2017-11-29 17:03:50,918 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '20' (Type = Int64)

2017-11-29 17:03:50,918 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:50 +08:00

2017-11-29 17:03:50,919 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: 1

2017-11-29 17:03:50,919 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:50,921 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Committed transaction at 2017/11/29 17:03:50 +08:00

2017-11-29 17:03:50,921 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:50 +08:00

2017-11-29 17:03:51,925 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:51 +08:00

2017-11-29 17:03:51,925 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:03:51,925 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:51,925 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:03:51,925 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:51 +08:00

2017-11-29 17:03:51,928 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:03:51,928 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:51,928 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:51 +08:00

2017-11-29 17:03:51,929 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:51 +08:00

2017-11-29 17:03:51,929 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:03:51,929 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:51,929 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:03:51,929 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:51 +08:00

2017-11-29 17:03:51,930 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:03:51,930 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:51,930 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:51 +08:00

2017-11-29 17:03:51,931 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:51 +08:00

2017-11-29 17:03:51,932 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:03:51,932 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:51,932 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:03:51,932 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:51 +08:00

2017-11-29 17:03:51,934 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:03:51,934 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:51,935 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:51 +08:00

2017-11-29 17:03:51,935 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:51 +08:00

2017-11-29 17:03:51,935 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:03:51,936 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:51,936 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:03:51,936 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:51 +08:00

2017-11-29 17:03:51,937 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:03:51,937 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:51,937 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:51 +08:00

2017-11-29 17:03:51,937 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:03:51 +08:00

2017-11-29 17:03:51,938 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:03:51,938 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:51,938 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:03:51,938 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:03:51 +08:00

2017-11-29 17:03:51,940 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:03:51,941 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:03:51,941 [50] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:03:51 +08:00

2017-11-29 17:10:05,607 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:05 +08:00

2017-11-29 17:10:05,607 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:05,608 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:05,608 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:05,608 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:05 +08:00

2017-11-29 17:10:05,610 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:05,610 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:05,610 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:05 +08:00

2017-11-29 17:10:05,611 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:05 +08:00

2017-11-29 17:10:05,611 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:05,611 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:05,611 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:05,611 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:05 +08:00

2017-11-29 17:10:05,612 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:05,612 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:05,612 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:05 +08:00

2017-11-29 17:10:05,613 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:05 +08:00

2017-11-29 17:10:05,613 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:05,613 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:05,613 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:05,613 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:05 +08:00

2017-11-29 17:10:05,616 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2017-11-29 17:10:05,616 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:05,617 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:05 +08:00

2017-11-29 17:10:05,617 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:05 +08:00

2017-11-29 17:10:05,618 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:05,618 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:05,618 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:05,618 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:05 +08:00

2017-11-29 17:10:05,619 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:05,619 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:05,619 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:05 +08:00

2017-11-29 17:10:05,619 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:05 +08:00

2017-11-29 17:10:05,620 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:05,620 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:05,620 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:05,620 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:05 +08:00

2017-11-29 17:10:05,623 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:05,623 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:05,623 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:05 +08:00

2017-11-29 17:10:12,845 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:12 +08:00

2017-11-29 17:10:12,846 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:12,846 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:12,846 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:12,846 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:12 +08:00

2017-11-29 17:10:12,849 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:12,849 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:12,849 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:12 +08:00

2017-11-29 17:10:12,850 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:12 +08:00

2017-11-29 17:10:12,850 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:12,850 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:12,850 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:12,850 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:12 +08:00

2017-11-29 17:10:12,851 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:12,851 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:12,851 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:12 +08:00

2017-11-29 17:10:12,852 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:12 +08:00

2017-11-29 17:10:12,852 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[NickName] AS [NickName], 
    [Extent1].[PhotoUrl] AS [PhotoUrl], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[Address] AS [Address], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[PassCount] AS [PassCount], 
    [Extent1].[WinCount] AS [WinCount], 
    [Extent1].[IsWon] AS [IsWon], 
    [Extent1].[ChangeTime] AS [ChangeTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:12,852 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:12,852 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '23' (Type = Int64, IsNullable = false)

2017-11-29 17:10:12,852 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:12 +08:00

2017-11-29 17:10:12,855 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:12,855 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:12,855 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:12 +08:00

2017-11-29 17:10:12,855 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:12 +08:00

2017-11-29 17:10:12,856 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Num] AS [Num], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[Description] AS [Description], 
    [Limit1].[ImgUrl] AS [ImgUrl], 
    [Limit1].[StatusId] AS [StatusId], 
    [Limit1].[WeChatUrl] AS [WeChatUrl], 
    [Limit1].[PaperId] AS [PaperId], 
    [Limit1].[PrizeName] AS [PrizeName], 
    [Limit1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Limit1].[VisitCount] AS [VisitCount], 
    [Limit1].[ForwardCount] AS [ForwardCount], 
    [Limit1].[AnswerCount] AS [AnswerCount], 
    [Limit1].[HavePrizeCount] AS [HavePrizeCount], 
    [Limit1].[PrizeCount] AS [PrizeCount], 
    [Limit1].[StartTime] AS [StartTime], 
    [Limit1].[ExamEndTime] AS [ExamEndTime], 
    [Limit1].[RewardTime] AS [RewardTime], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT TOP (2) 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Num] AS [Num], 
        [Extent1].[Name] AS [Name], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[ImgUrl] AS [ImgUrl], 
        [Extent1].[StatusId] AS [StatusId], 
        [Extent1].[WeChatUrl] AS [WeChatUrl], 
        [Extent1].[PaperId] AS [PaperId], 
        [Extent1].[PrizeName] AS [PrizeName], 
        [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
        [Extent1].[VisitCount] AS [VisitCount], 
        [Extent1].[ForwardCount] AS [ForwardCount], 
        [Extent1].[AnswerCount] AS [AnswerCount], 
        [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
        [Extent1].[PrizeCount] AS [PrizeCount], 
        [Extent1].[StartTime] AS [StartTime], 
        [Extent1].[ExamEndTime] AS [ExamEndTime], 
        [Extent1].[RewardTime] AS [RewardTime], 
        [Extent1].[IsDeleted] AS [IsDeleted], 
        [Extent1].[CreateDateTime] AS [CreateDateTime]
        FROM  [dbo].[T_Activities] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[ActivityId]
        WHERE ([Extent2].[UserId] = @p__linq__0) AND ([Extent1].[Id] = @p__linq__1)
    )  AS [Limit1]
2017-11-29 17:10:12,856 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:12,856 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '23' (Type = Int64, IsNullable = false)

2017-11-29 17:10:12,856 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:12,856 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:12 +08:00

2017-11-29 17:10:12,859 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:12,859 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:12,859 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:12 +08:00

2017-11-29 17:10:12,859 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:12 +08:00

2017-11-29 17:10:12,860 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Started transaction at 2017/11/29 17:10:12 +08:00

2017-11-29 17:10:12,861 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Activities]
SET [PrizeCount] = @0
WHERE ([Id] = @1)

2017-11-29 17:10:12,861 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '33' (Type = Int64)

2017-11-29 17:10:12,861 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '16' (Type = Int64)

2017-11-29 17:10:12,861 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:12 +08:00

2017-11-29 17:10:12,862 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: 1

2017-11-29 17:10:12,862 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:12,862 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Users]
SET [WinCount] = @0
WHERE ([Id] = @1)

2017-11-29 17:10:12,862 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '4' (Type = Int64)

2017-11-29 17:10:12,862 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '23' (Type = Int64)

2017-11-29 17:10:12,862 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:12 +08:00

2017-11-29 17:10:12,863 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: 1

2017-11-29 17:10:12,863 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:12,864 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Committed transaction at 2017/11/29 17:10:12 +08:00

2017-11-29 17:10:12,865 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:12 +08:00

2017-11-29 17:10:12,865 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:12 +08:00

2017-11-29 17:10:12,866 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[NickName] AS [NickName], 
    [Extent1].[PhotoUrl] AS [PhotoUrl], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[Address] AS [Address], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[PassCount] AS [PassCount], 
    [Extent1].[WinCount] AS [WinCount], 
    [Extent1].[IsWon] AS [IsWon], 
    [Extent1].[ChangeTime] AS [ChangeTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:12,866 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:12,866 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '23' (Type = Int64, IsNullable = false)

2017-11-29 17:10:12,866 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:12 +08:00

2017-11-29 17:10:12,867 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:12,868 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:12,868 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:12 +08:00

2017-11-29 17:10:12,868 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:12 +08:00

2017-11-29 17:10:12,869 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Started transaction at 2017/11/29 17:10:12 +08:00

2017-11-29 17:10:12,869 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Users]
SET [LoginErrorTimes] = @0
WHERE ([Id] = @1)

2017-11-29 17:10:12,869 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '0' (Type = Int32)

2017-11-29 17:10:12,869 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '23' (Type = Int64)

2017-11-29 17:10:12,869 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:12 +08:00

2017-11-29 17:10:12,870 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: 1

2017-11-29 17:10:12,870 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:12,872 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Committed transaction at 2017/11/29 17:10:12 +08:00

2017-11-29 17:10:12,872 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:12 +08:00

2017-11-29 17:10:13,940 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:13 +08:00

2017-11-29 17:10:13,940 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:13,940 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:13,940 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:13,940 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:13 +08:00

2017-11-29 17:10:13,943 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2017-11-29 17:10:13,943 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:13,944 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:13 +08:00

2017-11-29 17:10:13,944 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:13 +08:00

2017-11-29 17:10:13,944 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:13,944 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:13,944 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:13,944 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:13 +08:00

2017-11-29 17:10:13,945 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:13,945 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:13,945 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:13 +08:00

2017-11-29 17:10:13,946 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:13 +08:00

2017-11-29 17:10:13,946 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:13,947 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:13,947 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:13,947 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:13 +08:00

2017-11-29 17:10:13,949 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:13,949 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:13,949 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:13 +08:00

2017-11-29 17:10:13,950 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:13 +08:00

2017-11-29 17:10:13,950 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:13,950 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:13,950 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:13,950 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:13 +08:00

2017-11-29 17:10:13,951 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:13,951 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:13,952 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:13 +08:00

2017-11-29 17:10:13,952 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:13 +08:00

2017-11-29 17:10:13,952 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:13,952 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:13,952 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:13,952 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:13 +08:00

2017-11-29 17:10:13,955 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:13,955 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:13,955 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:13 +08:00

2017-11-29 17:10:18,091 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:18 +08:00

2017-11-29 17:10:18,091 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:18,091 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:18,091 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:18,091 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:18 +08:00

2017-11-29 17:10:18,094 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:18,094 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:18,094 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:18 +08:00

2017-11-29 17:10:18,094 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:18 +08:00

2017-11-29 17:10:18,094 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:18,095 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:18,095 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:18,095 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:18 +08:00

2017-11-29 17:10:18,096 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:18,096 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:18,096 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:18 +08:00

2017-11-29 17:10:18,097 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:18 +08:00

2017-11-29 17:10:18,097 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:18,097 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:18,097 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:18,097 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:18 +08:00

2017-11-29 17:10:18,099 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:18,100 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:18,100 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:18 +08:00

2017-11-29 17:10:18,100 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:18 +08:00

2017-11-29 17:10:18,100 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:18,101 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:18,101 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:18,101 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:18 +08:00

2017-11-29 17:10:18,102 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:18,102 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:18,102 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:18 +08:00

2017-11-29 17:10:18,102 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:18 +08:00

2017-11-29 17:10:18,102 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 3
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:18,103 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:18,103 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:18,103 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:18 +08:00

2017-11-29 17:10:18,105 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:18,105 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:18,105 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:18 +08:00

2017-11-29 17:10:20,758 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:20 +08:00

2017-11-29 17:10:20,759 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:20,759 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:20,759 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:20,759 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:20 +08:00

2017-11-29 17:10:20,834 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 75 ms with result: SqlDataReader

2017-11-29 17:10:20,834 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:20,834 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:20 +08:00

2017-11-29 17:10:20,834 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:20 +08:00

2017-11-29 17:10:20,834 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:20,834 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:20,834 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:20,834 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:20 +08:00

2017-11-29 17:10:20,836 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:20,836 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:20,836 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:20 +08:00

2017-11-29 17:10:20,836 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:20 +08:00

2017-11-29 17:10:20,837 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[NickName] AS [NickName], 
    [Extent1].[PhotoUrl] AS [PhotoUrl], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[Address] AS [Address], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[PassCount] AS [PassCount], 
    [Extent1].[WinCount] AS [WinCount], 
    [Extent1].[IsWon] AS [IsWon], 
    [Extent1].[ChangeTime] AS [ChangeTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:20,837 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:20,837 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '19' (Type = Int64, IsNullable = false)

2017-11-29 17:10:20,837 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:20 +08:00

2017-11-29 17:10:20,839 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:20,839 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:20,839 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:20 +08:00

2017-11-29 17:10:20,839 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:20 +08:00

2017-11-29 17:10:20,840 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Num] AS [Num], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[Description] AS [Description], 
    [Limit1].[ImgUrl] AS [ImgUrl], 
    [Limit1].[StatusId] AS [StatusId], 
    [Limit1].[WeChatUrl] AS [WeChatUrl], 
    [Limit1].[PaperId] AS [PaperId], 
    [Limit1].[PrizeName] AS [PrizeName], 
    [Limit1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Limit1].[VisitCount] AS [VisitCount], 
    [Limit1].[ForwardCount] AS [ForwardCount], 
    [Limit1].[AnswerCount] AS [AnswerCount], 
    [Limit1].[HavePrizeCount] AS [HavePrizeCount], 
    [Limit1].[PrizeCount] AS [PrizeCount], 
    [Limit1].[StartTime] AS [StartTime], 
    [Limit1].[ExamEndTime] AS [ExamEndTime], 
    [Limit1].[RewardTime] AS [RewardTime], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT TOP (2) 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Num] AS [Num], 
        [Extent1].[Name] AS [Name], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[ImgUrl] AS [ImgUrl], 
        [Extent1].[StatusId] AS [StatusId], 
        [Extent1].[WeChatUrl] AS [WeChatUrl], 
        [Extent1].[PaperId] AS [PaperId], 
        [Extent1].[PrizeName] AS [PrizeName], 
        [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
        [Extent1].[VisitCount] AS [VisitCount], 
        [Extent1].[ForwardCount] AS [ForwardCount], 
        [Extent1].[AnswerCount] AS [AnswerCount], 
        [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
        [Extent1].[PrizeCount] AS [PrizeCount], 
        [Extent1].[StartTime] AS [StartTime], 
        [Extent1].[ExamEndTime] AS [ExamEndTime], 
        [Extent1].[RewardTime] AS [RewardTime], 
        [Extent1].[IsDeleted] AS [IsDeleted], 
        [Extent1].[CreateDateTime] AS [CreateDateTime]
        FROM  [dbo].[T_Activities] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[ActivityId]
        WHERE ([Extent2].[UserId] = @p__linq__0) AND ([Extent1].[Id] = @p__linq__1)
    )  AS [Limit1]
2017-11-29 17:10:20,840 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:20,840 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '19' (Type = Int64, IsNullable = false)

2017-11-29 17:10:20,840 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:20,840 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:20 +08:00

2017-11-29 17:10:20,842 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:20,842 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:20,842 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:20 +08:00

2017-11-29 17:10:20,843 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:20 +08:00

2017-11-29 17:10:20,844 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Started transaction at 2017/11/29 17:10:20 +08:00

2017-11-29 17:10:20,844 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Activities]
SET [PrizeCount] = @0
WHERE ([Id] = @1)

2017-11-29 17:10:20,844 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '34' (Type = Int64)

2017-11-29 17:10:20,844 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '16' (Type = Int64)

2017-11-29 17:10:20,844 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:20 +08:00

2017-11-29 17:10:20,845 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: 1

2017-11-29 17:10:20,845 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:20,845 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Users]
SET [WinCount] = @0
WHERE ([Id] = @1)

2017-11-29 17:10:20,845 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '5' (Type = Int64)

2017-11-29 17:10:20,845 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '19' (Type = Int64)

2017-11-29 17:10:20,845 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:20 +08:00

2017-11-29 17:10:20,846 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: 1

2017-11-29 17:10:20,846 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:20,847 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Committed transaction at 2017/11/29 17:10:20 +08:00

2017-11-29 17:10:20,847 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:20 +08:00

2017-11-29 17:10:20,848 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:20 +08:00

2017-11-29 17:10:20,848 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[NickName] AS [NickName], 
    [Extent1].[PhotoUrl] AS [PhotoUrl], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[Address] AS [Address], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[PassCount] AS [PassCount], 
    [Extent1].[WinCount] AS [WinCount], 
    [Extent1].[IsWon] AS [IsWon], 
    [Extent1].[ChangeTime] AS [ChangeTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:20,848 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:20,848 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '19' (Type = Int64, IsNullable = false)

2017-11-29 17:10:20,848 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:20 +08:00

2017-11-29 17:10:20,851 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:20,851 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:20,851 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:20 +08:00

2017-11-29 17:10:20,852 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:20 +08:00

2017-11-29 17:10:20,852 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Started transaction at 2017/11/29 17:10:20 +08:00

2017-11-29 17:10:20,853 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Users]
SET [LoginErrorTimes] = @0
WHERE ([Id] = @1)

2017-11-29 17:10:20,853 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '0' (Type = Int32)

2017-11-29 17:10:20,853 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '19' (Type = Int64)

2017-11-29 17:10:20,853 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:20 +08:00

2017-11-29 17:10:20,854 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: 1

2017-11-29 17:10:20,854 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:20,855 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Committed transaction at 2017/11/29 17:10:20 +08:00

2017-11-29 17:10:20,855 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:20 +08:00

2017-11-29 17:10:21,838 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:21 +08:00

2017-11-29 17:10:21,838 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:21,838 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:21,839 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:21,839 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:21 +08:00

2017-11-29 17:10:21,841 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:21,841 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:21,841 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:21 +08:00

2017-11-29 17:10:21,842 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:21 +08:00

2017-11-29 17:10:21,842 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:21,842 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:21,842 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:21,842 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:21 +08:00

2017-11-29 17:10:21,843 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:21,843 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:21,843 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:21 +08:00

2017-11-29 17:10:21,844 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:21 +08:00

2017-11-29 17:10:21,845 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:21,845 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:21,845 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:21,845 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:21 +08:00

2017-11-29 17:10:21,847 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:21,847 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:21,848 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:21 +08:00

2017-11-29 17:10:21,848 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:21 +08:00

2017-11-29 17:10:21,849 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:21,849 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:21,849 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:21,849 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:21 +08:00

2017-11-29 17:10:21,850 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:21,850 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:21,850 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:21 +08:00

2017-11-29 17:10:21,850 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:21 +08:00

2017-11-29 17:10:21,851 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 3
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:21,851 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:21,851 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:21,851 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:21 +08:00

2017-11-29 17:10:21,853 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:21,853 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:21,853 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:21 +08:00

2017-11-29 17:10:21,901 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:21 +08:00

2017-11-29 17:10:21,901 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:21,901 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:21,901 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:21,902 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:21 +08:00

2017-11-29 17:10:21,904 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:21,904 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:21,904 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:21 +08:00

2017-11-29 17:10:21,905 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:21 +08:00

2017-11-29 17:10:21,905 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:21,905 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:21,905 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:21,905 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:21 +08:00

2017-11-29 17:10:21,906 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:21,906 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:21,906 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:21 +08:00

2017-11-29 17:10:21,907 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:21 +08:00

2017-11-29 17:10:21,907 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:21,907 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:21,907 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:21,907 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:21 +08:00

2017-11-29 17:10:21,910 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:21,910 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:21,910 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:21 +08:00

2017-11-29 17:10:21,910 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:21 +08:00

2017-11-29 17:10:21,911 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:21,911 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:21,911 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:21,911 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:21 +08:00

2017-11-29 17:10:21,912 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:21,912 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:21,912 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:21 +08:00

2017-11-29 17:10:21,912 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:21 +08:00

2017-11-29 17:10:21,913 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:21,913 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:21,913 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:21,913 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:21 +08:00

2017-11-29 17:10:21,915 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:21,915 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:21,916 [40] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:21 +08:00

2017-11-29 17:10:36,126 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,126 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:36,126 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:36,126 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:36,126 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,159 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 32 ms with result: SqlDataReader

2017-11-29 17:10:36,159 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:36,160 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,160 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,160 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:36,160 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:36,160 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:36,160 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,164 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2017-11-29 17:10:36,164 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:36,164 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,165 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,166 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[NickName] AS [NickName], 
    [Extent1].[PhotoUrl] AS [PhotoUrl], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[Address] AS [Address], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[PassCount] AS [PassCount], 
    [Extent1].[WinCount] AS [WinCount], 
    [Extent1].[IsWon] AS [IsWon], 
    [Extent1].[ChangeTime] AS [ChangeTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:36,166 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:36,166 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '24' (Type = Int64, IsNullable = false)

2017-11-29 17:10:36,166 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,168 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:36,168 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:36,168 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,169 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,169 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Num] AS [Num], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[Description] AS [Description], 
    [Limit1].[ImgUrl] AS [ImgUrl], 
    [Limit1].[StatusId] AS [StatusId], 
    [Limit1].[WeChatUrl] AS [WeChatUrl], 
    [Limit1].[PaperId] AS [PaperId], 
    [Limit1].[PrizeName] AS [PrizeName], 
    [Limit1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Limit1].[VisitCount] AS [VisitCount], 
    [Limit1].[ForwardCount] AS [ForwardCount], 
    [Limit1].[AnswerCount] AS [AnswerCount], 
    [Limit1].[HavePrizeCount] AS [HavePrizeCount], 
    [Limit1].[PrizeCount] AS [PrizeCount], 
    [Limit1].[StartTime] AS [StartTime], 
    [Limit1].[ExamEndTime] AS [ExamEndTime], 
    [Limit1].[RewardTime] AS [RewardTime], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT TOP (2) 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Num] AS [Num], 
        [Extent1].[Name] AS [Name], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[ImgUrl] AS [ImgUrl], 
        [Extent1].[StatusId] AS [StatusId], 
        [Extent1].[WeChatUrl] AS [WeChatUrl], 
        [Extent1].[PaperId] AS [PaperId], 
        [Extent1].[PrizeName] AS [PrizeName], 
        [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
        [Extent1].[VisitCount] AS [VisitCount], 
        [Extent1].[ForwardCount] AS [ForwardCount], 
        [Extent1].[AnswerCount] AS [AnswerCount], 
        [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
        [Extent1].[PrizeCount] AS [PrizeCount], 
        [Extent1].[StartTime] AS [StartTime], 
        [Extent1].[ExamEndTime] AS [ExamEndTime], 
        [Extent1].[RewardTime] AS [RewardTime], 
        [Extent1].[IsDeleted] AS [IsDeleted], 
        [Extent1].[CreateDateTime] AS [CreateDateTime]
        FROM  [dbo].[T_Activities] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[ActivityId]
        WHERE ([Extent2].[UserId] = @p__linq__0) AND ([Extent1].[Id] = @p__linq__1)
    )  AS [Limit1]
2017-11-29 17:10:36,169 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:36,169 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '24' (Type = Int64, IsNullable = false)

2017-11-29 17:10:36,169 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:36,169 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,171 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:36,171 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:36,172 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,172 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,173 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Started transaction at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,174 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Activities]
SET [PrizeCount] = @0
WHERE ([Id] = @1)

2017-11-29 17:10:36,174 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '35' (Type = Int64)

2017-11-29 17:10:36,174 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '16' (Type = Int64)

2017-11-29 17:10:36,174 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,175 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: 1

2017-11-29 17:10:36,175 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:36,175 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Users]
SET [WinCount] = @0
WHERE ([Id] = @1)

2017-11-29 17:10:36,175 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '2' (Type = Int64)

2017-11-29 17:10:36,175 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '24' (Type = Int64)

2017-11-29 17:10:36,175 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,176 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: 1

2017-11-29 17:10:36,176 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:36,178 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Committed transaction at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,178 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,178 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,178 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[NickName] AS [NickName], 
    [Extent1].[PhotoUrl] AS [PhotoUrl], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[Address] AS [Address], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[PassCount] AS [PassCount], 
    [Extent1].[WinCount] AS [WinCount], 
    [Extent1].[IsWon] AS [IsWon], 
    [Extent1].[ChangeTime] AS [ChangeTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:36,178 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:36,178 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '24' (Type = Int64, IsNullable = false)

2017-11-29 17:10:36,178 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,181 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:36,181 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:36,181 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,182 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,183 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Started transaction at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,183 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Users]
SET [LoginErrorTimes] = @0
WHERE ([Id] = @1)

2017-11-29 17:10:36,183 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '0' (Type = Int32)

2017-11-29 17:10:36,183 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '24' (Type = Int64)

2017-11-29 17:10:36,183 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,184 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: 1

2017-11-29 17:10:36,184 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:36,186 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Committed transaction at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,186 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,186 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,186 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[NickName] AS [NickName], 
    [Extent1].[PhotoUrl] AS [PhotoUrl], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[Address] AS [Address], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[PassCount] AS [PassCount], 
    [Extent1].[WinCount] AS [WinCount], 
    [Extent1].[IsWon] AS [IsWon], 
    [Extent1].[ChangeTime] AS [ChangeTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:36,186 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:36,187 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '22' (Type = Int64, IsNullable = false)

2017-11-29 17:10:36,187 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,189 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:36,189 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:36,189 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,190 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,190 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Num] AS [Num], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[Description] AS [Description], 
    [Limit1].[ImgUrl] AS [ImgUrl], 
    [Limit1].[StatusId] AS [StatusId], 
    [Limit1].[WeChatUrl] AS [WeChatUrl], 
    [Limit1].[PaperId] AS [PaperId], 
    [Limit1].[PrizeName] AS [PrizeName], 
    [Limit1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Limit1].[VisitCount] AS [VisitCount], 
    [Limit1].[ForwardCount] AS [ForwardCount], 
    [Limit1].[AnswerCount] AS [AnswerCount], 
    [Limit1].[HavePrizeCount] AS [HavePrizeCount], 
    [Limit1].[PrizeCount] AS [PrizeCount], 
    [Limit1].[StartTime] AS [StartTime], 
    [Limit1].[ExamEndTime] AS [ExamEndTime], 
    [Limit1].[RewardTime] AS [RewardTime], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT TOP (2) 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Num] AS [Num], 
        [Extent1].[Name] AS [Name], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[ImgUrl] AS [ImgUrl], 
        [Extent1].[StatusId] AS [StatusId], 
        [Extent1].[WeChatUrl] AS [WeChatUrl], 
        [Extent1].[PaperId] AS [PaperId], 
        [Extent1].[PrizeName] AS [PrizeName], 
        [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
        [Extent1].[VisitCount] AS [VisitCount], 
        [Extent1].[ForwardCount] AS [ForwardCount], 
        [Extent1].[AnswerCount] AS [AnswerCount], 
        [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
        [Extent1].[PrizeCount] AS [PrizeCount], 
        [Extent1].[StartTime] AS [StartTime], 
        [Extent1].[ExamEndTime] AS [ExamEndTime], 
        [Extent1].[RewardTime] AS [RewardTime], 
        [Extent1].[IsDeleted] AS [IsDeleted], 
        [Extent1].[CreateDateTime] AS [CreateDateTime]
        FROM  [dbo].[T_Activities] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[ActivityId]
        WHERE ([Extent2].[UserId] = @p__linq__0) AND ([Extent1].[Id] = @p__linq__1)
    )  AS [Limit1]
2017-11-29 17:10:36,190 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:36,190 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '22' (Type = Int64, IsNullable = false)

2017-11-29 17:10:36,190 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:36,190 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,193 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:36,193 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:36,193 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,193 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,194 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Started transaction at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,194 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Activities]
SET [PrizeCount] = @0
WHERE ([Id] = @1)

2017-11-29 17:10:36,194 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '36' (Type = Int64)

2017-11-29 17:10:36,194 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '16' (Type = Int64)

2017-11-29 17:10:36,194 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,195 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: 1

2017-11-29 17:10:36,195 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:36,195 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Users]
SET [WinCount] = @0
WHERE ([Id] = @1)

2017-11-29 17:10:36,195 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '3' (Type = Int64)

2017-11-29 17:10:36,195 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '22' (Type = Int64)

2017-11-29 17:10:36,195 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,197 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: 1

2017-11-29 17:10:36,197 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:36,198 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Committed transaction at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,198 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,198 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,199 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[NickName] AS [NickName], 
    [Extent1].[PhotoUrl] AS [PhotoUrl], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[Address] AS [Address], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[PassCount] AS [PassCount], 
    [Extent1].[WinCount] AS [WinCount], 
    [Extent1].[IsWon] AS [IsWon], 
    [Extent1].[ChangeTime] AS [ChangeTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:36,199 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:36,199 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '22' (Type = Int64, IsNullable = false)

2017-11-29 17:10:36,199 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,201 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:36,201 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:36,201 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,202 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,203 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Started transaction at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,203 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Users]
SET [LoginErrorTimes] = @0
WHERE ([Id] = @1)

2017-11-29 17:10:36,203 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '0' (Type = Int32)

2017-11-29 17:10:36,203 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '22' (Type = Int64)

2017-11-29 17:10:36,203 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,204 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: 1

2017-11-29 17:10:36,204 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:36,205 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Committed transaction at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,205 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,205 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,206 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[NickName] AS [NickName], 
    [Extent1].[PhotoUrl] AS [PhotoUrl], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[Address] AS [Address], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[PassCount] AS [PassCount], 
    [Extent1].[WinCount] AS [WinCount], 
    [Extent1].[IsWon] AS [IsWon], 
    [Extent1].[ChangeTime] AS [ChangeTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:36,206 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:36,206 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '21' (Type = Int64, IsNullable = false)

2017-11-29 17:10:36,206 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,208 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:36,208 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:36,208 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,209 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,209 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Limit1].[Id] AS [Id], 
    [Limit1].[Num] AS [Num], 
    [Limit1].[Name] AS [Name], 
    [Limit1].[Description] AS [Description], 
    [Limit1].[ImgUrl] AS [ImgUrl], 
    [Limit1].[StatusId] AS [StatusId], 
    [Limit1].[WeChatUrl] AS [WeChatUrl], 
    [Limit1].[PaperId] AS [PaperId], 
    [Limit1].[PrizeName] AS [PrizeName], 
    [Limit1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Limit1].[VisitCount] AS [VisitCount], 
    [Limit1].[ForwardCount] AS [ForwardCount], 
    [Limit1].[AnswerCount] AS [AnswerCount], 
    [Limit1].[HavePrizeCount] AS [HavePrizeCount], 
    [Limit1].[PrizeCount] AS [PrizeCount], 
    [Limit1].[StartTime] AS [StartTime], 
    [Limit1].[ExamEndTime] AS [ExamEndTime], 
    [Limit1].[RewardTime] AS [RewardTime], 
    [Limit1].[IsDeleted] AS [IsDeleted], 
    [Limit1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT TOP (2) 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Num] AS [Num], 
        [Extent1].[Name] AS [Name], 
        [Extent1].[Description] AS [Description], 
        [Extent1].[ImgUrl] AS [ImgUrl], 
        [Extent1].[StatusId] AS [StatusId], 
        [Extent1].[WeChatUrl] AS [WeChatUrl], 
        [Extent1].[PaperId] AS [PaperId], 
        [Extent1].[PrizeName] AS [PrizeName], 
        [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
        [Extent1].[VisitCount] AS [VisitCount], 
        [Extent1].[ForwardCount] AS [ForwardCount], 
        [Extent1].[AnswerCount] AS [AnswerCount], 
        [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
        [Extent1].[PrizeCount] AS [PrizeCount], 
        [Extent1].[StartTime] AS [StartTime], 
        [Extent1].[ExamEndTime] AS [ExamEndTime], 
        [Extent1].[RewardTime] AS [RewardTime], 
        [Extent1].[IsDeleted] AS [IsDeleted], 
        [Extent1].[CreateDateTime] AS [CreateDateTime]
        FROM  [dbo].[T_Activities] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[ActivityId]
        WHERE ([Extent2].[UserId] = @p__linq__0) AND ([Extent1].[Id] = @p__linq__1)
    )  AS [Limit1]
2017-11-29 17:10:36,209 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:36,209 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '21' (Type = Int64, IsNullable = false)

2017-11-29 17:10:36,209 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:36,209 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,211 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:36,211 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:36,212 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,212 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,213 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Started transaction at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,213 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Activities]
SET [PrizeCount] = @0
WHERE ([Id] = @1)

2017-11-29 17:10:36,213 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '37' (Type = Int64)

2017-11-29 17:10:36,213 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '16' (Type = Int64)

2017-11-29 17:10:36,213 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,214 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: 1

2017-11-29 17:10:36,214 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:36,214 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Users]
SET [WinCount] = @0
WHERE ([Id] = @1)

2017-11-29 17:10:36,214 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '4' (Type = Int64)

2017-11-29 17:10:36,214 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '21' (Type = Int64)

2017-11-29 17:10:36,214 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,215 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: 1

2017-11-29 17:10:36,215 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:36,217 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Committed transaction at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,217 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,217 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,217 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[NickName] AS [NickName], 
    [Extent1].[PhotoUrl] AS [PhotoUrl], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[Address] AS [Address], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[PassCount] AS [PassCount], 
    [Extent1].[WinCount] AS [WinCount], 
    [Extent1].[IsWon] AS [IsWon], 
    [Extent1].[ChangeTime] AS [ChangeTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:36,217 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:36,217 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '21' (Type = Int64, IsNullable = false)

2017-11-29 17:10:36,218 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,220 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:36,220 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:36,220 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,220 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,221 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Started transaction at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,221 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_Users]
SET [LoginErrorTimes] = @0
WHERE ([Id] = @1)

2017-11-29 17:10:36,221 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @0: '0' (Type = Int32)

2017-11-29 17:10:36,221 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @1: '21' (Type = Int64)

2017-11-29 17:10:36,221 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,222 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: 1

2017-11-29 17:10:36,222 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:36,224 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Committed transaction at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:36,224 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:36 +08:00

2017-11-29 17:10:37,210 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,210 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:37,210 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,210 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,210 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,213 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:37,213 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,213 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,213 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,213 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:37,213 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,213 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,213 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,214 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:37,215 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,215 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,217 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,217 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:37,217 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,217 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,217 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,220 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:37,220 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,220 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,221 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,221 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:37,221 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,221 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,221 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,223 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:37,223 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,223 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,223 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,223 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:37,223 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,223 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,223 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,226 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:37,226 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,226 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,274 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,275 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:37,275 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,275 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,275 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,277 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:37,277 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,277 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,278 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,278 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:37,278 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,278 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,278 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,279 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:37,279 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,279 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,280 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,280 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:37,280 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,280 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,280 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,283 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:37,283 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,283 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,283 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,284 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:37,284 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,284 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,284 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,285 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:37,285 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,285 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,285 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,286 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:37,286 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,286 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,286 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,288 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:37,288 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,288 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,338 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,339 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:37,339 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,339 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,339 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,341 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:37,341 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,342 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,342 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,342 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:37,342 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,342 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,342 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,343 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:37,343 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,343 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,344 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,344 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:37,344 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,344 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,344 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,347 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:37,347 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,347 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,348 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,348 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:37,348 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,348 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,348 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,349 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:37,349 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,350 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,350 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,350 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:37,350 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,350 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,350 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,353 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:37,353 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,353 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,386 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,387 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:37,387 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,387 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,387 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,390 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:37,390 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,390 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,390 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,390 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:37,390 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,390 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,390 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,392 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:37,392 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,392 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,393 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,393 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:37,393 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,393 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,393 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,396 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:37,396 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,396 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,397 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,397 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:37,397 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,397 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,397 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,398 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:37,398 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,398 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,399 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,399 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:37,399 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,399 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,399 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,402 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:37,402 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,402 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,429 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,429 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:37,429 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,429 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,429 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,432 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:37,432 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,432 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,432 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,433 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:37,433 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,433 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,433 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,434 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:37,434 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,434 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,435 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,435 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:37,435 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,435 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,435 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,438 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:37,438 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,438 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,438 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,439 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:37,439 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,439 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,439 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,440 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:37,440 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,440 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,440 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,441 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:37,441 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,441 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,441 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,443 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:37,443 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,444 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,490 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,491 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:37,491 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,491 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,491 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,493 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:37,493 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,494 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,494 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,494 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:37,494 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,494 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,494 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,495 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:37,495 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,495 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,496 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,496 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:37,496 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,496 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,496 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,499 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:37,499 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,499 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,500 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,500 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:37,500 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,500 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,500 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,501 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:37,501 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,501 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,501 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,502 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:37,502 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,502 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,502 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,504 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:37,504 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,504 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,529 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,530 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:37,530 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,530 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,530 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,532 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:37,532 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,533 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,533 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,533 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:37,533 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,533 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,533 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,534 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:37,534 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,534 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,535 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,535 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:37,535 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,535 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,535 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,538 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:37,538 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,538 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,538 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,539 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:37,539 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,539 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,539 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,540 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:37,540 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,540 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,540 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,541 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:37,541 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,541 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,541 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,543 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:37,543 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,543 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,570 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,570 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:37,570 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,570 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,570 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,573 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:37,573 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,573 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,573 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,573 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:37,574 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,574 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,574 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,575 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:37,575 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,575 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,576 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,576 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:37,576 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,576 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,576 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,579 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:37,579 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,579 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,579 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,580 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:37,580 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,580 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,580 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,581 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:37,581 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,581 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,581 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,582 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:37,582 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,582 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,582 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,584 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:37,584 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,584 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,621 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,622 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:37,622 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,622 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,622 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,625 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:37,625 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,625 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,625 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,625 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:37,625 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,625 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,625 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,627 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:37,627 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,627 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,627 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,628 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:37,628 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,628 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,628 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,630 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:37,630 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,630 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,631 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,631 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:37,631 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,631 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,631 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,632 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:37,632 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,632 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,633 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,633 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:37,633 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,633 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,633 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,636 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:37,636 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,636 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,699 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,700 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:37,700 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,700 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,700 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,702 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:37,703 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,703 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,703 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,703 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:37,703 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,703 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,703 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,704 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:37,704 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,704 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,705 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,705 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:37,705 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,705 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,705 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,708 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:37,708 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,708 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,709 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,709 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:37,709 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,709 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,709 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,710 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:37,710 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,710 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,711 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,711 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:37,711 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,711 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,711 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,714 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:37,714 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,714 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,752 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,752 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:37,752 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,752 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,753 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,755 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:37,755 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,755 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,755 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,755 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:37,755 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,755 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,756 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,757 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:37,757 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,757 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,757 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,758 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:37,758 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,758 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,758 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,760 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:37,760 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,760 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,761 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,761 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:37,761 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,761 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,761 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,762 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:37,762 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,762 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,763 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,763 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:37,763 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,763 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,763 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,766 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:37,766 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,766 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,823 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,823 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:37,823 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,823 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,823 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,826 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:37,826 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,826 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,826 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,826 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:37,826 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,826 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,826 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,827 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:37,828 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,828 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,828 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,829 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:37,829 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,829 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,829 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,831 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:37,831 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,831 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,832 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,833 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:37,833 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,833 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,833 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,834 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:37,834 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,834 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,834 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,834 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:37,834 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,834 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,834 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,837 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:37,837 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,837 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,867 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,868 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:37,868 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,869 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,869 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,871 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:37,871 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,872 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,872 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,872 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:37,872 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,872 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,872 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,873 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:37,873 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,873 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,874 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,874 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:37,874 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,874 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,874 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,877 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:37,877 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,877 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,877 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,878 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:37,878 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,878 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,878 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,879 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:37,879 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,879 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,879 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,880 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:37,880 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,880 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,880 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,882 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:37,882 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,883 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,936 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,937 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:37,937 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,937 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,937 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,939 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:37,939 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,940 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,940 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,940 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:37,940 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,940 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,940 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,941 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:37,941 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,941 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,942 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,942 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:37,942 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,942 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,942 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,945 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:37,945 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,945 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,945 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,946 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:37,946 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,946 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,946 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,947 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:37,947 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,947 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,947 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,947 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:37,948 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,948 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:37,948 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:37,950 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:37,950 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:37,950 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:37 +08:00

2017-11-29 17:10:38,012 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,012 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:38,012 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,012 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,012 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,015 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:38,015 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,015 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,015 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,015 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:38,015 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,015 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,015 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,017 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:38,017 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,017 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,017 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,018 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:38,018 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,018 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,018 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,020 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:38,020 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,021 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,021 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,021 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:38,021 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,021 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,022 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,022 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:38,022 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,023 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,023 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,023 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:38,023 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,023 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,023 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,026 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:38,026 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,026 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,058 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,058 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:38,058 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,058 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,058 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,060 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:38,060 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,061 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,061 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,061 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:38,061 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,061 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,061 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,062 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:38,062 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,062 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,063 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,063 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:38,063 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,063 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,063 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,066 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:38,066 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,066 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,066 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,067 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:38,067 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,067 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,067 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,068 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:38,068 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,068 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,069 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,069 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:38,069 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,069 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,069 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,072 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:38,072 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,072 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,109 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,110 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:38,110 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,110 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,110 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,112 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:38,112 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,112 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,113 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,113 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:38,113 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,113 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,113 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,114 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:38,114 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,114 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,115 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,115 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:38,115 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,115 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,115 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,118 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:38,118 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,118 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,118 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,119 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:38,119 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,119 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,119 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,120 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:38,120 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,120 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,120 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,121 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:38,121 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,121 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,121 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,123 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:38,123 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,124 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,175 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,175 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:38,175 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,175 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,175 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,178 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:38,178 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,178 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,178 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,179 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:38,179 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,179 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,179 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,180 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:38,180 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,180 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,180 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,181 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:38,181 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,181 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,181 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,183 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:38,184 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,184 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,184 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,185 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:38,185 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,185 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,185 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,186 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:38,186 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,186 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,186 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,187 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:38,187 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,187 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,187 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,189 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:38,189 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,189 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,263 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,264 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:38,264 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,264 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,264 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,266 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:38,266 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,266 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,267 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,267 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:38,267 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,267 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,267 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,268 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:38,268 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,268 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,269 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,269 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:38,269 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,269 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,269 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,271 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:38,272 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,272 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,272 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,272 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:38,273 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,273 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,273 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,274 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:38,274 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,274 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,274 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,274 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:38,274 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,274 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,274 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,277 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:38,277 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,277 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,300 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,300 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:38,300 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,300 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,300 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,303 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:38,303 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,303 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,303 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,303 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:38,303 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,303 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,303 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,305 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:38,305 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,305 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,305 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,306 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:38,306 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,306 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,306 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,308 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:38,308 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,308 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,309 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,309 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:38,309 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,309 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,309 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,310 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:38,310 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,310 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,311 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,311 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:38,311 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,311 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,311 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,315 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:38,315 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,315 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,357 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,358 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:38,358 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,358 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,358 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,360 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:38,360 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,361 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,361 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,361 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:38,361 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,361 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,361 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,362 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:38,362 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,362 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,363 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,364 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:38,364 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,364 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,364 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,366 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:38,366 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,366 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,367 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,367 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:38,367 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,367 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,367 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,368 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:38,369 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,369 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,369 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,371 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:38,371 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,371 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,371 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,374 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:38,374 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,374 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,410 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,410 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:38,411 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,411 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,411 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,413 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:38,413 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,413 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,414 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,414 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:38,414 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,414 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,414 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,415 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:38,415 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,415 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,416 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,416 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:38,417 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,417 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,417 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,419 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:38,419 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,419 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,420 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,420 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:38,420 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,420 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,420 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,421 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:38,421 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,421 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,422 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,422 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:38,422 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,422 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,422 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,425 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:38,425 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,425 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,487 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,487 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:38,487 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,487 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,487 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,490 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:38,490 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,490 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,490 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,490 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:38,490 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,490 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,490 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,491 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:38,491 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,492 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,492 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,492 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:38,492 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,493 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,493 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,495 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:38,495 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,495 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,496 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,496 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:38,496 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,496 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,496 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,497 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:38,497 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,497 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,497 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,498 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:38,498 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,498 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,498 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,500 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:38,500 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,501 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,542 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,542 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:38,542 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,542 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,542 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,545 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:38,545 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,545 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,545 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,545 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:38,545 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,545 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,545 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,546 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:38,546 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,547 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,547 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,547 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:38,547 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,547 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,548 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,550 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:38,550 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,550 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,551 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,551 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:38,551 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,551 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,551 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,552 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:38,552 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,552 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,553 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,553 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:38,553 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,553 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,553 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,556 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:38,556 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,556 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,595 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,595 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:38,595 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,595 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,595 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,598 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:38,598 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,598 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,598 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,598 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:38,598 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,598 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,598 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,599 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:38,599 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,599 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,600 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,600 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:38,600 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,601 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,601 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,603 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:38,603 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,603 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,604 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,604 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:38,604 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,604 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,604 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,606 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:38,606 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,606 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,606 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,607 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:38,607 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,607 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,607 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,609 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:38,609 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,609 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,653 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,653 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:38,653 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,654 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,654 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,657 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:38,657 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,657 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,657 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,657 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:38,657 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,657 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,657 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,658 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:38,658 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,659 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,659 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,660 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:38,660 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,660 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,660 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,663 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:38,663 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,663 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,663 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,664 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:38,664 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,664 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,664 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,665 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:38,665 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,665 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,665 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,666 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:38,666 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,666 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,666 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,669 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:38,669 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,669 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,712 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,713 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:38,713 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,713 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,713 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,715 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:38,716 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,716 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,716 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,716 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:38,716 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,716 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,716 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,717 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:38,717 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,718 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,718 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,719 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:38,719 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,719 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,719 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,721 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:38,721 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,722 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,722 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,722 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:38,722 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,722 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,722 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,723 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:38,724 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,724 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,724 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,724 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:38,725 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,725 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,725 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,727 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:38,727 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,727 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,793 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,794 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:38,794 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,794 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,794 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,796 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:38,796 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,797 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,797 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,797 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:38,797 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,797 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,797 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,799 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:38,799 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,799 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,800 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,800 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:38,800 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,800 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,800 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,803 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:38,803 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,803 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,803 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,804 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:38,804 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,804 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,804 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,805 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:38,805 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,805 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,805 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,805 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:38,805 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,805 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,805 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,808 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:38,808 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,808 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,842 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,843 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:38,843 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,843 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,843 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,846 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:38,846 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,846 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,846 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,846 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:38,846 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,846 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,846 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,847 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:38,847 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,847 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,848 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,848 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:38,848 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,849 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,849 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,852 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:38,852 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,852 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,852 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,853 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:38,853 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,853 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,853 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,854 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:38,854 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,854 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,854 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,855 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:38,855 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,855 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,855 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,857 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:38,857 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,857 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,896 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,897 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:38,897 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,897 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,897 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,900 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:38,900 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,900 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,900 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,900 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:38,900 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,900 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,900 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,901 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:38,901 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,901 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,902 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,902 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:38,903 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,903 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,903 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,905 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:38,905 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,905 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,906 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,906 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:38,906 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,906 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,906 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,907 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:38,907 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,908 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,908 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,908 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:38,908 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,908 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,908 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,911 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:38,911 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,911 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,946 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,947 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:38,947 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,947 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,947 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,949 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:38,950 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,950 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,950 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,950 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:38,950 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,950 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,950 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,951 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:38,951 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,951 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,952 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,952 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:38,952 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,952 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,952 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,955 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:38,955 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,955 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,955 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,956 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:38,956 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,956 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,956 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,957 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:38,957 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,957 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,957 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,958 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:38,958 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,958 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:38,958 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:38,960 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:38,960 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:38,961 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:38 +08:00

2017-11-29 17:10:39,005 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,006 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:39,006 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,006 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,006 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,009 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:39,009 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,009 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,009 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,009 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:39,009 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,010 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,010 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,011 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:39,011 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,011 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,011 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,012 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:39,012 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,012 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,012 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,014 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:39,014 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,015 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,016 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,016 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:39,016 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,016 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,016 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,018 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:39,018 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,018 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,019 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,019 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:39,019 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,019 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,019 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,022 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:39,022 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,022 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,054 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,055 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:39,055 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,055 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,055 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,057 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:39,059 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,059 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,059 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,059 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:39,059 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,059 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,059 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,060 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:39,061 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,061 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,061 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,062 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:39,062 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,062 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,062 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,064 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:39,064 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,065 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,065 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,065 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:39,065 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,065 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,065 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,066 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:39,067 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,067 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,067 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,067 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:39,067 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,067 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,067 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,070 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:39,070 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,070 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,117 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,118 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:39,118 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,118 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,118 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,120 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:39,120 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,121 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,121 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,121 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:39,121 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,121 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,121 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,122 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:39,122 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,122 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,123 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,123 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:39,123 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,124 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,124 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,126 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:39,126 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,126 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,127 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,127 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:39,127 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,127 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,127 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,128 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:39,129 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,129 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,129 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,129 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:39,129 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,129 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,129 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,132 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:39,132 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,132 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,162 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,162 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:39,162 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,162 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,162 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,165 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:39,165 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,165 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,165 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,165 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:39,165 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,165 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,165 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,167 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:39,167 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,167 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,168 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,168 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:39,168 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,168 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,168 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,171 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:39,171 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,171 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,171 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,172 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:39,172 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,172 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,172 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,173 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:39,173 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,173 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,174 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,174 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:39,174 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,174 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,174 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,177 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:39,177 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,177 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,210 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,211 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:39,211 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,211 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,211 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,214 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:39,214 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,214 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,214 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,214 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:39,214 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,214 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,215 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,216 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:39,216 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,217 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,217 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,217 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:39,217 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,217 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,218 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,220 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:39,220 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,220 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,221 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,221 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:39,221 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,221 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,221 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,222 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:39,222 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,222 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,223 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,223 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:39,223 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,223 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,223 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,226 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:39,226 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,226 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,255 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,255 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:39,255 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,255 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,255 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,258 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:39,258 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,258 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,258 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,258 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:39,258 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,258 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,258 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,260 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:39,260 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,260 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,261 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,261 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:39,261 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,261 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,261 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,264 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:39,264 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,264 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,264 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,265 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:39,265 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,265 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,265 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,266 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:39,266 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,266 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,267 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,267 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:39,267 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,267 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,267 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,270 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:39,270 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,270 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,302 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,302 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:39,302 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,302 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,302 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,305 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:39,305 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,305 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,305 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,305 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:39,305 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,305 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,305 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,306 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:39,306 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,306 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,307 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,307 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:39,307 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,307 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,307 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,310 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:39,310 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,310 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,310 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,311 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:39,311 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,311 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,311 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,312 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:39,312 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,312 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,312 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,312 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:39,313 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,313 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,313 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,315 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:39,315 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,315 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,353 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,353 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:39,353 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,353 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,353 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,356 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:39,356 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,356 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,356 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,356 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:39,356 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,356 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,356 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,357 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:39,357 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,358 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,358 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,358 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:39,358 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,358 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,358 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,360 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:39,360 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,360 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,361 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,361 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:39,361 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,361 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,361 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,362 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:39,362 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,363 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,363 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,363 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:39,363 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,363 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,363 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,366 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:39,366 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,366 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,419 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,419 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:39,419 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,419 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,419 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,422 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:39,422 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,422 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,422 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,422 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:39,422 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,422 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,422 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,423 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:39,423 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,423 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,424 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,424 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:39,424 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,424 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,424 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,427 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:39,427 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,427 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,427 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,428 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:39,428 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,428 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,428 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,429 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:39,429 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,429 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,429 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,429 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:39,429 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,430 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,430 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,432 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:39,432 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,432 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,453 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,454 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:39,454 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,454 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,454 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,456 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:39,456 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,456 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,457 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,457 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:39,457 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,457 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,457 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,458 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:39,458 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,458 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,459 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,459 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:39,459 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,459 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,459 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,462 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:39,462 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,462 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,462 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,463 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:39,463 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,463 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,463 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,464 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:39,464 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,464 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,464 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,465 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:39,465 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,465 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,465 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,468 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:39,468 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,468 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,507 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,508 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:39,508 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,508 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,508 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,510 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:39,510 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,511 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,511 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,511 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:39,511 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,511 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,511 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,512 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:39,512 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,512 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,513 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,514 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:39,514 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,514 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,514 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,516 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:39,516 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,517 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,517 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,517 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:39,517 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,517 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,517 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,519 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:39,519 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,519 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,519 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,520 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:39,520 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,520 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,520 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,522 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:39,522 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,522 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,581 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,582 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:39,582 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,582 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,582 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,585 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:39,585 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,585 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,585 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,585 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:39,585 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,585 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,585 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,587 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:39,587 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,587 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,587 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,588 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:39,588 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,588 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,588 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,590 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:39,590 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,590 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,591 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,591 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:39,591 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,591 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,591 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,592 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:39,592 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,592 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,593 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,593 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:39,593 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,593 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,593 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,596 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:39,596 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,596 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,620 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,620 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:39,620 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,620 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,620 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,623 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:39,623 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,623 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,623 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,623 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:39,623 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,624 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,624 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,625 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:39,625 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,625 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,626 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,626 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:39,626 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,626 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,626 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,629 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:39,629 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,629 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,629 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,630 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:39,630 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,630 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,630 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,631 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:39,631 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,631 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,631 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,632 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:39,632 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,632 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,632 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,635 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:39,635 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,635 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,679 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,679 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:39,679 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,679 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,679 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,682 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:39,682 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,682 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,682 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,682 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:39,682 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,683 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,683 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,684 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:39,684 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,684 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,684 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,685 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:39,685 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,685 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,685 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,687 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:39,687 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,688 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,688 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,688 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:39,688 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,688 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,688 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,689 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:39,690 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,690 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,690 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,690 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:39,690 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,690 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,690 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,693 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:39,693 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,693 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,736 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,737 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:39,737 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,737 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,737 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,739 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:39,739 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,740 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,740 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,740 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:39,740 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,740 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,740 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,741 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:39,741 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,741 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,742 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,742 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:39,742 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,742 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,742 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,745 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:39,745 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,745 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,746 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,746 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:39,746 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,746 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,746 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,747 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:39,747 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,747 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,748 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,748 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:39,748 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,748 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,748 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,751 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:39,751 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,751 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,784 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,784 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:39,784 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,784 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,784 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,787 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:39,787 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,787 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,787 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,787 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:39,787 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,787 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,787 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,789 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:39,789 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,789 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,789 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,790 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:39,790 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,790 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,790 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,792 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:39,792 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,793 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,793 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,793 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:39,794 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,794 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,794 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,795 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:39,795 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,795 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,795 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,795 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:39,796 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,796 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,796 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,798 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:39,798 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,798 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,851 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,852 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:39,852 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,852 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,852 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,855 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:39,855 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,855 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,855 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,855 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:39,855 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,855 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,855 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,856 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:39,856 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,857 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,857 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,857 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:39,857 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,858 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,858 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,860 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:39,860 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,860 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,861 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,861 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:39,861 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,861 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,861 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,862 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:39,862 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,862 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,863 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,863 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:39,863 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,863 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,863 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,865 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:39,866 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,866 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,924 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,924 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:39,924 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,925 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,925 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,927 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:39,927 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,927 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,927 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,928 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:39,928 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,928 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,928 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,929 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:39,929 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,929 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,930 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,930 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:39,930 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,930 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,930 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,932 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:39,933 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,933 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,933 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,934 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:39,934 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,934 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,934 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,935 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:39,935 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,935 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,935 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,935 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:39,936 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,936 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,936 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,938 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:39,938 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,938 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,976 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,977 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:39,977 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,977 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,977 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,979 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:39,980 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,980 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,980 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,980 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:39,980 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,980 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,980 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,981 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:39,981 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,981 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,982 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,982 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:39,982 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,982 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,982 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,985 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:39,985 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,985 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,986 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,986 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:39,986 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,986 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,986 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,987 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:39,987 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,988 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,988 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,988 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:39,988 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,988 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:39,988 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:39,991 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:39,991 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:39,991 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:39 +08:00

2017-11-29 17:10:40,027 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,027 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:40,027 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,027 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,027 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,030 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:40,030 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,030 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,030 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,030 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:40,030 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,030 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,030 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,032 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:40,032 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,032 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,032 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,033 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:40,033 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,033 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,033 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,035 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:40,035 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,036 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,036 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,036 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:40,036 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,036 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,036 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,038 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:40,038 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,038 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,038 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,038 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:40,038 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,038 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,038 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,041 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:40,041 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,041 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,086 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,086 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:40,086 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,086 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,086 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,089 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:40,089 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,089 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,089 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,089 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:40,089 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,090 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,090 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,091 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:40,091 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,091 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,091 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,092 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:40,092 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,092 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,092 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,094 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:40,094 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,095 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,095 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,095 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:40,095 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,095 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,095 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,096 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:40,096 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,097 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,097 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,097 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:40,097 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,097 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,097 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,100 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:40,100 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,100 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,130 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,130 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:40,131 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,131 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,131 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,133 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:40,133 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,133 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,134 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,134 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:40,134 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,134 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,134 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,135 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:40,135 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,135 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,136 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,136 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:40,136 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,136 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,136 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,138 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:40,139 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,139 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,139 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,139 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:40,140 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,140 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,140 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,141 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:40,141 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,141 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,141 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,141 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:40,142 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,142 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,142 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,144 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:40,144 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,144 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

