2017-11-29 17:10:40,185 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,260 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:40,261 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,261 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,261 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,264 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:40,264 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,264 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,264 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,264 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:40,264 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,264 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,264 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,265 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:40,265 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,266 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,266 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,267 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:40,267 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,267 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,267 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,269 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:40,269 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,269 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,270 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,270 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:40,270 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,270 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,270 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,271 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:40,271 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,271 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,272 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,272 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:40,272 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,272 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,272 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,275 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:40,275 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,275 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,298 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,303 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:40,303 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,303 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,303 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,306 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:40,306 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,306 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,306 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,306 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:40,306 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,306 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,306 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,308 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:40,308 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,308 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,308 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,309 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:40,309 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,309 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,309 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,311 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:40,311 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,311 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,312 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,312 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:40,312 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,312 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,312 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,339 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 26 ms with result: SqlDataReader

2017-11-29 17:10:40,339 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,339 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,339 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,340 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:40,340 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,340 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,340 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,342 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:40,342 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,342 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,374 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,374 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:40,374 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,374 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,374 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,377 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:40,377 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,377 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,377 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,377 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:40,377 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,377 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,377 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,378 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:40,378 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,379 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,379 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,380 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:40,380 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,380 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,380 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,382 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:40,382 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,382 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,383 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,383 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:40,383 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,383 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,383 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,384 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:40,384 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,384 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,385 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,385 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:40,385 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,385 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,385 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,388 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:40,388 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,388 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,434 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,435 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:40,435 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,435 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,435 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,465 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 30 ms with result: SqlDataReader

2017-11-29 17:10:40,465 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,466 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,466 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,466 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:40,466 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,466 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,466 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,467 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:40,467 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,467 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,468 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,468 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:40,468 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,468 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,468 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,470 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:40,471 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,471 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,471 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,471 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:40,471 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,472 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,472 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,472 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:40,472 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,473 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,473 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,473 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:40,473 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,473 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,473 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,476 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:40,476 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,476 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,512 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,513 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:40,513 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,513 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,513 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,515 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:40,515 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,515 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,516 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,516 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:40,516 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,516 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,516 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,517 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:40,517 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,517 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,518 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,518 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:40,518 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,518 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,518 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,521 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:40,521 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,521 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,522 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,522 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:40,522 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,522 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,522 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,524 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:40,524 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,524 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,524 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,525 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:40,525 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,525 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,525 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,527 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:40,527 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,528 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,569 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,569 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:40,569 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,569 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,569 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,572 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:40,572 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,572 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,572 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,572 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:40,572 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,572 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,573 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,574 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:40,574 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,574 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,575 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,575 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:40,575 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,575 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,575 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,578 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:40,578 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,578 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,578 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,579 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:40,579 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,579 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,579 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,580 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:40,580 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,580 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,581 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,581 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:40,581 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,581 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,581 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,584 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:40,584 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,584 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,607 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,608 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:40,608 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,608 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,608 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,610 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:40,610 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,610 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,610 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,611 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:40,611 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,611 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,611 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,612 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:40,612 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,612 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,612 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,613 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:40,613 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,613 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,613 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,615 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:40,615 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,616 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,616 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,617 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:40,617 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,617 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,617 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,618 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:40,618 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,618 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,618 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,619 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:40,619 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,619 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,619 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,621 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:40,621 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,621 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,647 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,647 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:40,647 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,647 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,647 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,650 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:40,650 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,650 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,650 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,650 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:40,650 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,650 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,650 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,651 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:40,652 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,652 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,652 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,653 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:40,653 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,653 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,653 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,655 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:40,655 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,655 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,656 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,656 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:40,656 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,656 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,656 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,657 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:40,657 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,657 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,658 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,658 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:40,658 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,658 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,658 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,661 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:40,661 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,661 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,710 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,710 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:40,710 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,710 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,710 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,713 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:40,713 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,713 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,713 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,713 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:40,713 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,713 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,713 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,714 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:40,714 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,714 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,715 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,716 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:40,716 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,716 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,716 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,718 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:40,718 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,719 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,719 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,719 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:40,719 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,719 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,719 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,720 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:40,720 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,721 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,721 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,721 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:40,721 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,721 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,721 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,724 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:40,724 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,724 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,767 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,768 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:40,768 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,768 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,768 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,771 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:40,771 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,771 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,771 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,771 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:40,771 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,771 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,771 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,772 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:40,772 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,773 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,773 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,774 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:40,774 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,774 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,774 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,776 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:40,776 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,776 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,777 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,777 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:40,777 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,777 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,777 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,778 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:40,778 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,779 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,779 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,779 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:40,779 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,779 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,779 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,782 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:40,782 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,782 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,823 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,823 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:40,823 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,823 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,823 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,826 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:40,826 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,826 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,826 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,826 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:40,826 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,826 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,826 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,827 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:40,827 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,828 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,828 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,828 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:40,828 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,828 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,829 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,831 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:40,831 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,831 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,831 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,833 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:40,833 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,833 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,833 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,834 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:40,834 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,834 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,834 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,834 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:40,834 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,834 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,835 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,837 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:40,837 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,837 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,864 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,868 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:40,868 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,868 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,868 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,871 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:40,871 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,871 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,871 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,871 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:40,871 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,871 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,871 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,872 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:40,872 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,873 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,873 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,874 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:40,874 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,874 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,874 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,876 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:40,877 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,877 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,877 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,878 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:40,878 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,878 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,878 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,879 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:40,879 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,879 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,879 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,880 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:40,880 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,880 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,880 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,882 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:40,882 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,883 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,938 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,939 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:40,939 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,939 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,939 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,941 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:40,941 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,942 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,942 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,942 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:40,942 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,942 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,942 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,943 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:40,943 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,943 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,944 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,944 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:40,944 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,944 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,944 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,947 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:40,947 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,947 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,948 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,948 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:40,948 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,948 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,948 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,949 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:40,949 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,949 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,950 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,950 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:40,950 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,950 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,950 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,953 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:40,953 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,953 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,981 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,981 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:40,981 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,981 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,981 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,984 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:40,984 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,984 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,984 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,984 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:40,984 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,984 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,984 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,985 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:40,985 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,985 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,986 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,986 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:40,986 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,986 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,986 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,988 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:40,988 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,988 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,989 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,989 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:40,989 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,989 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,989 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,990 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:40,990 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,990 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,990 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,991 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:40,991 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,991 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:40,991 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:40,993 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:40,993 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:40,993 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:40 +08:00

2017-11-29 17:10:41,036 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,037 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:41,037 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,037 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,037 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,039 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:41,040 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,040 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,040 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,040 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:41,040 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,040 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,040 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,041 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:41,041 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,041 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,042 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,042 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:41,042 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,042 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,042 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,045 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:41,045 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,045 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,045 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,046 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:41,046 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,046 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,046 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,047 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:41,047 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,047 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,047 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,047 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:41,048 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,048 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,048 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,050 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:41,050 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,050 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,135 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,135 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:41,135 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,135 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,135 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,138 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:41,138 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,138 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,138 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,138 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:41,138 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,138 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,138 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,139 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:41,139 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,140 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,140 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,140 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:41,140 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,140 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,140 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,143 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:41,143 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,143 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,144 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,144 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:41,144 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,144 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,144 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,145 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:41,145 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,145 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,146 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,146 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:41,146 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,146 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,146 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,149 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:41,149 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,149 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,186 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,186 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:41,186 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,186 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,186 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,293 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 106 ms with result: SqlDataReader

2017-11-29 17:10:41,293 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,293 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,293 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,293 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:41,293 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,293 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,293 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,298 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 5 ms with result: SqlDataReader

2017-11-29 17:10:41,298 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,298 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,299 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,299 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:41,300 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,300 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,300 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,302 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:41,302 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,302 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,303 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,303 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:41,303 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,303 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,305 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,305 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:41,305 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,305 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,305 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,305 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:41,305 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,305 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,305 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,309 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:41,309 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,309 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,377 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,377 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:41,377 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,377 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,377 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,380 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:41,380 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,380 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,380 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,380 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:41,380 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,380 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,380 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,381 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:41,381 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,381 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,382 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,382 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:41,382 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,382 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,382 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,385 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:41,385 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,385 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,386 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,386 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:41,386 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,386 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,386 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,387 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:41,387 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,387 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,388 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,388 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:41,388 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,388 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,388 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,391 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:41,391 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,391 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,438 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,438 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:41,438 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,438 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,438 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,441 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:41,441 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,441 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,441 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,441 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:41,441 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,441 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,441 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,443 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:41,443 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,443 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,443 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,444 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:41,444 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,444 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,444 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,446 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:41,446 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,447 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,447 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,447 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:41,448 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,448 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,448 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,449 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:41,449 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,449 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,449 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,450 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:41,450 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,450 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,450 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,452 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:41,452 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,453 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,480 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,480 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:41,480 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,480 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,480 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,483 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:41,483 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,483 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,483 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,483 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:41,483 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,484 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,484 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,485 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:41,485 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,485 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,486 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,486 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:41,486 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,486 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,486 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,489 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:41,489 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,489 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,489 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,490 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:41,490 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,490 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,490 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,496 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 5 ms with result: SqlDataReader

2017-11-29 17:10:41,496 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,496 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,496 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,496 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:41,497 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,497 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,497 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,499 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:41,499 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,499 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,530 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,530 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:41,530 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,530 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,530 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,533 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:41,533 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,533 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,533 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,533 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:41,533 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,533 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,533 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,535 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:41,535 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,535 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,536 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,536 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:41,536 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,536 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,536 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,539 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:41,539 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,539 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,539 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,540 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:41,540 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,540 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,540 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,541 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:41,541 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,541 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,541 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,542 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:41,542 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,542 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,542 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,544 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:41,544 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,544 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,591 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,592 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:41,592 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,592 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,592 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,594 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:41,595 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,595 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,595 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,595 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:41,595 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,595 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,595 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,597 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:41,597 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,597 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,598 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,598 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:41,598 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,598 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,598 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,601 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:41,601 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,601 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,601 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,602 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:41,602 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,602 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,602 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,603 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:41,603 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,603 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,604 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,604 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:41,604 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,604 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,604 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,607 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:41,607 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,607 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,645 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,645 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:41,645 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,645 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,645 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,653 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 7 ms with result: SqlDataReader

2017-11-29 17:10:41,653 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,653 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,654 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,654 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:41,654 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,654 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,654 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,655 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:41,655 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,656 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,656 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,656 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:41,657 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,657 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,657 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,660 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:41,660 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,660 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,660 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,661 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:41,661 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,661 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,661 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,662 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:41,662 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,662 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,663 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,663 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:41,663 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,663 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,663 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,666 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2017-11-29 17:10:41,666 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,667 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,689 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,689 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:41,689 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,689 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,689 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,693 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2017-11-29 17:10:41,693 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,693 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,693 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,693 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:41,693 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,693 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,693 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,695 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:41,695 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,695 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,696 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,696 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:41,696 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,696 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,696 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,699 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2017-11-29 17:10:41,699 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,699 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,700 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,700 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:41,700 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,700 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,700 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,702 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:41,702 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,702 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,702 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,703 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:41,703 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,703 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,703 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,706 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:41,706 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,706 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,757 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,757 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:41,757 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,757 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,757 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,760 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2017-11-29 17:10:41,760 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,760 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,760 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,761 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:41,761 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,761 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,761 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,762 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:41,763 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,763 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,763 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,764 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:41,764 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,764 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,764 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,767 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2017-11-29 17:10:41,767 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,767 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,768 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,768 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:41,768 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,768 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,768 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,770 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:41,770 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,770 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,770 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,771 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:41,771 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,771 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,771 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,774 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2017-11-29 17:10:41,774 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,774 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,800 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,800 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:41,800 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,800 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,801 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,803 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:41,803 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,803 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,803 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,804 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:41,804 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,804 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,804 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,805 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:41,805 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,805 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,806 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,806 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:41,806 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,806 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,806 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,809 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:41,809 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,809 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,810 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,810 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:41,810 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,810 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,810 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,811 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:41,811 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,812 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,812 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,812 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:41,812 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,812 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,812 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,815 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:41,815 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,815 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,868 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,868 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:41,868 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,868 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,868 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,871 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:41,871 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,871 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,871 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,871 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:41,871 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,871 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,871 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,873 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:41,873 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,873 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,874 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,874 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:41,874 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,874 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,874 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,877 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:41,877 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,877 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,877 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,878 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:41,878 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,878 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,878 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,879 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:41,879 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,879 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,880 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,880 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:41,880 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,880 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,880 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,883 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2017-11-29 17:10:41,883 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,883 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,896 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,897 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:41,897 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,897 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,897 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,900 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2017-11-29 17:10:41,900 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,900 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,901 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,901 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:41,901 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,901 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,901 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,903 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:41,903 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,903 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,904 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,904 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:41,904 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,904 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,904 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,908 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2017-11-29 17:10:41,908 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,908 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,908 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,909 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:41,909 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,909 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,909 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,921 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 12 ms with result: SqlDataReader

2017-11-29 17:10:41,921 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,921 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,921 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,922 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:41,922 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,922 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,922 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,926 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2017-11-29 17:10:41,926 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,926 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,964 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,966 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:41,966 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,966 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,966 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,970 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2017-11-29 17:10:41,970 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,971 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,971 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,971 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:41,971 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,971 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,971 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,974 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:41,974 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,974 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,975 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,975 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:41,975 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,975 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,975 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,978 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:41,978 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,978 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,979 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,979 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:41,979 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,979 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,979 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,980 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:41,980 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,980 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,981 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,981 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:41,981 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,981 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,981 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,984 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:41,984 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,984 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,993 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,994 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:41,994 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,994 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,994 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,997 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:41,997 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,997 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,997 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,997 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:41,997 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,997 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:41,997 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,998 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:41,998 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:41,998 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:41,999 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:41 +08:00

2017-11-29 17:10:42,000 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:42,000 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,000 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,000 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,002 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,002 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,003 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,003 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,003 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:42,003 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,003 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,003 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,004 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:42,004 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,005 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,005 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,005 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:42,005 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,005 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,005 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,008 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,008 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,008 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,041 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,041 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:42,042 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,042 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,042 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,044 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,044 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,044 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,044 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,044 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:42,044 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,044 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,044 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,045 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:42,046 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,046 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,046 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,047 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:42,047 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,047 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,047 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,049 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,049 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,049 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,050 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,050 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:42,050 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,050 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,050 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,052 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:42,052 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,052 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,052 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,053 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:42,053 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,053 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,053 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,055 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,055 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,055 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,094 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,094 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:42,094 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,094 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,094 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,097 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,097 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,097 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,097 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,097 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:42,097 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,097 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,097 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,098 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:42,098 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,099 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,099 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,100 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:42,100 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,100 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,100 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,102 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,102 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,103 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,103 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,103 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:42,103 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,103 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,103 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,105 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:42,105 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,105 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,105 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,105 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:42,105 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,105 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,106 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,108 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,108 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,108 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,141 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,141 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:42,141 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,141 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,141 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,145 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2017-11-29 17:10:42,145 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,145 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,146 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,146 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:42,146 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,146 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,146 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,147 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:42,147 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,147 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,148 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,148 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:42,148 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,148 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,148 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,151 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,151 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,151 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,151 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,152 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:42,152 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,152 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,152 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,154 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:42,154 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,154 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,154 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,155 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:42,155 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,155 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,155 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,157 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,157 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,158 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,188 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,188 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:42,188 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,188 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,188 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,191 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,191 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,191 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,191 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,191 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:42,191 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,191 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,191 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,192 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:42,192 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,192 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,193 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,193 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:42,193 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,193 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,193 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,196 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,196 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,196 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,196 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,197 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:42,197 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,197 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,197 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,198 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:42,198 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,198 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,199 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,199 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:42,199 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,199 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,199 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,202 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,202 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,202 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,241 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,241 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:42,241 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,241 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,241 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,244 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,244 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,244 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,244 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,244 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:42,244 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,244 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,244 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,246 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:42,246 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,246 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,246 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,247 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:42,247 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,247 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,247 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,249 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,249 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,250 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,250 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,251 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:42,251 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,251 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,251 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,253 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:42,253 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,253 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,253 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,254 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:42,254 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,254 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,254 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,256 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,256 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,256 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,278 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,278 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:42,278 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,278 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,278 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,281 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,281 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,281 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,281 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,281 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:42,281 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,281 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,281 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,283 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:42,283 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,283 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,284 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,284 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:42,284 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,284 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,284 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,287 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,287 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,287 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,287 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,288 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:42,288 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,288 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,288 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,289 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:42,289 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,289 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,289 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,290 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:42,290 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,290 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,290 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,293 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2017-11-29 17:10:42,293 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,293 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,325 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,325 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:42,325 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,325 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,325 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,328 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,328 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,328 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,328 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,328 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:42,328 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,328 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,328 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,329 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:42,329 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,330 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,330 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,331 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:42,331 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,331 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,331 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,333 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,333 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,333 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,334 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,334 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:42,334 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,334 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,334 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,335 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:42,335 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,336 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,336 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,336 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:42,336 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,336 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,336 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,339 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,339 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,339 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,366 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,366 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:42,366 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,367 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,367 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,369 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,369 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,369 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,369 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,369 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:42,370 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,370 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,370 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,371 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:42,371 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,371 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,372 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,372 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:42,372 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,372 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,372 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,375 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,375 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,375 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,375 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,376 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:42,376 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,376 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,376 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,377 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:42,377 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,377 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,377 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,377 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:42,378 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,378 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,378 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,380 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,380 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,380 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,414 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,414 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:42,415 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,415 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,415 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,418 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,418 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,418 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,418 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,418 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:42,418 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,418 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,418 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,420 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:42,420 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,420 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,420 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,421 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:42,421 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,421 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,421 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,423 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,423 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,424 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,424 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,424 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:42,424 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,425 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,425 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,426 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:42,426 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,426 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,426 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,427 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:42,427 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,427 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,427 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,429 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,429 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,429 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,461 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,462 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:42,462 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,462 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,462 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,465 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,465 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,465 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,465 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,465 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:42,465 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,465 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,465 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,470 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 4 ms with result: SqlDataReader

2017-11-29 17:10:42,470 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,470 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,471 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,471 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:42,471 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,471 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,471 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,474 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,474 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,474 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,474 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,475 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:42,475 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,475 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,475 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,476 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:42,476 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,476 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,476 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,476 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:42,477 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,477 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,477 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,479 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,479 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,479 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,526 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,526 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:42,527 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,527 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,527 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,529 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,529 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,529 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,530 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,530 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:42,530 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,530 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,530 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,531 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:42,531 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,531 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,532 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,532 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:42,532 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,532 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,532 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,535 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,535 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,535 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,536 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,536 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:42,536 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,536 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,536 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,537 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:42,537 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,538 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,538 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,538 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:42,538 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,538 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,538 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,541 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,541 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,541 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,578 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,578 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:42,578 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,578 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,578 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,580 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,581 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,581 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,581 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,581 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:42,581 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,581 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,581 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,582 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:42,582 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,582 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,583 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,583 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:42,583 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,583 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,584 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,586 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,586 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,586 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,587 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,587 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:42,587 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,587 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,587 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,588 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:42,588 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,588 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,589 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,589 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:42,589 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,589 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,589 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,592 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,592 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,592 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,638 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,639 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:42,639 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,639 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,639 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,641 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,641 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,641 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,642 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,642 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:42,642 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,642 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,642 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,643 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:42,643 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,643 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,644 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,644 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:42,644 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,644 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,644 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,647 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2017-11-29 17:10:42,647 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,648 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,648 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,648 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:42,648 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,648 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,649 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,650 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:42,650 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,650 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,650 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,650 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:42,650 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,651 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,651 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,653 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,653 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,653 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,679 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,680 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:42,680 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,680 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,680 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,683 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,683 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,683 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,683 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,683 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:42,683 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,683 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,683 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,684 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:42,684 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,684 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,685 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,685 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:42,685 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,685 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,685 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,688 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,688 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,688 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,689 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,689 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:42,689 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,689 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,689 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,690 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:42,690 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,690 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,690 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,691 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:42,691 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,691 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,691 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,695 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 4 ms with result: SqlDataReader

2017-11-29 17:10:42,695 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,695 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,722 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,722 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:42,722 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,723 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,723 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,725 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,725 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,725 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,726 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,726 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:42,726 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,726 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,726 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,727 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:42,727 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,727 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,728 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,728 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:42,728 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,728 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,728 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,731 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,731 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,731 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,731 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,732 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:42,732 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,732 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,732 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,733 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:42,733 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,733 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,734 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,734 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:42,734 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,734 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,734 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,737 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,737 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,737 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,758 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,758 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:42,758 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,758 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,758 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,761 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,761 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,761 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,761 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,761 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:42,761 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,761 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,761 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,763 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:42,763 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,763 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,763 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,764 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:42,764 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,764 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,764 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,766 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,766 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,767 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,767 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,767 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:42,767 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,767 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,767 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,769 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:42,769 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,769 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,769 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,769 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:42,769 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,769 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,769 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,772 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,772 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,772 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,805 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,806 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:42,806 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,806 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,806 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,809 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,809 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,809 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,809 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,809 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:42,809 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,809 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,809 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,811 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:42,811 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,811 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,811 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,812 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:42,812 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,812 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,812 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,814 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,814 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,815 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,815 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,815 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:42,815 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,815 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,816 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,817 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:42,817 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,817 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,817 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,818 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:42,818 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,818 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,818 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,820 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,820 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,820 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,843 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,843 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:42,843 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,843 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,843 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,846 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,846 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,846 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,846 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,846 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:42,846 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,846 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,846 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,847 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:42,847 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,847 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,848 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,848 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:42,848 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,848 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,849 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,851 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,851 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,852 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,852 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,852 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:42,852 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,852 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,852 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,853 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:42,854 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,854 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,854 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,854 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:42,854 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,854 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,854 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,859 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 4 ms with result: SqlDataReader

2017-11-29 17:10:42,859 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,859 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,881 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,882 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:42,882 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,882 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,882 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,884 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,885 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,885 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,885 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,885 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:42,885 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,885 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,885 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,886 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:42,886 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,886 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,887 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,887 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:42,887 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,887 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,887 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,890 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,890 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,890 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,891 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,891 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:42,891 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,891 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,891 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,892 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:42,892 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,892 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,893 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,893 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:42,893 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,893 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,893 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,896 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,896 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,896 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,920 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,920 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:42,920 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,920 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,920 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,923 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,923 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,923 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,923 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,923 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:42,923 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,923 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,923 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,924 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:42,924 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,924 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,925 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,925 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:42,925 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,925 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,925 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,928 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,928 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,928 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,929 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,929 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:42,929 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,929 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,929 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,930 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:42,930 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,930 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,931 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,931 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:42,931 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,931 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,931 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,934 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,934 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,934 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,967 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,967 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:42,968 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,968 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,968 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,970 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,970 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,970 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,971 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,971 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:42,971 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,971 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,971 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,972 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:42,972 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,972 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,973 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,973 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:42,973 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,973 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,973 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,976 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,976 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,976 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,976 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,977 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:42,977 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,977 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,977 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,978 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:42,978 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,978 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,978 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,978 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:42,979 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,979 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:42,979 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:42,981 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:42,981 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:42,981 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:42 +08:00

2017-11-29 17:10:43,002 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,002 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:43,002 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,002 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,002 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,005 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,005 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,005 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,005 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,005 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:43,005 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,005 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,005 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,010 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 4 ms with result: SqlDataReader

2017-11-29 17:10:43,010 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,010 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,011 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,011 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:43,011 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,011 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,011 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,014 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,014 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,014 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,014 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,015 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:43,015 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,015 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,015 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,016 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:43,016 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,016 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,016 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,017 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:43,017 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,017 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,017 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,019 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,019 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,020 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,054 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,054 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:43,054 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,055 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,055 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,057 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,057 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,057 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,057 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,057 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:43,057 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,057 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,058 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,059 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:43,059 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,059 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,060 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,060 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:43,060 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,060 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,060 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,063 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,063 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,063 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,063 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,064 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:43,064 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,064 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,064 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,065 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:43,065 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,065 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,065 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,065 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:43,066 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,066 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,066 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,068 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,069 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,069 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,115 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,116 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:43,116 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,116 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,116 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,119 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,119 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,119 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,119 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,119 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:43,119 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,119 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,119 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,120 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:43,121 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,121 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,121 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,122 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:43,122 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,122 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,122 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,124 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,124 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,124 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,125 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,125 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:43,125 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,125 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,125 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,126 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:43,126 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,127 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,127 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,127 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:43,127 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,127 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,127 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,130 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,130 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,130 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,195 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,195 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:43,196 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,196 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,196 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,199 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,199 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,199 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,199 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,199 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:43,199 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,199 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,199 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,200 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:43,201 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,201 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,201 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,202 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:43,202 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,202 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,202 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,204 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,204 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,205 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,205 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,205 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:43,205 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,205 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,205 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,207 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:43,207 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,207 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,207 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,207 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:43,207 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,207 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,207 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,210 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,210 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,210 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,251 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,251 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:43,251 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,251 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,251 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,254 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,254 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,254 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,254 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,254 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:43,254 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,254 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,255 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,256 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:43,256 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,256 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,256 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,257 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:43,257 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,257 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,257 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,259 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,259 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,260 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,260 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,260 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:43,260 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,260 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,260 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,261 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:43,261 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,261 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,262 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,262 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:43,262 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,262 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,262 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,265 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,265 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,265 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,287 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,288 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:43,288 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,288 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,288 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,291 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,291 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,291 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,291 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,291 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:43,291 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,291 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,291 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,292 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:43,292 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,292 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,293 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,293 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:43,293 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,293 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,293 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,297 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 4 ms with result: SqlDataReader

2017-11-29 17:10:43,297 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,298 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,298 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,298 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:43,298 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,298 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,298 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,300 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:43,300 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,300 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,300 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,301 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:43,301 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,301 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,301 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,303 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,303 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,304 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,321 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,322 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:43,322 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,322 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,322 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,324 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,324 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,325 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,325 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,325 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:43,325 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,325 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,325 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,326 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:43,326 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,326 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,327 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,327 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:43,327 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,327 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,327 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,330 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,330 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,330 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,331 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,331 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:43,331 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,331 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,331 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,332 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:43,332 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,332 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,333 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,333 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:43,333 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,333 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,333 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,336 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,336 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,336 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,359 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,360 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:43,360 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,360 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,360 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,362 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,362 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,362 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,363 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,363 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:43,363 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,363 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,363 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,364 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:43,364 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,364 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,365 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,365 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:43,365 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,365 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,365 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,368 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,368 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,368 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,368 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,369 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:43,369 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,369 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,369 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,370 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:43,370 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,370 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,371 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,371 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:43,371 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,371 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,371 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,374 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,374 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,374 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,381 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,383 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:43,383 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,383 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,383 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,386 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,386 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,386 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,386 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,386 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:43,386 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,386 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,386 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,387 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:43,387 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,388 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,388 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,388 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:43,389 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,389 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,389 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,391 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,391 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,391 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,392 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,392 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:43,392 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,392 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,392 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,393 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:43,393 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,393 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,394 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,394 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:43,394 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,394 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,394 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,397 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,397 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,397 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,416 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,416 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:43,416 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,416 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,416 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,419 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,419 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,419 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,419 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,419 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:43,419 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,419 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,419 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,420 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:43,421 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,421 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,421 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,422 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:43,422 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,422 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,422 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,424 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,424 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,425 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,425 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,425 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:43,425 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,425 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,425 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,426 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:43,426 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,426 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,427 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,427 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:43,427 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,427 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,427 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,430 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,430 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,430 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,447 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,447 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:43,447 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,447 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,447 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,450 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,450 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,450 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,450 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,450 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:43,450 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,450 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,450 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,451 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:43,451 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,452 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,452 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,452 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:43,452 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,452 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,452 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,455 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,455 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,455 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,456 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,456 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:43,456 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,456 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,456 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,457 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:43,457 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,457 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,457 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,458 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:43,458 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,458 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,458 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,460 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,460 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,460 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,470 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,470 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:43,471 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,471 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,471 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,473 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,473 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,473 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,473 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,474 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:43,474 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,474 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,474 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,475 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:43,475 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,475 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,476 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,476 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:43,476 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,476 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,476 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,479 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,479 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,479 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,480 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,480 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:43,480 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,480 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,480 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,481 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:43,481 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,481 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,481 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,482 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:43,482 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,482 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,482 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,485 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,485 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,485 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,495 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,496 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:43,496 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,496 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,496 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,499 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,499 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,499 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,499 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,499 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:43,499 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,499 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,499 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,500 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:43,500 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,501 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,501 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,501 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:43,501 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,501 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,502 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,504 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,504 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,504 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,505 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,505 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:43,505 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,505 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,505 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,506 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:43,506 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,506 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,506 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,507 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:43,507 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,507 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,507 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,509 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,509 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,509 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,521 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,521 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:43,522 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,522 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,522 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,524 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,524 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,525 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,525 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,525 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:43,525 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,525 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,525 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,526 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:43,526 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,526 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,527 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,527 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:43,527 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,527 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,527 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,530 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,530 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,530 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,530 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,531 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:43,531 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,531 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,531 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,532 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:43,532 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,532 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,532 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,533 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:43,533 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,533 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,533 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,535 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,535 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,535 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,548 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,548 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:43,549 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,549 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,549 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,552 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,552 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,552 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,552 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,552 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:43,552 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,552 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,552 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,553 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:43,553 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,553 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,554 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,554 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:43,554 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,554 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,555 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,557 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,557 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,557 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,558 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,558 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:43,558 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,558 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,558 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,559 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:43,559 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,559 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,559 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,560 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:43,560 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,560 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,560 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,562 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,562 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,562 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,576 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,576 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:43,576 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,576 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,576 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,579 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,579 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,579 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,579 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,579 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:43,579 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,579 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,579 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,580 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:43,580 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,581 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,581 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,581 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:43,581 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,581 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,582 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,584 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,584 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,584 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,585 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,585 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:43,585 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,585 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,585 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,586 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:43,586 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,586 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,587 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,587 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:43,587 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,587 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,587 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,590 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,590 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,590 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,608 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,610 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:43,610 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,610 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,610 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,612 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,612 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,613 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,613 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,613 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:43,613 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,613 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,613 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,614 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:43,614 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,614 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,615 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,615 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:43,615 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,615 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,615 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,618 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,618 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,618 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,618 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,619 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:43,619 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,619 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,619 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,620 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:43,620 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,620 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,620 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,621 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:43,621 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,621 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,621 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,623 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,623 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,623 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,641 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,641 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:43,641 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,641 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,641 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,644 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,644 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,644 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,644 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,644 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:43,644 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,644 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,644 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,645 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:43,645 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,645 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,646 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,646 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:43,646 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,646 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,646 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,649 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,649 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,649 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,649 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,650 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:43,650 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,650 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,650 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,651 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:43,651 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,651 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,651 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,652 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:43,652 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,652 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,652 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,655 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,655 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,655 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,670 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,670 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:43,670 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,670 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,670 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,673 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,673 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,673 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,673 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,673 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:43,673 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,673 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,673 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,675 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:43,675 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,675 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,676 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,676 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:43,676 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,676 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,676 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,678 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,679 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,680 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,681 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,681 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:43,681 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,682 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,682 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,683 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:43,683 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,683 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,683 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,683 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:43,683 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,683 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,683 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,686 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,686 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,686 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,717 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,717 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:43,717 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,717 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,717 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,720 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,720 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,720 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,720 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,720 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:43,720 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,720 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,720 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,721 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:43,721 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,721 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,722 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,722 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:43,722 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,722 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,722 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,725 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,725 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,726 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,726 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,726 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:43,726 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,726 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,726 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,728 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:43,728 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,728 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,728 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,729 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:43,729 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,729 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,729 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,731 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,731 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,731 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,761 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,761 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:43,762 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,762 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,762 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,764 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,764 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,764 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,764 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,764 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:43,764 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,765 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,765 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,766 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:43,766 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,766 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,767 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,767 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:43,767 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,767 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,767 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,769 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,770 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,770 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,770 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,771 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:43,771 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,771 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,771 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,772 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:43,772 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,772 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,772 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,773 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:43,773 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,773 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,773 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,775 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,775 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,776 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,800 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,801 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:43,801 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,801 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,801 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,804 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,804 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,804 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,804 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,804 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:43,804 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,804 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,804 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,805 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:43,805 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,805 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,806 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,806 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:43,806 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,806 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,806 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,809 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,809 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,809 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,809 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,810 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:43,810 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,810 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,810 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,811 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:43,811 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,811 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,811 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,811 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:43,811 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,811 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,812 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,814 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,814 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,814 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,837 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,837 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:43,837 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,838 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,838 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,840 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,840 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,840 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,840 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,840 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:43,840 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,840 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,840 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,842 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:43,842 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,842 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,842 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,842 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:43,843 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,843 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,843 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,845 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,845 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,845 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,846 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,846 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:43,846 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,846 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,846 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,847 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:43,847 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,847 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,847 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,848 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:43,848 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,848 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,848 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,850 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,850 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,850 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,866 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,866 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:43,866 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,866 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,866 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,869 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,869 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,869 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,869 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,869 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:43,869 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,869 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,869 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,870 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:43,870 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,870 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,871 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,871 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:43,871 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,871 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,871 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,874 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,874 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,874 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,874 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,875 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:43,875 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,875 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,875 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,876 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:43,876 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,876 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,876 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,877 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:43,877 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,877 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,877 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,879 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,879 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,879 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,895 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,895 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:43,895 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,895 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,895 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,898 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,898 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,898 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,899 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,899 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:43,899 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,899 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,899 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,900 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:43,900 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,900 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,901 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,901 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:43,901 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,901 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,901 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,904 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,904 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,904 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,904 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,905 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:43,905 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,905 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,905 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,906 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:43,906 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,906 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,906 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,907 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:43,907 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,907 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,907 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,909 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,909 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,909 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,918 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,918 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:43,918 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,919 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,919 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,921 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,921 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,921 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,922 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,922 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:43,922 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,922 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,922 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,923 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:43,923 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,923 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,924 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,924 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:43,924 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,924 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,924 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,926 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,926 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,927 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,927 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,927 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:43,927 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,927 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,927 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,929 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:43,929 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,929 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,929 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,929 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:43,930 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,930 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,930 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,932 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,932 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,932 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,949 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,949 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:43,951 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,951 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,951 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,953 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,953 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,953 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,954 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,954 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:43,954 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,954 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,954 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,955 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:43,955 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,955 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,956 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,956 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:43,956 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,956 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,956 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,959 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,959 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,959 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,959 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,960 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:43,960 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,960 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,960 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,961 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:43,961 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,961 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,962 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,962 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:43,962 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,962 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:43,962 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:43,965 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:43,965 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:43,965 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:43 +08:00

2017-11-29 17:10:44,010 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,010 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:44,010 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,010 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,010 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,013 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,013 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,013 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,013 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,013 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:44,013 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,013 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,013 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,014 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:44,014 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,014 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,015 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,016 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:44,016 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,016 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,016 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,018 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,018 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,019 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,019 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,020 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:44,020 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,020 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,020 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,021 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:44,021 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,021 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,021 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,022 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:44,022 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,022 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,022 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,024 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,024 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,024 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,101 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,101 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:44,101 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,101 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,101 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,104 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,104 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,105 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,105 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,105 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:44,105 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,105 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,105 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,106 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:44,106 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,106 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,107 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,107 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:44,107 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,107 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,107 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,109 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:44,109 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,109 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,110 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,110 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:44,110 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,110 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,110 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,111 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:44,111 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,111 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,111 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,112 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:44,112 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,112 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,112 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,115 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,115 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,115 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,140 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,141 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:44,141 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,141 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,141 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,143 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,143 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,144 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,144 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,144 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:44,144 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,144 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,144 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,145 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:44,145 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,145 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,146 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,146 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:44,146 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,146 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,146 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,149 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,149 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,149 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,149 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,150 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:44,150 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,150 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,150 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,151 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:44,151 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,151 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,151 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,152 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:44,152 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,152 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,152 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,154 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,154 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,154 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,171 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,172 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:44,172 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,172 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,172 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,174 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,174 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,175 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,175 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,175 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:44,175 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,175 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,175 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,177 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:44,177 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,177 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,178 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,178 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:44,178 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,178 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,178 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,181 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,181 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,181 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,181 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,182 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:44,182 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,182 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,182 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,183 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:44,183 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,183 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,183 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,184 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:44,184 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,184 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,184 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,186 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,187 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,187 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,196 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,196 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:44,196 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,196 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,196 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,199 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,199 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,199 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,199 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,200 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:44,200 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,200 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,200 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,201 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:44,201 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,201 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,202 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,202 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:44,202 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,202 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,202 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,205 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,205 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,205 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,205 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,206 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:44,206 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,206 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,206 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,207 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:44,207 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,207 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,207 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,208 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:44,208 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,208 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,208 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,210 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,210 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,211 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,219 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,219 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:44,219 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,219 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,219 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,221 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,222 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,222 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,222 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,222 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:44,222 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,222 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,222 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,223 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:44,223 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,223 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,224 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,224 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:44,224 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,224 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,224 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,227 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,227 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,227 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,227 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,228 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:44,228 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,228 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,228 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,229 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:44,229 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,229 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,229 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,230 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:44,230 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,230 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,230 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,233 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2017-11-29 17:10:44,233 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,233 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,253 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,253 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:44,253 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,253 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,253 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,256 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,256 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,256 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,256 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,256 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:44,256 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,256 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,256 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,257 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:44,257 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,258 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,258 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,258 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:44,258 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,258 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,258 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,261 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,261 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,261 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,261 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,262 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:44,262 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,262 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,262 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,263 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:44,263 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,263 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,263 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,264 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:44,264 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,264 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,264 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,266 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,266 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,266 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,275 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,275 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:44,275 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,275 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,275 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,278 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,278 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,278 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,278 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,278 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:44,278 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,278 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,278 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,280 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:44,280 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,280 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,281 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,281 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:44,281 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,281 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,281 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,284 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,284 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,284 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,284 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,285 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:44,285 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,285 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,285 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,286 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:44,286 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,286 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,287 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,287 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:44,287 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,287 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,287 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,290 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,290 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,290 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,365 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,365 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:44,365 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,366 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,366 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,369 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,369 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,369 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,369 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,369 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:44,369 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,370 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,370 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,371 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:44,371 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,371 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,372 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,372 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:44,372 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,372 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,372 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,375 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,375 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,375 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,375 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,376 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:44,376 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,376 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,376 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,377 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:44,377 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,377 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,378 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,378 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:44,378 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,378 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,378 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,381 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,381 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,381 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,415 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,416 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:44,416 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,416 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,416 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,419 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,419 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,419 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,419 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,419 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:44,419 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,419 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,419 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,421 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:44,421 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,421 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,422 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,422 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:44,422 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,422 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,422 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,425 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,425 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,425 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,425 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,426 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:44,426 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,426 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,426 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,427 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:44,427 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,427 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,428 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,428 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:44,428 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,428 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,428 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,431 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,431 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,431 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,465 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,465 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:44,466 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,466 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,466 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,469 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,469 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,469 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,470 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,470 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:44,470 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,470 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,470 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,471 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:44,471 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,471 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,472 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,472 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
