2017-11-29 17:10:44,472 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,483 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,483 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,486 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,486 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,486 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,487 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,487 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:44,487 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,487 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,487 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,488 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:44,488 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,488 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,489 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,489 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:44,489 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,489 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,489 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,492 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,492 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,492 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,570 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,570 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:44,570 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,570 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,570 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,573 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,573 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,573 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,573 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,573 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:44,573 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,573 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,573 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,574 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:44,574 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,574 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,575 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,575 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:44,575 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,575 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,575 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,578 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,578 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,578 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,579 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,579 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:44,579 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,579 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,579 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,580 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:44,580 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,580 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,581 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,581 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:44,581 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,581 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,581 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,584 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,584 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,584 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,593 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,593 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:44,593 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,593 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,593 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,596 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,596 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,596 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,596 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,596 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:44,596 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,596 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,596 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,598 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:44,598 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,601 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,601 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,602 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:44,602 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,602 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,602 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,604 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,604 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,605 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,605 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,605 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:44,605 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,605 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,605 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,607 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:44,607 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,607 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,607 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,608 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:44,608 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,608 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,608 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,610 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,610 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,611 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,654 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,654 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:44,655 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,655 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,655 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,657 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,658 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,658 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,658 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,658 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:44,658 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,658 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,658 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,659 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:44,659 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,659 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,660 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,660 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:44,660 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,660 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,660 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,663 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,663 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,663 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,664 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,664 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:44,664 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,664 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,664 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,665 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:44,665 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,665 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,665 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,666 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:44,666 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,666 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,666 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,668 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,668 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,669 [38] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,688 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,689 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:44,689 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,689 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,689 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,691 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,691 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,692 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,692 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,692 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:44,692 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,692 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,692 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,693 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:44,693 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,693 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,694 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,694 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:44,694 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,694 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,694 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,697 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,697 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,697 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,697 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,698 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:44,698 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,698 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,698 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,699 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:44,699 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,699 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,699 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,700 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:44,700 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,700 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,700 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,702 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,702 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,703 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,716 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,731 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:44,731 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,731 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,731 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,734 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,734 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,734 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,734 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,734 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:44,734 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,734 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,734 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,735 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:44,735 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,735 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,736 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,736 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:44,736 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,737 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,737 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,739 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,739 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,739 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,740 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,740 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:44,740 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,740 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,740 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,741 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:44,741 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,741 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,742 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,742 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:44,742 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,742 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,742 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,745 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,745 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,745 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,753 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,754 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:44,754 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,756 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,756 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,758 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,758 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,758 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,758 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,759 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:44,759 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,759 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,759 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,760 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:44,760 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,760 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,761 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,761 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:44,761 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,761 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,761 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,763 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,763 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,764 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,764 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,765 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:44,765 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,765 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,765 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,766 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:44,766 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,766 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,766 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,766 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:44,767 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,767 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,767 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,769 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,769 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,770 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,783 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,784 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:44,784 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,784 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,784 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,786 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,787 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,787 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,787 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,787 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:44,787 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,787 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,787 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,788 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:44,788 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,789 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,789 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,790 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:44,790 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,790 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,790 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,792 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,792 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,792 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,793 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,793 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:44,793 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,793 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,793 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,795 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:44,795 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,795 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,795 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,796 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:44,796 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,796 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,796 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,798 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,798 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,798 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,811 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,811 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:44,811 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,811 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,811 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,813 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,813 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,814 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,814 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,814 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:44,814 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,814 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,814 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,815 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:44,815 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,815 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,816 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,816 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:44,816 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,816 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,816 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,819 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,819 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,819 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,819 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,820 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:44,820 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,820 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,820 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,821 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:44,821 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,821 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,821 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,822 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:44,822 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,822 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,822 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,824 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,824 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,824 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,840 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,841 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:44,841 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,841 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,841 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,843 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,843 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,843 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,843 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,844 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:44,844 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,844 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,844 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,845 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:44,845 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,845 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,845 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,846 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:44,846 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,846 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,846 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,848 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,848 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,849 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,849 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,850 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:44,850 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,850 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,850 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,851 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:44,851 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,851 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,851 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,851 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:44,851 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,852 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,852 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,854 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,854 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,854 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,888 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,888 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:44,888 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,888 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,888 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,891 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,891 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,891 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,891 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,891 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:44,891 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,891 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,891 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,892 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:44,893 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,893 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,893 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,894 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:44,894 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,894 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,894 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,896 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,896 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,896 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,896 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,897 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:44,897 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,897 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,897 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,898 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:44,898 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,898 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,898 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,899 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:44,899 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,899 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,899 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,901 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,901 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,901 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,925 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,925 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:44,925 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,925 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,925 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,928 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,928 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,928 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,928 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,928 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:44,928 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,928 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,928 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,929 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:44,929 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,930 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,930 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,930 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:44,930 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,930 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,930 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,933 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,933 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,936 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,937 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,937 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:44,937 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,937 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,937 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,939 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:44,939 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,939 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,939 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,940 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:44,940 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,940 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,940 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,942 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,943 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,943 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,964 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,965 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:44,965 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,965 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,965 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,968 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,968 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,969 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,969 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,969 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:44,969 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,969 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,969 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,970 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:44,970 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,970 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,971 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,971 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:44,971 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,971 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,971 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,974 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,974 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,974 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,975 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,975 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:44,975 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,975 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,975 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,976 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:44,976 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,976 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,976 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,977 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:44,977 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,977 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,977 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,979 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:44,979 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,979 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,997 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:44,998 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:44,998 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:44,998 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:44,998 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:44 +08:00

2017-11-29 17:10:45,001 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,001 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,001 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,001 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,001 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:45,001 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,001 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,001 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,002 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:45,002 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,003 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,003 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,004 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:45,004 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,004 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,004 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,006 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,006 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,007 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,007 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,007 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:45,007 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,007 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,007 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,008 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:45,009 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,009 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,009 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,009 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:45,009 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,009 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,009 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,012 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,012 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,012 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,028 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,028 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:45,028 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,028 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,028 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,031 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,031 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,031 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,031 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,031 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:45,031 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,031 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,032 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,033 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:45,033 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,033 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,034 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,034 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:45,034 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,034 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,034 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,037 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,037 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,037 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,037 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,038 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:45,038 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,038 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,038 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,039 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:45,039 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,039 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,039 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,040 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:45,040 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,040 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,040 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,042 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,042 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,043 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,062 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,063 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:45,063 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,063 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,063 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,066 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,066 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,066 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,066 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,066 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:45,066 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,066 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,066 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,067 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:45,067 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,068 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,068 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,069 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:45,069 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,069 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,069 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,071 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,071 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,071 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,072 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,072 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:45,072 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,072 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,072 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,073 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:45,073 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,073 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,074 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,074 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:45,074 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,074 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,074 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,077 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,077 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,077 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,088 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,088 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:45,089 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,089 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,089 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,091 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,091 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,091 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,091 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,092 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:45,092 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,092 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,092 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,093 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:45,093 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,093 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,093 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,094 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:45,094 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,094 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,094 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,096 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:45,096 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,096 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,097 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,097 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:45,097 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,097 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,097 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,098 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:45,098 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,098 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,099 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,099 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:45,099 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,099 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,099 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,102 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,102 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,102 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,114 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,115 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:45,115 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,115 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,115 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,117 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,117 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,118 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,118 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,118 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:45,118 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,118 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,118 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,119 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:45,119 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,119 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,120 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,120 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:45,120 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,120 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,120 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,123 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,123 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,123 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,123 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,124 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:45,124 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,124 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,124 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,125 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:45,125 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,125 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,125 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,125 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:45,125 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,126 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,126 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,128 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,128 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,128 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,147 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,150 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:45,150 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,151 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,151 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,153 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,153 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,153 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,153 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,153 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:45,153 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,153 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,153 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,155 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:45,155 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,155 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,156 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,156 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:45,156 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,156 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,156 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,159 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,159 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,159 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,159 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,160 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:45,160 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,160 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,160 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,161 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:45,161 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,161 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,161 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,161 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:45,161 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,161 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,161 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,164 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,164 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,164 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,201 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,201 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:45,201 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,201 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,201 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,204 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,204 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,204 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,204 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,204 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:45,204 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,204 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,204 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,205 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:45,205 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,206 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,206 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,206 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:45,207 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,207 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,207 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,209 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,209 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,209 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,210 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,210 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:45,210 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,210 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,210 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,211 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:45,211 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,211 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,212 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,212 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:45,212 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,212 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,212 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,214 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,214 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,214 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,229 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,229 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:45,229 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,229 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,229 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,232 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,232 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,232 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,232 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,232 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:45,232 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,232 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,232 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,233 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:45,233 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,233 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,234 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,234 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:45,234 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,234 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,234 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,237 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,237 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,237 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,238 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,238 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:45,238 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,238 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,239 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,240 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:45,240 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,240 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,240 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,241 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:45,241 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,241 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,241 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,243 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,243 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,243 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,254 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,255 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:45,255 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,255 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,255 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,257 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,257 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,257 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,257 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,257 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:45,257 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,257 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,258 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,259 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:45,259 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,259 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,259 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,260 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:45,260 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,260 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,260 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,263 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2017-11-29 17:10:45,263 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,263 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,264 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,264 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:45,264 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,264 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,264 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,265 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:45,265 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,266 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,266 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,266 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:45,266 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,266 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,266 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,269 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,269 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,269 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,286 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,286 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:45,286 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,286 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,287 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,289 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,289 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,289 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,290 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,290 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:45,290 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,290 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,290 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,291 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:45,291 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,291 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,292 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,292 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:45,292 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,292 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,292 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,295 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2017-11-29 17:10:45,295 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,295 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,296 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,296 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:45,296 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,296 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,296 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,297 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:45,298 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,298 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,298 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,298 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:45,298 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,298 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,298 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,302 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2017-11-29 17:10:45,302 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,302 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,318 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,319 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:45,319 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,319 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,319 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,346 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 26 ms with result: SqlDataReader

2017-11-29 17:10:45,346 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,346 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,346 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,346 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:45,346 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,346 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,346 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,348 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:45,348 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,348 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,349 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,349 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:45,349 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,349 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,349 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,352 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,352 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,352 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,352 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,353 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:45,353 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,353 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,353 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,357 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 4 ms with result: SqlDataReader

2017-11-29 17:10:45,358 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,358 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,358 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,358 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:45,358 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,358 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,358 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,361 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,361 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,361 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,379 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,380 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:45,380 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,380 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,380 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,383 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,383 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,383 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,383 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,383 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:45,383 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,383 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,383 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,385 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:45,385 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,385 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,386 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,386 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:45,386 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,386 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,386 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,388 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,388 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,389 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,389 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,389 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:45,389 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,389 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,389 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,390 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:45,390 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,390 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,391 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,391 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:45,391 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,391 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,391 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,394 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,394 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,394 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,408 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,409 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:45,409 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,409 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,409 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,411 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,411 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,412 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,412 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,412 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:45,412 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,412 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,412 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,413 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:45,413 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,413 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,414 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,414 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:45,414 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,414 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,414 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,417 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,417 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,417 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,418 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,418 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:45,418 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,418 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,418 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,419 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:45,419 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,419 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,419 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,420 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:45,420 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,420 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,420 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,422 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,422 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,423 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,449 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,449 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:45,449 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,450 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,450 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,452 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,452 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,452 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,452 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,453 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:45,453 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,453 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,453 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,454 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:45,454 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,454 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,455 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,455 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:45,455 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,455 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,455 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,458 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,458 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,458 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,458 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,459 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:45,459 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,459 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,459 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,460 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:45,460 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,460 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,460 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,461 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:45,461 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,461 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,461 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,463 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,463 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,463 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,494 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,494 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:45,494 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,494 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,494 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,497 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,497 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,497 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,497 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,497 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:45,497 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,497 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,497 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,498 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:45,498 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,498 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,499 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,500 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:45,500 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,500 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,500 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,502 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,502 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,503 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,503 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,503 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:45,503 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,503 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,503 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,504 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:45,505 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,505 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,505 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,505 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:45,506 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,506 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,506 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,508 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,508 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,508 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,582 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,582 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:45,582 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,582 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,583 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,611 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 28 ms with result: SqlDataReader

2017-11-29 17:10:45,611 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,611 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,612 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,612 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:45,612 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,612 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,612 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,613 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:45,613 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,613 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,614 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,614 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:45,614 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,614 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,614 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,617 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,617 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,617 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,617 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,618 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:45,618 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,618 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,618 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,619 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:45,619 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,619 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,619 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,620 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:45,620 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,620 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,620 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,622 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,622 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,622 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,685 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,686 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:45,686 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,686 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,686 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,688 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,688 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,689 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,689 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,689 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:45,689 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,689 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,689 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,690 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:45,690 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,690 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,691 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,691 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:45,691 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,691 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,691 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,694 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,694 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,694 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,694 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,696 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:45,696 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,696 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,696 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,697 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:45,697 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,697 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,697 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,698 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:45,698 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,698 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,698 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,700 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,700 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,701 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,753 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,754 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:45,754 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,754 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,754 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,756 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,756 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,757 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,757 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,757 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:45,757 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,757 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,757 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,758 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:45,758 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,758 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,759 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,759 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:45,759 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,759 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,759 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,762 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,762 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,762 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,763 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,763 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:45,763 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,763 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,763 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,764 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:45,764 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,764 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,765 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,765 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:45,765 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,765 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,766 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,768 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,769 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,769 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,810 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,810 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:45,810 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,810 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,810 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,813 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,813 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,813 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,813 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,813 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:45,813 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,813 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,813 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,814 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:45,815 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,815 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,815 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,816 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:45,816 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,816 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,816 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,818 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,818 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,819 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,819 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,819 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:45,820 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,820 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,820 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,821 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:45,821 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,821 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,821 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,822 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:45,822 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,822 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,822 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,825 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,825 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,825 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,838 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,838 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:45,838 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,838 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,839 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,842 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,842 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,842 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,842 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,843 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:45,843 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,843 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,843 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,844 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:45,844 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,844 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,845 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,845 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:45,845 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,845 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,845 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,847 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,847 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,848 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,848 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,848 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:45,848 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,848 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,848 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,850 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:45,850 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,850 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,850 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,851 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:45,851 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,851 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,851 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,853 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,853 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,853 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,865 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,870 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:45,870 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,870 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,870 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,873 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,873 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,873 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,873 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,873 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:45,873 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,873 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,873 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,875 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:45,875 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,875 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,876 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,876 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:45,876 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,876 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,876 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,879 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,879 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,879 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,879 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,880 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:45,880 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,880 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,880 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,881 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:45,881 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,881 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,881 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,882 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:45,882 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,882 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,882 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,884 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,884 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,884 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,921 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,921 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:45,921 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,921 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,921 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,924 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,924 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,924 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,924 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,924 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:45,924 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,924 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,924 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,925 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:45,925 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,925 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,926 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,926 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:45,926 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,926 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,926 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,929 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,929 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,929 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,930 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,930 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:45,930 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,930 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,930 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,931 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:45,931 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,931 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,931 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,932 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:45,932 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,932 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,932 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,934 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,935 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,935 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,950 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,951 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:45,951 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,951 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,951 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,953 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,953 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,954 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,954 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,954 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:45,954 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,954 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,954 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,956 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:45,956 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,956 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,956 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,957 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:45,957 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,957 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,957 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,959 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,959 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,960 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,960 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,960 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:45,960 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,960 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,960 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,961 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:45,961 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,962 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,962 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,962 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:45,962 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,962 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,962 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,965 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,965 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,965 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,988 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,989 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:45,989 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,989 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,989 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,991 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,991 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,992 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,992 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,992 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:45,992 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,992 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,992 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,993 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:45,993 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,993 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,994 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,994 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:45,994 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,994 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,994 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,997 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:45,997 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,997 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,997 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,998 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:45,998 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,998 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:45,998 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,999 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:45,999 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:45,999 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:45,999 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:45 +08:00

2017-11-29 17:10:46,000 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:46,000 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,000 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,000 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,002 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,002 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,002 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,028 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,028 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:46,028 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,028 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,028 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,031 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,031 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,031 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,031 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,031 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:46,031 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,031 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,031 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,032 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:46,033 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,033 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,034 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,034 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:46,034 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,034 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,034 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,037 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,037 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,037 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,037 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,038 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:46,038 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,038 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,038 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,039 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:46,039 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,039 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,039 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,040 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:46,040 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,040 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,040 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,047 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,047 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,047 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,055 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,056 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:46,056 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,056 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,056 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,058 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,058 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,058 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,059 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,059 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:46,059 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,059 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,059 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,060 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:46,060 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,060 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,060 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,061 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:46,061 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,061 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,061 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,063 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,063 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,064 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,064 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,064 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:46,064 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,064 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,064 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,065 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:46,065 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,066 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,066 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,066 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:46,066 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,066 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,066 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,069 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,069 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,069 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,087 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,087 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:46,087 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,087 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,087 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,090 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,090 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,090 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,090 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,090 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:46,090 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,090 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,090 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,091 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:46,091 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,092 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,092 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,092 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:46,092 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,093 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,093 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,095 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,095 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,095 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,096 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,096 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:46,096 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,096 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,096 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,097 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:46,097 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,097 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,097 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,098 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:46,098 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,098 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,098 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,100 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,100 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,100 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,112 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,112 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:46,112 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,112 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,112 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,115 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,115 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,115 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,115 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,115 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:46,115 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,115 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,115 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,116 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:46,116 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,116 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,117 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,117 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:46,118 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,118 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,118 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,120 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,120 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,120 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,121 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,121 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:46,121 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,121 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,121 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,122 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:46,122 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,122 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,122 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,123 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:46,123 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,123 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,123 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,125 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,125 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,126 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,146 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,147 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:46,147 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,147 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,147 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,149 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,149 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,150 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,150 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,150 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:46,150 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,150 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,150 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,152 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:46,152 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,152 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,153 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,153 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:46,153 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,153 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,153 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,156 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,156 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,156 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,157 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,157 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:46,157 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,157 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,157 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,158 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:46,158 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,158 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,159 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,159 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:46,159 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,159 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,159 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,162 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,162 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,162 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,180 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,180 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:46,180 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,180 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,180 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,191 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 10 ms with result: SqlDataReader

2017-11-29 17:10:46,191 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,191 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,191 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,192 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:46,192 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,192 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,192 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,193 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:46,193 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,193 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,194 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,194 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:46,195 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,195 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,195 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,197 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,197 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,197 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,197 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,198 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:46,198 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,198 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,198 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,200 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,200 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,200 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,201 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,201 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:46,201 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,201 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,201 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,204 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,204 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,204 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,231 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,231 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:46,231 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,231 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,231 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,234 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,234 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,234 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,234 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,234 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:46,234 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,234 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,234 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,236 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:46,236 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,236 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,237 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,237 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:46,237 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,237 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,237 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,240 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,240 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,240 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,240 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,241 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:46,241 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,241 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,241 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,242 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:46,242 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,242 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,242 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,243 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:46,243 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,243 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,243 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,245 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,245 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,245 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,274 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,274 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:46,274 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,274 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,274 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,277 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,277 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,277 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,277 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,277 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:46,277 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,277 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,277 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,279 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:46,279 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,279 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,279 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,280 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:46,280 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,280 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,280 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,282 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,282 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,283 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,283 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,283 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:46,283 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,283 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,284 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,285 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:46,285 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,285 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,285 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,285 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:46,285 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,285 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,285 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,288 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,288 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,288 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,327 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,327 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:46,327 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,327 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,327 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,425 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 98 ms with result: SqlDataReader

2017-11-29 17:10:46,425 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,426 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,426 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,426 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:46,426 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,426 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,426 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,428 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,428 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,428 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,429 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,429 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:46,429 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,429 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,429 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,432 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,432 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,432 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,432 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,433 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:46,433 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,433 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,433 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,434 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:46,434 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,434 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,434 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,434 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:46,434 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,434 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,434 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,437 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,437 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,437 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,444 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,444 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:46,444 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,444 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,444 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,447 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,447 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,447 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,447 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,447 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:46,447 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,447 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,447 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,448 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:46,448 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,448 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,449 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,449 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:46,449 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,449 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,449 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,452 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,452 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,452 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,453 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,454 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:46,454 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,454 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,454 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,455 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:46,455 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,455 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,455 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,455 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:46,456 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,456 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,456 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,458 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,458 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,458 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,482 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,484 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:46,484 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,484 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,484 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,487 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,487 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,487 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,487 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,488 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:46,488 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,488 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,488 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,489 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:46,489 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,489 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,490 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,490 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:46,490 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,490 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,490 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,492 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,492 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,493 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,493 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,493 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:46,493 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,493 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,493 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,495 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:46,495 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,495 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,495 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,495 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:46,495 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,495 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,495 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,498 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,498 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,498 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,520 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,520 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:46,520 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,520 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,520 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,523 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,523 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,523 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,523 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,523 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:46,523 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,523 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,523 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,524 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:46,524 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,525 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,525 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,525 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:46,525 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,525 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,525 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,528 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,528 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,528 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,529 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,529 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:46,529 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,529 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,529 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,530 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:46,530 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,530 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,531 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,531 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:46,531 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,531 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,531 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,534 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,534 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,534 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,543 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,543 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:46,543 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,543 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,544 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,546 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,547 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,547 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,547 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,547 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:46,547 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,547 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,547 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,549 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:46,549 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,549 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,550 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,550 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:46,550 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,550 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,550 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,552 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,552 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,553 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,553 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,553 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:46,553 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,553 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,553 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,554 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:46,554 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,555 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,555 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,555 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:46,555 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,555 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,555 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,558 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,558 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,558 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,589 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,590 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:46,590 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,590 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,590 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,592 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,592 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,592 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,592 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,593 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:46,593 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,593 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,593 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,594 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:46,594 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,594 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,594 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,595 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:46,595 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,595 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,595 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,597 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,597 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,598 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,598 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,598 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:46,598 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,598 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,599 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,600 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:46,600 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,600 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,600 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,601 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:46,601 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,601 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,601 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,603 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,603 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,603 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,627 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,628 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:46,628 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,628 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,628 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,630 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,630 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,631 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,631 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,631 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:46,631 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,631 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,631 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,632 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:46,632 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,632 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,633 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,633 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:46,633 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,633 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,633 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,636 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,636 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,636 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,636 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,637 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:46,637 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,637 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,637 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,638 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:46,638 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,638 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,638 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,638 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:46,639 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,639 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,639 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,641 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,641 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,641 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,656 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,657 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:46,657 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,657 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,657 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,659 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,659 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,659 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,660 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,660 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:46,660 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,660 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,660 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,661 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:46,661 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,662 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,662 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,662 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:46,662 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,662 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,663 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,665 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,665 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,665 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,666 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,666 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:46,666 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,666 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,666 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,668 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:46,668 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,668 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,668 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,669 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:46,669 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,669 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,669 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,671 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,671 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,671 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,716 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,716 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:46,716 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,716 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,716 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,718 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,718 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,719 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,719 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,719 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:46,719 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,719 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,719 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,720 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:46,720 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,720 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,721 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,722 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:46,722 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,722 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,722 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,724 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,724 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,725 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,725 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,725 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:46,725 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,725 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,725 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,726 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:46,727 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,727 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,727 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,727 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:46,727 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,727 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,728 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,730 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,730 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,730 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,743 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,743 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:46,743 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,743 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,744 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,746 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,746 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,746 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,746 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,746 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:46,746 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,746 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,746 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,748 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:46,748 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,748 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,748 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,749 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:46,749 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,749 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,749 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,751 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,751 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,751 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,752 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,752 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:46,752 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,752 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,752 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,753 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:46,753 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,753 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,753 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,755 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:46,755 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,755 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,755 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,757 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,757 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,757 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,782 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,783 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:46,783 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,783 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,783 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,785 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,785 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,786 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,786 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,786 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:46,786 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,786 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,786 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,787 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:46,787 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,787 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,788 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,788 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:46,788 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,789 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,789 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,791 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,791 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,791 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,792 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,792 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:46,792 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,792 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,792 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,793 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:46,793 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,793 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,794 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,794 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:46,794 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,794 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,794 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,797 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,797 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,797 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,813 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,813 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:46,813 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,813 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,813 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,815 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,815 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,816 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,816 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,816 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:46,816 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,816 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,816 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,817 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:46,817 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,817 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,818 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,818 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:46,818 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,818 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,818 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,820 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,821 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,821 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,821 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,822 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:46,822 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,822 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,822 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,823 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:46,823 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,823 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,823 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,823 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:46,823 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,823 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,824 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,826 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,826 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,826 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,878 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,878 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:46,879 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,879 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,879 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,881 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,881 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,881 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,881 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,882 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:46,882 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,882 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,882 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,883 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:46,883 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,883 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,884 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,884 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:46,884 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,884 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,884 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,886 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,887 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,887 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,887 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,888 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:46,888 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,888 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,888 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,889 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:46,889 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,889 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,889 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,889 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:46,889 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,889 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,889 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,892 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,892 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,892 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,939 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,940 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:46,940 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,940 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,940 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,942 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,942 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,943 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,943 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,943 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:46,943 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,943 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,943 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,944 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:46,944 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,944 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,945 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,945 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:46,945 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,945 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,945 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,948 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,948 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,948 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,948 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,949 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:46,949 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,949 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,949 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,950 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:46,950 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,950 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,950 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,951 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:46,951 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,951 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:46,951 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:46,953 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:46,954 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:46,954 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:46 +08:00

2017-11-29 17:10:47,006 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,006 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:47,006 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,006 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,006 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,009 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,009 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,009 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,009 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,009 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:47,009 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,009 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,009 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,010 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:47,011 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,011 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,011 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,012 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:47,012 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,012 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,012 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,014 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,014 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,014 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,015 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,015 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:47,015 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,015 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,015 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,016 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:47,017 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,017 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,017 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,017 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:47,017 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,017 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,018 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,020 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,020 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,020 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,056 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,056 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:47,056 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,056 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,056 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,059 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,059 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,059 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,059 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,059 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:47,059 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,059 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,059 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,060 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:47,060 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,061 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,061 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,061 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:47,061 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,061 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,061 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,064 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,064 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,064 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,065 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,065 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:47,065 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,065 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,065 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,066 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:47,066 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,066 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,067 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,067 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:47,067 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,067 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,067 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,070 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,070 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,070 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,092 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,092 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:47,092 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,092 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,092 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,095 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,095 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,095 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,095 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,095 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:47,095 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,095 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,095 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,096 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:47,096 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,096 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,097 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,097 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:47,097 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,097 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,097 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,100 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,100 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,100 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,101 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,101 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:47,101 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,101 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,101 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,102 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:47,102 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,102 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,102 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,103 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:47,103 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,103 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,103 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,105 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,105 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,105 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,119 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,120 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:47,120 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,120 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,120 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,123 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,123 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,123 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,123 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,123 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:47,123 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,123 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,123 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,124 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:47,124 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,124 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,125 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,125 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:47,125 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,125 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,125 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,128 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,128 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,128 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,128 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,129 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:47,129 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,129 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,129 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,130 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:47,130 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,130 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,130 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,131 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:47,131 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,131 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,131 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,133 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,133 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,133 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,159 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,160 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:47,160 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,160 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,160 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,163 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,163 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,163 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,163 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,163 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:47,163 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,163 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,163 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,164 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:47,164 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,164 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,165 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,166 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:47,166 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,166 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,166 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,168 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,168 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,169 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,169 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,169 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:47,169 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,169 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,169 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,170 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:47,170 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,170 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,171 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,174 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:47,174 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,174 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,174 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,177 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,177 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,177 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,200 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,201 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:47,201 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,201 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,201 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,203 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,203 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,203 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,203 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,204 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:47,204 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,204 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,204 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,205 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:47,205 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,205 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,206 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,206 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:47,206 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,206 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,206 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,208 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,208 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,209 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,209 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,209 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:47,210 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,210 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,210 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,210 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:47,210 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,211 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,211 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,211 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:47,211 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,211 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,211 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,215 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2017-11-29 17:10:47,215 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,215 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,236 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,236 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:47,236 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,236 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,236 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,239 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,239 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,239 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,239 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,239 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:47,239 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,239 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,239 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,240 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:47,240 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,241 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,241 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,242 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:47,242 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,242 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,242 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,244 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,244 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,244 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,245 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,245 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:47,245 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,245 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,245 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,246 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:47,246 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,246 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,247 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,247 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:47,247 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,247 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,247 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,249 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,250 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,250 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,264 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,266 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:47,266 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,266 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,266 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,269 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,269 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,269 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,269 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,269 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:47,269 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,269 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,269 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,270 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:47,270 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,270 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,271 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,271 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:47,271 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,271 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,271 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,274 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,274 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,274 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,275 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,275 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:47,275 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,275 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,275 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,276 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:47,276 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,276 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,277 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,277 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:47,277 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,277 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,277 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,280 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,280 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,280 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,297 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,297 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:47,297 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,297 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,297 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,300 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,300 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,300 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,300 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,300 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:47,300 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,300 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,300 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,301 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:47,301 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,302 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,302 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,303 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:47,303 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,303 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,303 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,305 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,305 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,306 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,306 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,306 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:47,306 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,306 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,306 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,307 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:47,308 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,308 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,308 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,308 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:47,308 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,308 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,309 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,311 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,311 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,311 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,324 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,324 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:47,324 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,324 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,324 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,327 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,327 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,327 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,327 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,327 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:47,327 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,327 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,327 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,329 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:47,329 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,329 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,329 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,330 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:47,330 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,330 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,330 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,332 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,332 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,332 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,333 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,333 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:47,333 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,333 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,333 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,334 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:47,334 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,335 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,335 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,335 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:47,335 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,335 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,335 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,338 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,338 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,338 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,358 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,359 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:47,359 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,359 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,359 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,361 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,361 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,362 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,362 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,362 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:47,362 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,362 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,362 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,363 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:47,363 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,363 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,364 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,364 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:47,364 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,364 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,364 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,366 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,366 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,367 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,367 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,367 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:47,367 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,368 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,368 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,369 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:47,369 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,369 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,369 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,369 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:47,370 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,370 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,370 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,372 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,372 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,372 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,386 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,387 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:47,387 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,387 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,387 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,389 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,389 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,390 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,390 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,390 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:47,390 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,390 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,390 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,391 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:47,391 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,391 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,392 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,392 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:47,392 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,392 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,392 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,394 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,395 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,395 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,395 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,395 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:47,396 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,396 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,396 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,397 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:47,397 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,397 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,397 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,397 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:47,397 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,397 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,397 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,400 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,400 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,400 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,420 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,421 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:47,421 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,421 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,421 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,424 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,424 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,424 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,424 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,424 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:47,424 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,424 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,424 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,427 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2017-11-29 17:10:47,427 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,427 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,428 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,428 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:47,428 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,428 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,428 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,431 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,431 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,431 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,432 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,432 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:47,432 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,432 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,432 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,433 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:47,433 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,434 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,434 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,434 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:47,434 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,434 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,434 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,437 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,437 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,437 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,455 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,455 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:47,455 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,455 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,455 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,458 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,458 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,458 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,458 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,458 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:47,458 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,458 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,458 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,461 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,461 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,461 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,461 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,462 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:47,462 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,462 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,462 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,465 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,465 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,465 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,465 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,466 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:47,466 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,466 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,466 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,467 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:47,467 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,467 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,467 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,468 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:47,468 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,468 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,468 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,470 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,470 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,470 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,491 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,491 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:47,491 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,491 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,491 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,494 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,494 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,494 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,494 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,494 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:47,494 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,494 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,494 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,496 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:47,496 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,496 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,497 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,497 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:47,497 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,497 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,497 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,499 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,500 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,500 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,500 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,501 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:47,501 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,501 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,501 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,502 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:47,502 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,502 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,502 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,502 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:47,502 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,503 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,503 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,505 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,505 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,505 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,525 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,526 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:47,526 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,526 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,526 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,528 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,528 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,528 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,529 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,529 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:47,529 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,529 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,529 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,530 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:47,530 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,530 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,531 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,531 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:47,531 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,532 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,532 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,534 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,534 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,534 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,534 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,535 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:47,535 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,535 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,535 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,537 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:47,537 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,537 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,537 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,537 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:47,537 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,537 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,537 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,540 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,540 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,541 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,591 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,591 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:47,591 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,591 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,591 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,594 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,594 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,594 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,594 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,594 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:47,594 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,594 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,594 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,596 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:47,596 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,596 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,597 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,597 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:47,597 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,597 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,597 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,600 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,600 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,600 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,600 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,601 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:47,601 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,601 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,601 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,602 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:47,603 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,603 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,603 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,603 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:47,603 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,603 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,603 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,606 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,606 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,606 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,628 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,628 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:47,629 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,629 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,629 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,631 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,631 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,631 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,631 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,631 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:47,631 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,631 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,631 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,633 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:47,633 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,633 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,634 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,634 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:47,634 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,634 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,634 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,637 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,637 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,637 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,637 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,638 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:47,638 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,638 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,638 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,640 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:47,640 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,640 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,640 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,640 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:47,640 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,640 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,640 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,643 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,643 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,644 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,670 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,670 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:47,670 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,670 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,670 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,673 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,673 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,673 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,673 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,673 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:47,673 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,674 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,674 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,675 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:47,675 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,676 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,676 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,676 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:47,676 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,677 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,677 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,679 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,679 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,679 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,680 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,680 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:47,680 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,680 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,680 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,681 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:47,681 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,682 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,682 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,682 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:47,683 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,683 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,683 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,685 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,686 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,686 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,709 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,709 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:47,709 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,709 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,709 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,712 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,712 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,712 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,712 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,712 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:47,712 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,712 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,712 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,713 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:47,713 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,714 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,714 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,714 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:47,714 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,714 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,714 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,717 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,717 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,717 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,718 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,718 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:47,718 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,718 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,718 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,720 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:47,720 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,720 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,720 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,720 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:47,720 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,720 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,720 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,723 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,723 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,723 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,798 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,800 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:47,800 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,800 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,800 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,803 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,803 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,803 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,803 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,803 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:47,804 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,804 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,804 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,805 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:47,805 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,805 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,806 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,806 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:47,806 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,806 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,806 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,809 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,809 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,809 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,809 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,810 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:47,810 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,810 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,810 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,811 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:47,811 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,811 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,812 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,812 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:47,812 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,812 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,812 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,815 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,815 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,815 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,831 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,831 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:47,831 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,831 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,831 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,835 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2017-11-29 17:10:47,835 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,835 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,835 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,835 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:47,835 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,835 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,835 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,837 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:47,837 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,837 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,838 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,838 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:47,838 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,838 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,838 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,840 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:47,840 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,841 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,841 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,841 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:47,841 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,841 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,841 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,843 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:47,843 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,843 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,843 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,844 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:47,844 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,844 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,844 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,847 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,847 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,847 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,868 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,868 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:47,868 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,868 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,868 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,871 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,871 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,871 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,871 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,871 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:47,871 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,871 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,871 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,873 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:47,873 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,873 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,874 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,874 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:47,874 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,874 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,874 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,876 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,876 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,876 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,877 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,877 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:47,877 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,877 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,877 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,882 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 4 ms with result: SqlDataReader

2017-11-29 17:10:47,882 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,882 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,883 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,883 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:47,883 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,883 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,883 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,886 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,886 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,886 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,920 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,920 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:47,920 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,920 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,920 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,922 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,923 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,923 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,923 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,923 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:47,923 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,923 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,923 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,925 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:47,925 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,925 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,926 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,926 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:47,926 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,926 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,926 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,929 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,929 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,929 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,929 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,930 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:47,930 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,930 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,930 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,932 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:47,932 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,932 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,933 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,933 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:47,933 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,933 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,933 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,936 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,936 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,936 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,981 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,983 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:47,983 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,983 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,983 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,985 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,986 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,986 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,986 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,986 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:47,986 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,986 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,986 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,988 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:47,988 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,988 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,988 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,989 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:47,989 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,989 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,989 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,991 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,991 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,991 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,992 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,992 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:47,992 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,992 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,992 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,994 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:47,994 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,994 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,994 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,994 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:47,994 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,995 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:47,995 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:47,997 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:47,997 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:47,998 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:47 +08:00

2017-11-29 17:10:48,011 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,012 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:48,012 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:48,012 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:48,012 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,014 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:48,014 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:48,015 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,015 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,015 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:48,015 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:48,015 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:48,015 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,017 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:48,017 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:48,017 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,017 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,018 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:48,018 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:48,018 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:48,018 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,020 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:48,020 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:48,020 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,021 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,021 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:48,021 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:48,021 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:48,021 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,023 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:48,023 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:48,023 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,023 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,024 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:48,024 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:48,024 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:48,024 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,026 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:48,026 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:48,026 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,041 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,042 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:48,042 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:48,042 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:48,042 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,045 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:48,045 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:48,045 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,045 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,045 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:48,045 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:48,045 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:48,045 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,047 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:48,047 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:48,047 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,048 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,048 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:48,048 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:48,048 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:48,048 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,050 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:48,051 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:48,051 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,051 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,052 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:48,052 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:48,052 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:48,052 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,053 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:48,053 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:48,054 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,054 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,054 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:48,054 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:48,054 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:48,054 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,057 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:48,057 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:48,057 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,087 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,087 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:48,087 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:48,087 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:48,087 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,090 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:48,090 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:48,090 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,090 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,090 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:48,090 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:48,090 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:48,090 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,092 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:48,092 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:48,092 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,093 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,093 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:48,093 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:48,093 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:48,093 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,095 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:48,095 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:48,095 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,096 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,096 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:48,096 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:48,096 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:48,096 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,098 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:48,098 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:48,098 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,098 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,099 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:48,099 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:48,099 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:48,099 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,102 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:48,102 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:48,102 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,150 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,151 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:48,151 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:48,151 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:48,151 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,154 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:48,154 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:48,154 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,154 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,154 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:48,154 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:48,154 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:48,154 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,156 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:48,156 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:48,156 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,156 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,157 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:48,157 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:48,157 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:48,157 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,159 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:48,159 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:48,160 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,160 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,160 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:48,160 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:48,160 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:48,160 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,163 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:48,163 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:48,163 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,163 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,164 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:48,164 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:48,164 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:48,164 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,166 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:48,167 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:48,167 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,236 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,237 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-29 17:10:48,237 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:48,237 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:48,237 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,240 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:48,240 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:48,240 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,240 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,240 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-29 17:10:48,240 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:48,240 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-29 17:10:48,240 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,242 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:48,242 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:48,242 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,243 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,243 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-29 17:10:48,244 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:48,244 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:48,244 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,246 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-29 17:10:48,246 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:48,246 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,246 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,247 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-29 17:10:48,247 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:48,247 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:48,247 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,248 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-29 17:10:48,248 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:48,248 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,248 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,249 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (3) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-29 17:10:48,249 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:48,249 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-29 17:10:48,249 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,251 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-29 17:10:48,251 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-29 17:10:48,251 [26] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,292 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/29 17:10:48 +08:00

2017-11-29 17:10:48,292 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
