2017-11-19 11:27:55,348 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:27:55,360 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'system' (Type = String, Size = 4000)

2017-11-19 11:27:55,360 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:27:55 +08:00

2017-11-19 11:27:55,361 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-19 11:27:55,361 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:27:55,440 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:27:55 +08:00

2017-11-19 11:27:55,445 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:27:55 +08:00

2017-11-19 11:27:55,447 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[T_AdminUsers] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] = @p__linq__0)
    )  AS [GroupBy1]
2017-11-19 11:27:55,447 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:27:55,447 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'system' (Type = String, Size = 4000)

2017-11-19 11:27:55,447 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:27:55 +08:00

2017-11-19 11:27:55,449 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-19 11:27:55,449 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:27:55,452 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:27:55 +08:00

2017-11-19 11:27:55,453 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:27:55 +08:00

2017-11-19 11:27:55,454 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_AdminUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] = @p__linq__0)
2017-11-19 11:27:55,454 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:27:55,454 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'system' (Type = String, Size = 4000)

2017-11-19 11:27:55,454 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:27:55 +08:00

2017-11-19 11:27:55,455 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-19 11:27:55,455 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:27:55,455 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:27:55 +08:00

2017-11-19 11:27:55,618 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:27:55 +08:00

2017-11-19 11:27:55,837 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-19 11:27:55,837 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:27:55,838 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-19 11:27:55,838 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:27:55 +08:00

2017-11-19 11:27:55,841 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-19 11:27:55,841 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:27:55,881 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:27:55 +08:00

2017-11-19 11:27:55,894 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:27:55 +08:00

2017-11-19 11:27:55,952 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-19 11:27:55,952 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:27:55,952 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-19 11:27:55,952 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:27:55 +08:00

2017-11-19 11:27:55,954 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-19 11:27:55,954 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:27:55,957 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:27:55 +08:00

2017-11-19 11:27:55,962 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:27:55 +08:00

2017-11-19 11:27:55,981 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[C1] AS [C1], 
    [Project1].[Id] AS [Id], 
    [Project1].[TestTitle] AS [TestTitle], 
    [Project1].[ExercisesCount] AS [ExercisesCount], 
    [Project1].[CreateDateTime] AS [CreateDateTime], 
    [Project1].[Num] AS [Num]
    FROM ( SELECT 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Num] AS [Num], 
        [Extent1].[TestTitle] AS [TestTitle], 
        [Extent1].[ExercisesCount] AS [ExercisesCount], 
        [Extent1].[CreateDateTime] AS [CreateDateTime], 
        1 AS [C1]
        FROM [dbo].[T_TestPapers] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [Project1]
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-19 11:27:55,982 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:27:55,982 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:27:55 +08:00

2017-11-19 11:27:55,984 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-19 11:27:55,984 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:27:55,984 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:27:55 +08:00

2017-11-19 11:28:03,726 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:28:03 +08:00

2017-11-19 11:28:03,726 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-19 11:28:03,726 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:28:03,726 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-19 11:28:03,726 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:28:03 +08:00

2017-11-19 11:28:03,729 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-19 11:28:03,729 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:28:03,729 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:28:03 +08:00

2017-11-19 11:28:03,730 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:28:03 +08:00

2017-11-19 11:28:03,730 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-19 11:28:03,730 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:28:03,730 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-19 11:28:03,730 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:28:03 +08:00

2017-11-19 11:28:03,731 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-19 11:28:03,731 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:28:03,731 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:28:03 +08:00

2017-11-19 11:28:03,736 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:28:03 +08:00

2017-11-19 11:28:03,798 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[C1] AS [C1], 
    [Project1].[Id] AS [Id], 
    [Project1].[Num] AS [Num], 
    [Project1].[Name] AS [Name], 
    [Project1].[Description] AS [Description], 
    [Project1].[ImgUrl] AS [ImgUrl], 
    [Project1].[StatusId] AS [StatusId], 
    [Project1].[WeChatUrl] AS [WeChatUrl], 
    [Project1].[PaperId] AS [PaperId], 
    [Project1].[PrizeName] AS [PrizeName], 
    [Project1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Project1].[VisitCount] AS [VisitCount], 
    [Project1].[ForwardCount] AS [ForwardCount], 
    [Project1].[AnswerCount] AS [AnswerCount], 
    [Project1].[HavePrizeCount] AS [HavePrizeCount], 
    [Project1].[PrizeCount] AS [PrizeCount], 
    [Project1].[StartTime] AS [StartTime], 
    [Project1].[ExamEndTime] AS [ExamEndTime], 
    [Project1].[RewardTime] AS [RewardTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime], 
    [Project1].[Id1] AS [Id1], 
    [Project1].[TypeName] AS [TypeName], 
    [Project1].[Name1] AS [Name1], 
    [Project1].[ImgUrl1] AS [ImgUrl1], 
    [Project1].[IsDeleted1] AS [IsDeleted1], 
    [Project1].[CreateDateTime1] AS [CreateDateTime1], 
    [Project1].[Id2] AS [Id2], 
    [Project1].[Num1] AS [Num1], 
    [Project1].[TestTitle] AS [TestTitle], 
    [Project1].[ExercisesCount] AS [ExercisesCount], 
    [Project1].[IsDeleted2] AS [IsDeleted2], 
    [Project1].[CreateDateTime2] AS [CreateDateTime2]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Num] AS [Num], [Project1].[Name] AS [Name], [Project1].[Description] AS [Description], [Project1].[ImgUrl] AS [ImgUrl], [Project1].[StatusId] AS [StatusId], [Project1].[WeChatUrl] AS [WeChatUrl], [Project1].[PaperId] AS [PaperId], [Project1].[PrizeName] AS [PrizeName], [Project1].[PrizeImgUrl] AS [PrizeImgUrl], [Project1].[VisitCount] AS [VisitCount], [Project1].[ForwardCount] AS [ForwardCount], [Project1].[AnswerCount] AS [AnswerCount], [Project1].[HavePrizeCount] AS [HavePrizeCount], [Project1].[PrizeCount] AS [PrizeCount], [Project1].[StartTime] AS [StartTime], [Project1].[ExamEndTime] AS [ExamEndTime], [Project1].[RewardTime] AS [RewardTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], [Project1].[Id1] AS [Id1], [Project1].[TypeName] AS [TypeName], [Project1].[Name1] AS [Name1], [Project1].[ImgUrl1] AS [ImgUrl1], [Project1].[IsDeleted1] AS [IsDeleted1], [Project1].[CreateDateTime1] AS [CreateDateTime1], [Project1].[Id2] AS [Id2], [Project1].[Num1] AS [Num1], [Project1].[TestTitle] AS [TestTitle], [Project1].[ExercisesCount] AS [ExercisesCount], [Project1].[IsDeleted2] AS [IsDeleted2], [Project1].[CreateDateTime2] AS [CreateDateTime2], [Project1].[C1] AS [C1], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Num] AS [Num], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[ImgUrl] AS [ImgUrl], 
            [Extent1].[StatusId] AS [StatusId], 
            [Extent1].[WeChatUrl] AS [WeChatUrl], 
            [Extent1].[PaperId] AS [PaperId], 
            [Extent1].[PrizeName] AS [PrizeName], 
            [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
            [Extent1].[VisitCount] AS [VisitCount], 
            [Extent1].[ForwardCount] AS [ForwardCount], 
            [Extent1].[AnswerCount] AS [AnswerCount], 
            [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
            [Extent1].[PrizeCount] AS [PrizeCount], 
            [Extent1].[StartTime] AS [StartTime], 
            [Extent1].[ExamEndTime] AS [ExamEndTime], 
            [Extent1].[RewardTime] AS [RewardTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime], 
            [Extent2].[Id] AS [Id1], 
            [Extent2].[TypeName] AS [TypeName], 
            [Extent2].[Name] AS [Name1], 
            [Extent2].[ImgUrl] AS [ImgUrl1], 
            [Extent2].[IsDeleted] AS [IsDeleted1], 
            [Extent2].[CreateDateTime] AS [CreateDateTime1], 
            [Extent3].[Id] AS [Id2], 
            [Extent3].[Num] AS [Num1], 
            [Extent3].[TestTitle] AS [TestTitle], 
            [Extent3].[ExercisesCount] AS [ExercisesCount], 
            [Extent3].[IsDeleted] AS [IsDeleted2], 
            [Extent3].[CreateDateTime] AS [CreateDateTime2], 
            1 AS [C1]
            FROM   [dbo].[T_Activities] AS [Extent1]
            INNER JOIN [dbo].[T_IdNames] AS [Extent2] ON [Extent1].[StatusId] = [Extent2].[Id]
            INNER JOIN [dbo].[T_TestPapers] AS [Extent3] ON [Extent1].[PaperId] = [Extent3].[Id]
            WHERE 0 = [Extent1].[IsDeleted]
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-19 11:28:03,798 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:28:03,798 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:28:03 +08:00

2017-11-19 11:28:03,802 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2017-11-19 11:28:03,802 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:28:03,836 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:28:03 +08:00

2017-11-19 11:28:03,848 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:28:03 +08:00

2017-11-19 11:28:03,857 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Activities] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [GroupBy1]
2017-11-19 11:28:03,857 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:28:03,857 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:28:03 +08:00

2017-11-19 11:28:03,858 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-19 11:28:03,858 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:28:03,862 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:28:03 +08:00

2017-11-19 11:28:05,918 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:28:05 +08:00

2017-11-19 11:28:05,918 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-19 11:28:05,919 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:28:05,919 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-19 11:28:05,919 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:28:05 +08:00

2017-11-19 11:28:05,923 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2017-11-19 11:28:05,923 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:28:05,923 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:28:05 +08:00

2017-11-19 11:28:05,923 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:28:05 +08:00

2017-11-19 11:28:05,923 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-19 11:28:05,923 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:28:05,923 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-19 11:28:05,923 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:28:05 +08:00

2017-11-19 11:28:05,925 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-19 11:28:05,925 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:28:05,925 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:28:05 +08:00

2017-11-19 11:28:05,928 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:28:05 +08:00

2017-11-19 11:28:05,944 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-19 11:28:05,944 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:28:05,944 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '11' (Type = Int64, IsNullable = false)

2017-11-19 11:28:05,944 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:28:05 +08:00

2017-11-19 11:28:05,947 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-19 11:28:05,947 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:28:05,947 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:28:05 +08:00

2017-11-19 11:28:05,953 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:28:05 +08:00

2017-11-19 11:28:05,956 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：select u.Id,u.Name,u.NickName,u.PhotoUrl,u.Mobile,u.Gender,u.Address,u.PasswordHash,u.PasswordSalt,u.LoginErrorTimes,u.LastLoginErrorDateTime,u.PassCount,u.WinCount,u.IsWon,u.IsDeleted,u.ChangeTime,u.CreateDateTime from T_Users as u, (select UserId from T_UserActivities where ActivityId=@id) as a where a.UserId=u.Id and u.IsWon=1 and u.IsDeleted=0
2017-11-19 11:28:05,956 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:28:05,956 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @id: '11' (Type = Int64, IsNullable = false)

2017-11-19 11:28:05,956 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:28:05 +08:00

2017-11-19 11:28:05,958 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-19 11:28:05,958 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:28:05,973 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:28:05 +08:00

2017-11-19 11:32:22,899 [14] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:32:22 +08:00

2017-11-19 11:32:22,910 [14] DEBUG Chat.Service.MyDbContext - EF执行SQL：
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.T_Activities','dbo.T_TestPapers','dbo.T_IdNames','dbo.T_Users','dbo.T_ActivityImgs','dbo.T_AdminLogs','dbo.T_AdminUsers','dbo.T_Roles','dbo.T_Permissions','dbo.T_Cities','dbo.T_Exercises','dbo.T_Settings','dbo.T_UserActivities','dbo.T_RolePermissions','dbo.T_AdminUserRoles')
    OR t.TABLE_NAME = 'EdmMetadata'
2017-11-19 11:32:22,910 [14] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:32:22,910 [14] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:32:22 +08:00

2017-11-19 11:32:22,912 [14] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: 15

2017-11-19 11:32:22,912 [14] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:32:22,913 [14] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:32:22 +08:00

2017-11-19 11:32:23,004 [14] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:32:23 +08:00

2017-11-19 11:32:23,856 [14] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2017-11-19 11:32:23,856 [14] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:32:23,858 [14] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'Chat.Service.MyDbContext' (Type = String, Size = 4000)

2017-11-19 11:32:23,858 [14] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:32:23 +08:00

2017-11-19 11:32:23,861 [14] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Failed in 2 ms with error: 对象名 'dbo.__MigrationHistory' 无效。

2017-11-19 11:32:23,861 [14] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:32:23,862 [14] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:32:23 +08:00

2017-11-19 11:32:23,863 [14] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:32:23 +08:00

2017-11-19 11:32:23,864 [14] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
    )  AS [GroupBy1]
2017-11-19 11:32:23,864 [14] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:32:23,864 [14] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:32:23 +08:00

2017-11-19 11:32:23,866 [14] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Failed in 1 ms with error: 对象名 'dbo.__MigrationHistory' 无效。

2017-11-19 11:32:23,866 [14] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:32:23,866 [14] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:32:23 +08:00

2017-11-19 11:32:23,960 [14] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:32:23 +08:00

2017-11-19 11:32:24,086 [14] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_AdminUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] = @p__linq__0)
2017-11-19 11:32:24,086 [14] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:32:24,086 [14] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'system' (Type = String, Size = 4000)

2017-11-19 11:32:24,086 [14] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:32:24 +08:00

2017-11-19 11:32:24,087 [14] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-19 11:32:24,087 [14] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:32:24,146 [14] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:32:24 +08:00

2017-11-19 11:32:24,151 [14] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:32:24 +08:00

2017-11-19 11:32:24,153 [14] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[T_AdminUsers] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] = @p__linq__0)
    )  AS [GroupBy1]
2017-11-19 11:32:24,153 [14] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:32:24,153 [14] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'system' (Type = String, Size = 4000)

2017-11-19 11:32:24,153 [14] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:32:24 +08:00

2017-11-19 11:32:24,154 [14] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-19 11:32:24,154 [14] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:32:24,158 [14] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:32:24 +08:00

2017-11-19 11:32:24,158 [14] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:32:24 +08:00

2017-11-19 11:32:24,159 [14] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_AdminUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] = @p__linq__0)
2017-11-19 11:32:24,159 [14] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:32:24,159 [14] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'system' (Type = String, Size = 4000)

2017-11-19 11:32:24,159 [14] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:32:24 +08:00

2017-11-19 11:32:24,161 [14] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-19 11:32:24,161 [14] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:32:24,161 [14] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:32:24 +08:00

2017-11-19 11:32:24,306 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:32:24 +08:00

2017-11-19 11:32:24,494 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-19 11:32:24,494 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:32:24,494 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-19 11:32:24,494 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:32:24 +08:00

2017-11-19 11:32:24,497 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-19 11:32:24,497 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:32:24,536 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:32:24 +08:00

2017-11-19 11:32:24,548 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:32:24 +08:00

2017-11-19 11:32:24,605 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-19 11:32:24,605 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:32:24,605 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-19 11:32:24,605 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:32:24 +08:00

2017-11-19 11:32:24,606 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-19 11:32:24,606 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:32:24,609 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:32:24 +08:00

2017-11-19 11:32:24,614 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:32:24 +08:00

2017-11-19 11:32:24,633 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[C1] AS [C1], 
    [Project1].[Id] AS [Id], 
    [Project1].[TestTitle] AS [TestTitle], 
    [Project1].[ExercisesCount] AS [ExercisesCount], 
    [Project1].[CreateDateTime] AS [CreateDateTime], 
    [Project1].[Num] AS [Num]
    FROM ( SELECT 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Num] AS [Num], 
        [Extent1].[TestTitle] AS [TestTitle], 
        [Extent1].[ExercisesCount] AS [ExercisesCount], 
        [Extent1].[CreateDateTime] AS [CreateDateTime], 
        1 AS [C1]
        FROM [dbo].[T_TestPapers] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [Project1]
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-19 11:32:24,633 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:32:24,634 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:32:24 +08:00

2017-11-19 11:32:24,635 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-19 11:32:24,635 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:32:24,635 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:32:24 +08:00

2017-11-19 11:32:31,117 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:32:31 +08:00

2017-11-19 11:32:31,118 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-19 11:32:31,118 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:32:31,118 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-19 11:32:31,118 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:32:31 +08:00

2017-11-19 11:32:31,121 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-19 11:32:31,121 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:32:31,121 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:32:31 +08:00

2017-11-19 11:32:31,122 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:32:31 +08:00

2017-11-19 11:32:31,122 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-19 11:32:31,122 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:32:31,122 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-19 11:32:31,122 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:32:31 +08:00

2017-11-19 11:32:31,123 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-19 11:32:31,123 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:32:31,123 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:32:31 +08:00

2017-11-19 11:32:31,127 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:32:31 +08:00

2017-11-19 11:32:31,207 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[C1] AS [C1], 
    [Project1].[Id] AS [Id], 
    [Project1].[Num] AS [Num], 
    [Project1].[Name] AS [Name], 
    [Project1].[Description] AS [Description], 
    [Project1].[ImgUrl] AS [ImgUrl], 
    [Project1].[StatusId] AS [StatusId], 
    [Project1].[WeChatUrl] AS [WeChatUrl], 
    [Project1].[PaperId] AS [PaperId], 
    [Project1].[PrizeName] AS [PrizeName], 
    [Project1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Project1].[VisitCount] AS [VisitCount], 
    [Project1].[ForwardCount] AS [ForwardCount], 
    [Project1].[AnswerCount] AS [AnswerCount], 
    [Project1].[HavePrizeCount] AS [HavePrizeCount], 
    [Project1].[PrizeCount] AS [PrizeCount], 
    [Project1].[StartTime] AS [StartTime], 
    [Project1].[ExamEndTime] AS [ExamEndTime], 
    [Project1].[RewardTime] AS [RewardTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime], 
    [Project1].[Id1] AS [Id1], 
    [Project1].[TypeName] AS [TypeName], 
    [Project1].[Name1] AS [Name1], 
    [Project1].[ImgUrl1] AS [ImgUrl1], 
    [Project1].[IsDeleted1] AS [IsDeleted1], 
    [Project1].[CreateDateTime1] AS [CreateDateTime1], 
    [Project1].[Id2] AS [Id2], 
    [Project1].[Num1] AS [Num1], 
    [Project1].[TestTitle] AS [TestTitle], 
    [Project1].[ExercisesCount] AS [ExercisesCount], 
    [Project1].[IsDeleted2] AS [IsDeleted2], 
    [Project1].[CreateDateTime2] AS [CreateDateTime2]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Num] AS [Num], [Project1].[Name] AS [Name], [Project1].[Description] AS [Description], [Project1].[ImgUrl] AS [ImgUrl], [Project1].[StatusId] AS [StatusId], [Project1].[WeChatUrl] AS [WeChatUrl], [Project1].[PaperId] AS [PaperId], [Project1].[PrizeName] AS [PrizeName], [Project1].[PrizeImgUrl] AS [PrizeImgUrl], [Project1].[VisitCount] AS [VisitCount], [Project1].[ForwardCount] AS [ForwardCount], [Project1].[AnswerCount] AS [AnswerCount], [Project1].[HavePrizeCount] AS [HavePrizeCount], [Project1].[PrizeCount] AS [PrizeCount], [Project1].[StartTime] AS [StartTime], [Project1].[ExamEndTime] AS [ExamEndTime], [Project1].[RewardTime] AS [RewardTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], [Project1].[Id1] AS [Id1], [Project1].[TypeName] AS [TypeName], [Project1].[Name1] AS [Name1], [Project1].[ImgUrl1] AS [ImgUrl1], [Project1].[IsDeleted1] AS [IsDeleted1], [Project1].[CreateDateTime1] AS [CreateDateTime1], [Project1].[Id2] AS [Id2], [Project1].[Num1] AS [Num1], [Project1].[TestTitle] AS [TestTitle], [Project1].[ExercisesCount] AS [ExercisesCount], [Project1].[IsDeleted2] AS [IsDeleted2], [Project1].[CreateDateTime2] AS [CreateDateTime2], [Project1].[C1] AS [C1], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Num] AS [Num], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[ImgUrl] AS [ImgUrl], 
            [Extent1].[StatusId] AS [StatusId], 
            [Extent1].[WeChatUrl] AS [WeChatUrl], 
            [Extent1].[PaperId] AS [PaperId], 
            [Extent1].[PrizeName] AS [PrizeName], 
            [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
            [Extent1].[VisitCount] AS [VisitCount], 
            [Extent1].[ForwardCount] AS [ForwardCount], 
            [Extent1].[AnswerCount] AS [AnswerCount], 
            [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
            [Extent1].[PrizeCount] AS [PrizeCount], 
            [Extent1].[StartTime] AS [StartTime], 
            [Extent1].[ExamEndTime] AS [ExamEndTime], 
            [Extent1].[RewardTime] AS [RewardTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime], 
            [Extent2].[Id] AS [Id1], 
            [Extent2].[TypeName] AS [TypeName], 
            [Extent2].[Name] AS [Name1], 
            [Extent2].[ImgUrl] AS [ImgUrl1], 
            [Extent2].[IsDeleted] AS [IsDeleted1], 
            [Extent2].[CreateDateTime] AS [CreateDateTime1], 
            [Extent3].[Id] AS [Id2], 
            [Extent3].[Num] AS [Num1], 
            [Extent3].[TestTitle] AS [TestTitle], 
            [Extent3].[ExercisesCount] AS [ExercisesCount], 
            [Extent3].[IsDeleted] AS [IsDeleted2], 
            [Extent3].[CreateDateTime] AS [CreateDateTime2], 
            1 AS [C1]
            FROM   [dbo].[T_Activities] AS [Extent1]
            INNER JOIN [dbo].[T_IdNames] AS [Extent2] ON [Extent1].[StatusId] = [Extent2].[Id]
            INNER JOIN [dbo].[T_TestPapers] AS [Extent3] ON [Extent1].[PaperId] = [Extent3].[Id]
            WHERE 0 = [Extent1].[IsDeleted]
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-19 11:32:31,207 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:32:31,207 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:32:31 +08:00

2017-11-19 11:32:31,211 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2017-11-19 11:32:31,211 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:32:31,244 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:32:31 +08:00

2017-11-19 11:32:31,253 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:32:31 +08:00

2017-11-19 11:32:31,260 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Activities] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [GroupBy1]
2017-11-19 11:32:31,260 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:32:31,261 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:32:31 +08:00

2017-11-19 11:32:31,261 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-19 11:32:31,261 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:32:31,265 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:32:31 +08:00

2017-11-19 11:32:33,163 [24] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:32:33 +08:00

2017-11-19 11:32:33,164 [24] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-19 11:32:33,164 [24] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:32:33,164 [24] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-19 11:32:33,164 [24] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:32:33 +08:00

2017-11-19 11:32:33,167 [24] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-19 11:32:33,167 [24] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:32:33,167 [24] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:32:33 +08:00

2017-11-19 11:32:33,167 [24] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:32:33 +08:00

2017-11-19 11:32:33,167 [24] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-19 11:32:33,167 [24] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:32:33,167 [24] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-19 11:32:33,167 [24] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:32:33 +08:00

2017-11-19 11:32:33,168 [24] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-19 11:32:33,168 [24] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:32:33,169 [24] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:32:33 +08:00

2017-11-19 11:32:33,172 [24] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:32:33 +08:00

2017-11-19 11:32:33,188 [24] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-19 11:32:33,188 [24] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:32:33,188 [24] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '11' (Type = Int64, IsNullable = false)

2017-11-19 11:32:33,188 [24] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:32:33 +08:00

2017-11-19 11:32:33,190 [24] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-19 11:32:33,190 [24] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:32:33,191 [24] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:32:33 +08:00

2017-11-19 11:32:33,196 [24] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:32:33 +08:00

2017-11-19 11:32:33,199 [24] DEBUG Chat.Service.MyDbContext - EF执行SQL：select u.Id,u.Name,u.NickName,u.PhotoUrl,u.Mobile,u.Gender,u.Address,u.PasswordHash,u.PasswordSalt,u.LoginErrorTimes,u.LastLoginErrorDateTime,u.PassCount,u.WinCount,u.IsWon,u.IsDeleted,u.ChangeTime,u.CreateDateTime from T_Users as u, (select UserId from T_UserActivities where ActivityId=@id) as a where a.UserId=u.Id and u.IsWon=1 and u.IsDeleted=0
2017-11-19 11:32:33,199 [24] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:32:33,199 [24] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @id: '11' (Type = Int64, IsNullable = false)

2017-11-19 11:32:33,199 [24] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:32:33 +08:00

2017-11-19 11:32:33,200 [24] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-19 11:32:33,200 [24] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:32:33,215 [24] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:32:33 +08:00

2017-11-19 11:41:24,294 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:41:24 +08:00

2017-11-19 11:41:24,304 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.T_Activities','dbo.T_TestPapers','dbo.T_IdNames','dbo.T_Users','dbo.T_ActivityImgs','dbo.T_AdminLogs','dbo.T_AdminUsers','dbo.T_Roles','dbo.T_Permissions','dbo.T_Cities','dbo.T_Exercises','dbo.T_Settings','dbo.T_UserActivities','dbo.T_RolePermissions','dbo.T_AdminUserRoles')
    OR t.TABLE_NAME = 'EdmMetadata'
2017-11-19 11:41:24,304 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:41:24,304 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:41:24 +08:00

2017-11-19 11:41:24,306 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: 15

2017-11-19 11:41:24,306 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:41:24,306 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:41:24 +08:00

2017-11-19 11:41:24,330 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:41:24 +08:00

2017-11-19 11:41:24,373 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2017-11-19 11:41:24,373 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:41:24,373 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'Chat.Service.MyDbContext' (Type = String, Size = 4000)

2017-11-19 11:41:24,373 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:41:24 +08:00

2017-11-19 11:41:24,375 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Failed in 1 ms with error: 对象名 'dbo.__MigrationHistory' 无效。

2017-11-19 11:41:24,375 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:41:24,375 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:41:24 +08:00

2017-11-19 11:41:24,376 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:41:24 +08:00

2017-11-19 11:41:24,377 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
    )  AS [GroupBy1]
2017-11-19 11:41:24,377 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:41:24,377 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:41:24 +08:00

2017-11-19 11:41:24,379 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Failed in 1 ms with error: 对象名 'dbo.__MigrationHistory' 无效。

2017-11-19 11:41:24,379 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:41:24,379 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:41:24 +08:00

2017-11-19 11:41:24,400 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:41:24 +08:00

2017-11-19 11:41:24,443 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_AdminUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] = @p__linq__0)
2017-11-19 11:41:24,443 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:41:24,443 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'system' (Type = String, Size = 4000)

2017-11-19 11:41:24,443 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:41:24 +08:00

2017-11-19 11:41:24,444 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-19 11:41:24,444 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:41:24,448 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:41:24 +08:00

2017-11-19 11:41:24,452 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:41:24 +08:00

2017-11-19 11:41:24,454 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[T_AdminUsers] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] = @p__linq__0)
    )  AS [GroupBy1]
2017-11-19 11:41:24,454 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:41:24,454 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'system' (Type = String, Size = 4000)

2017-11-19 11:41:24,454 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:41:24 +08:00

2017-11-19 11:41:24,455 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-19 11:41:24,455 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:41:24,459 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:41:24 +08:00

2017-11-19 11:41:24,460 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:41:24 +08:00

2017-11-19 11:41:24,460 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_AdminUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] = @p__linq__0)
2017-11-19 11:41:24,460 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:41:24,460 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'system' (Type = String, Size = 4000)

2017-11-19 11:41:24,460 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:41:24 +08:00

2017-11-19 11:41:24,461 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-19 11:41:24,461 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:41:24,462 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:41:24 +08:00

2017-11-19 11:41:24,609 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:41:24 +08:00

2017-11-19 11:41:24,647 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-19 11:41:24,648 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:41:24,648 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-19 11:41:24,648 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:41:24 +08:00

2017-11-19 11:41:24,651 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-19 11:41:24,651 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:41:24,654 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:41:24 +08:00

2017-11-19 11:41:24,656 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:41:24 +08:00

2017-11-19 11:41:24,671 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-19 11:41:24,671 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:41:24,671 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-19 11:41:24,671 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:41:24 +08:00

2017-11-19 11:41:24,672 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-19 11:41:24,672 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:41:24,673 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:41:24 +08:00

2017-11-19 11:41:24,678 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:41:24 +08:00

2017-11-19 11:41:24,683 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[C1] AS [C1], 
    [Project1].[Id] AS [Id], 
    [Project1].[TestTitle] AS [TestTitle], 
    [Project1].[ExercisesCount] AS [ExercisesCount], 
    [Project1].[CreateDateTime] AS [CreateDateTime], 
    [Project1].[Num] AS [Num]
    FROM ( SELECT 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Num] AS [Num], 
        [Extent1].[TestTitle] AS [TestTitle], 
        [Extent1].[ExercisesCount] AS [ExercisesCount], 
        [Extent1].[CreateDateTime] AS [CreateDateTime], 
        1 AS [C1]
        FROM [dbo].[T_TestPapers] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [Project1]
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-19 11:41:24,683 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:41:24,683 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:41:24 +08:00

2017-11-19 11:41:24,685 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-19 11:41:24,685 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:41:24,685 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:41:24 +08:00

2017-11-19 11:41:27,495 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:41:27 +08:00

2017-11-19 11:41:27,496 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-19 11:41:27,496 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:41:27,496 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-19 11:41:27,496 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:41:27 +08:00

2017-11-19 11:41:27,499 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2017-11-19 11:41:27,500 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:41:27,500 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:41:27 +08:00

2017-11-19 11:41:27,500 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:41:27 +08:00

2017-11-19 11:41:27,500 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-19 11:41:27,500 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:41:27,500 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-19 11:41:27,500 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:41:27 +08:00

2017-11-19 11:41:27,501 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-19 11:41:27,501 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:41:27,502 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:41:27 +08:00

2017-11-19 11:41:27,506 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:41:27 +08:00

2017-11-19 11:41:27,544 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[C1] AS [C1], 
    [Project1].[Id] AS [Id], 
    [Project1].[Num] AS [Num], 
    [Project1].[Name] AS [Name], 
    [Project1].[Description] AS [Description], 
    [Project1].[ImgUrl] AS [ImgUrl], 
    [Project1].[StatusId] AS [StatusId], 
    [Project1].[WeChatUrl] AS [WeChatUrl], 
    [Project1].[PaperId] AS [PaperId], 
    [Project1].[PrizeName] AS [PrizeName], 
    [Project1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Project1].[VisitCount] AS [VisitCount], 
    [Project1].[ForwardCount] AS [ForwardCount], 
    [Project1].[AnswerCount] AS [AnswerCount], 
    [Project1].[HavePrizeCount] AS [HavePrizeCount], 
    [Project1].[PrizeCount] AS [PrizeCount], 
    [Project1].[StartTime] AS [StartTime], 
    [Project1].[ExamEndTime] AS [ExamEndTime], 
    [Project1].[RewardTime] AS [RewardTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime], 
    [Project1].[Id1] AS [Id1], 
    [Project1].[TypeName] AS [TypeName], 
    [Project1].[Name1] AS [Name1], 
    [Project1].[ImgUrl1] AS [ImgUrl1], 
    [Project1].[IsDeleted1] AS [IsDeleted1], 
    [Project1].[CreateDateTime1] AS [CreateDateTime1], 
    [Project1].[Id2] AS [Id2], 
    [Project1].[Num1] AS [Num1], 
    [Project1].[TestTitle] AS [TestTitle], 
    [Project1].[ExercisesCount] AS [ExercisesCount], 
    [Project1].[IsDeleted2] AS [IsDeleted2], 
    [Project1].[CreateDateTime2] AS [CreateDateTime2]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Num] AS [Num], [Project1].[Name] AS [Name], [Project1].[Description] AS [Description], [Project1].[ImgUrl] AS [ImgUrl], [Project1].[StatusId] AS [StatusId], [Project1].[WeChatUrl] AS [WeChatUrl], [Project1].[PaperId] AS [PaperId], [Project1].[PrizeName] AS [PrizeName], [Project1].[PrizeImgUrl] AS [PrizeImgUrl], [Project1].[VisitCount] AS [VisitCount], [Project1].[ForwardCount] AS [ForwardCount], [Project1].[AnswerCount] AS [AnswerCount], [Project1].[HavePrizeCount] AS [HavePrizeCount], [Project1].[PrizeCount] AS [PrizeCount], [Project1].[StartTime] AS [StartTime], [Project1].[ExamEndTime] AS [ExamEndTime], [Project1].[RewardTime] AS [RewardTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], [Project1].[Id1] AS [Id1], [Project1].[TypeName] AS [TypeName], [Project1].[Name1] AS [Name1], [Project1].[ImgUrl1] AS [ImgUrl1], [Project1].[IsDeleted1] AS [IsDeleted1], [Project1].[CreateDateTime1] AS [CreateDateTime1], [Project1].[Id2] AS [Id2], [Project1].[Num1] AS [Num1], [Project1].[TestTitle] AS [TestTitle], [Project1].[ExercisesCount] AS [ExercisesCount], [Project1].[IsDeleted2] AS [IsDeleted2], [Project1].[CreateDateTime2] AS [CreateDateTime2], [Project1].[C1] AS [C1], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Num] AS [Num], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[ImgUrl] AS [ImgUrl], 
            [Extent1].[StatusId] AS [StatusId], 
            [Extent1].[WeChatUrl] AS [WeChatUrl], 
            [Extent1].[PaperId] AS [PaperId], 
            [Extent1].[PrizeName] AS [PrizeName], 
            [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
            [Extent1].[VisitCount] AS [VisitCount], 
            [Extent1].[ForwardCount] AS [ForwardCount], 
            [Extent1].[AnswerCount] AS [AnswerCount], 
            [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
            [Extent1].[PrizeCount] AS [PrizeCount], 
            [Extent1].[StartTime] AS [StartTime], 
            [Extent1].[ExamEndTime] AS [ExamEndTime], 
            [Extent1].[RewardTime] AS [RewardTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime], 
            [Extent2].[Id] AS [Id1], 
            [Extent2].[TypeName] AS [TypeName], 
            [Extent2].[Name] AS [Name1], 
            [Extent2].[ImgUrl] AS [ImgUrl1], 
            [Extent2].[IsDeleted] AS [IsDeleted1], 
            [Extent2].[CreateDateTime] AS [CreateDateTime1], 
            [Extent3].[Id] AS [Id2], 
            [Extent3].[Num] AS [Num1], 
            [Extent3].[TestTitle] AS [TestTitle], 
            [Extent3].[ExercisesCount] AS [ExercisesCount], 
            [Extent3].[IsDeleted] AS [IsDeleted2], 
            [Extent3].[CreateDateTime] AS [CreateDateTime2], 
            1 AS [C1]
            FROM   [dbo].[T_Activities] AS [Extent1]
            INNER JOIN [dbo].[T_IdNames] AS [Extent2] ON [Extent1].[StatusId] = [Extent2].[Id]
            INNER JOIN [dbo].[T_TestPapers] AS [Extent3] ON [Extent1].[PaperId] = [Extent3].[Id]
            WHERE 0 = [Extent1].[IsDeleted]
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-19 11:41:27,544 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:41:27,544 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:41:27 +08:00

2017-11-19 11:41:27,548 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2017-11-19 11:41:27,548 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:41:27,560 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:41:27 +08:00

2017-11-19 11:41:27,570 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:41:27 +08:00

2017-11-19 11:41:27,579 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Activities] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [GroupBy1]
2017-11-19 11:41:27,579 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:41:27,579 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:41:27 +08:00

2017-11-19 11:41:27,593 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 13 ms with result: SqlDataReader

2017-11-19 11:41:27,593 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:41:27,597 [3] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:41:27 +08:00

2017-11-19 11:41:30,242 [11] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:41:30 +08:00

2017-11-19 11:41:30,243 [11] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-19 11:41:30,243 [11] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:41:30,243 [11] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-19 11:41:30,243 [11] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:41:30 +08:00

2017-11-19 11:41:30,245 [11] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-19 11:41:30,245 [11] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:41:30,246 [11] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:41:30 +08:00

2017-11-19 11:41:30,246 [11] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:41:30 +08:00

2017-11-19 11:41:30,246 [11] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-19 11:41:30,246 [11] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:41:30,246 [11] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-19 11:41:30,246 [11] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:41:30 +08:00

2017-11-19 11:41:30,247 [11] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-19 11:41:30,247 [11] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:41:30,247 [11] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:41:30 +08:00

2017-11-19 11:41:30,251 [11] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:41:30 +08:00

2017-11-19 11:41:30,270 [11] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-19 11:41:30,270 [11] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:41:30,270 [11] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '11' (Type = Int64, IsNullable = false)

2017-11-19 11:41:30,270 [11] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:41:30 +08:00

2017-11-19 11:41:30,273 [11] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-19 11:41:30,273 [11] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:41:30,273 [11] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:41:30 +08:00

2017-11-19 11:41:30,274 [11] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:41:30 +08:00

2017-11-19 11:41:30,274 [11] DEBUG Chat.Service.MyDbContext - EF执行SQL：select u.Id,u.Name,u.NickName,u.PhotoUrl,u.Mobile,u.Gender,u.Address,u.PasswordHash,u.PasswordSalt,u.LoginErrorTimes,u.LastLoginErrorDateTime,u.PassCount,u.WinCount,u.IsWon,u.IsDeleted,u.ChangeTime,u.CreateDateTime from T_Users as u, (select UserId from T_UserActivities where ActivityId=@id) as a where a.UserId=u.Id and u.IsWon=1 and u.IsDeleted=0
2017-11-19 11:41:30,274 [11] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:41:30,274 [11] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @id: '11' (Type = Int64, IsNullable = false)

2017-11-19 11:41:30,274 [11] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:41:30 +08:00

2017-11-19 11:41:30,277 [11] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-19 11:41:30,277 [11] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:41:30,287 [11] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:41:30 +08:00

2017-11-19 11:44:41,872 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:44:41 +08:00

2017-11-19 11:44:41,884 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.T_Activities','dbo.T_TestPapers','dbo.T_IdNames','dbo.T_Users','dbo.T_ActivityImgs','dbo.T_AdminLogs','dbo.T_AdminUsers','dbo.T_Roles','dbo.T_Permissions','dbo.T_Cities','dbo.T_Exercises','dbo.T_Settings','dbo.T_UserActivities','dbo.T_RolePermissions','dbo.T_AdminUserRoles')
    OR t.TABLE_NAME = 'EdmMetadata'
2017-11-19 11:44:41,884 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:44:41,884 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:44:41 +08:00

2017-11-19 11:44:41,886 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: 15

2017-11-19 11:44:41,886 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:44:41,886 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:44:41 +08:00

2017-11-19 11:44:41,985 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:44:41 +08:00

2017-11-19 11:44:42,935 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2017-11-19 11:44:42,935 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:44:42,936 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'Chat.Service.MyDbContext' (Type = String, Size = 4000)

2017-11-19 11:44:42,936 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:44:42 +08:00

2017-11-19 11:44:42,939 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Failed in 2 ms with error: 对象名 'dbo.__MigrationHistory' 无效。

2017-11-19 11:44:42,939 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:44:42,941 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:44:42 +08:00

2017-11-19 11:44:42,942 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:44:42 +08:00

2017-11-19 11:44:42,943 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
    )  AS [GroupBy1]
2017-11-19 11:44:42,943 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:44:42,944 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:44:42 +08:00

2017-11-19 11:44:42,945 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Failed in 1 ms with error: 对象名 'dbo.__MigrationHistory' 无效。

2017-11-19 11:44:42,945 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:44:42,945 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:44:42 +08:00

2017-11-19 11:44:43,040 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:44:43 +08:00

2017-11-19 11:44:43,170 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_AdminUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] = @p__linq__0)
2017-11-19 11:44:43,170 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:44:43,170 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'system' (Type = String, Size = 4000)

2017-11-19 11:44:43,170 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:44:43 +08:00

2017-11-19 11:44:43,172 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-19 11:44:43,172 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:44:43,227 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:44:43 +08:00

2017-11-19 11:44:43,232 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:44:43 +08:00

2017-11-19 11:44:43,234 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[T_AdminUsers] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] = @p__linq__0)
    )  AS [GroupBy1]
2017-11-19 11:44:43,234 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:44:43,234 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'system' (Type = String, Size = 4000)

2017-11-19 11:44:43,234 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:44:43 +08:00

2017-11-19 11:44:43,236 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-19 11:44:43,236 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:44:43,239 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:44:43 +08:00

2017-11-19 11:44:43,240 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:44:43 +08:00

2017-11-19 11:44:43,241 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_AdminUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] = @p__linq__0)
2017-11-19 11:44:43,241 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:44:43,241 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'system' (Type = String, Size = 4000)

2017-11-19 11:44:43,241 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:44:43 +08:00

2017-11-19 11:44:43,243 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-19 11:44:43,243 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:44:43,243 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:44:43 +08:00

2017-11-19 11:44:43,389 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:44:43 +08:00

2017-11-19 11:44:43,586 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-19 11:44:43,586 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:44:43,586 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-19 11:44:43,586 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:44:43 +08:00

2017-11-19 11:44:43,588 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-19 11:44:43,588 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:44:43,628 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:44:43 +08:00

2017-11-19 11:44:43,641 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:44:43 +08:00

2017-11-19 11:44:43,699 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-19 11:44:43,699 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:44:43,699 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-19 11:44:43,699 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:44:43 +08:00

2017-11-19 11:44:43,701 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-19 11:44:43,701 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:44:43,703 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:44:43 +08:00

2017-11-19 11:44:43,709 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:44:43 +08:00

2017-11-19 11:44:43,728 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[C1] AS [C1], 
    [Project1].[Id] AS [Id], 
    [Project1].[TestTitle] AS [TestTitle], 
    [Project1].[ExercisesCount] AS [ExercisesCount], 
    [Project1].[CreateDateTime] AS [CreateDateTime], 
    [Project1].[Num] AS [Num]
    FROM ( SELECT 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Num] AS [Num], 
        [Extent1].[TestTitle] AS [TestTitle], 
        [Extent1].[ExercisesCount] AS [ExercisesCount], 
        [Extent1].[CreateDateTime] AS [CreateDateTime], 
        1 AS [C1]
        FROM [dbo].[T_TestPapers] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [Project1]
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-19 11:44:43,728 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:44:43,728 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:44:43 +08:00

2017-11-19 11:44:43,729 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-19 11:44:43,729 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:44:43,730 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:44:43 +08:00

2017-11-19 11:44:45,400 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:44:45 +08:00

2017-11-19 11:44:45,401 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_AdminUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] = @p__linq__0)
2017-11-19 11:44:45,401 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:44:45,401 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'system' (Type = String, Size = 4000)

2017-11-19 11:44:45,401 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:44:45 +08:00

2017-11-19 11:44:45,403 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-19 11:44:45,403 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:44:45,403 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:44:45 +08:00

2017-11-19 11:44:45,404 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:44:45 +08:00

2017-11-19 11:44:45,404 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[T_AdminUsers] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] = @p__linq__0)
    )  AS [GroupBy1]
2017-11-19 11:44:45,404 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:44:45,404 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'system' (Type = String, Size = 4000)

2017-11-19 11:44:45,404 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:44:45 +08:00

2017-11-19 11:44:45,405 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-19 11:44:45,405 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:44:45,405 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:44:45 +08:00

2017-11-19 11:44:45,405 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:44:45 +08:00

2017-11-19 11:44:45,406 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_AdminUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] = @p__linq__0)
2017-11-19 11:44:45,406 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:44:45,406 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'system' (Type = String, Size = 4000)

2017-11-19 11:44:45,406 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:44:45 +08:00

2017-11-19 11:44:45,407 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-19 11:44:45,407 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:44:45,408 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:44:45 +08:00

2017-11-19 11:44:49,120 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:44:49 +08:00

2017-11-19 11:44:49,121 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-19 11:44:49,121 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:44:49,121 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-19 11:44:49,121 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:44:49 +08:00

2017-11-19 11:44:49,123 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-19 11:44:49,123 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:44:49,124 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:44:49 +08:00

2017-11-19 11:44:49,124 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:44:49 +08:00

2017-11-19 11:44:49,124 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-19 11:44:49,124 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:44:49,124 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-19 11:44:49,124 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:44:49 +08:00

2017-11-19 11:44:49,125 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-19 11:44:49,125 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:44:49,126 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:44:49 +08:00

2017-11-19 11:44:49,130 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:44:49 +08:00

2017-11-19 11:44:49,194 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[C1] AS [C1], 
    [Project1].[Id] AS [Id], 
    [Project1].[Num] AS [Num], 
    [Project1].[Name] AS [Name], 
    [Project1].[Description] AS [Description], 
    [Project1].[ImgUrl] AS [ImgUrl], 
    [Project1].[StatusId] AS [StatusId], 
    [Project1].[WeChatUrl] AS [WeChatUrl], 
    [Project1].[PaperId] AS [PaperId], 
    [Project1].[PrizeName] AS [PrizeName], 
    [Project1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Project1].[VisitCount] AS [VisitCount], 
    [Project1].[ForwardCount] AS [ForwardCount], 
    [Project1].[AnswerCount] AS [AnswerCount], 
    [Project1].[HavePrizeCount] AS [HavePrizeCount], 
    [Project1].[PrizeCount] AS [PrizeCount], 
    [Project1].[StartTime] AS [StartTime], 
    [Project1].[ExamEndTime] AS [ExamEndTime], 
    [Project1].[RewardTime] AS [RewardTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime], 
    [Project1].[Id1] AS [Id1], 
    [Project1].[TypeName] AS [TypeName], 
    [Project1].[Name1] AS [Name1], 
    [Project1].[ImgUrl1] AS [ImgUrl1], 
    [Project1].[IsDeleted1] AS [IsDeleted1], 
    [Project1].[CreateDateTime1] AS [CreateDateTime1], 
    [Project1].[Id2] AS [Id2], 
    [Project1].[Num1] AS [Num1], 
    [Project1].[TestTitle] AS [TestTitle], 
    [Project1].[ExercisesCount] AS [ExercisesCount], 
    [Project1].[IsDeleted2] AS [IsDeleted2], 
    [Project1].[CreateDateTime2] AS [CreateDateTime2]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Num] AS [Num], [Project1].[Name] AS [Name], [Project1].[Description] AS [Description], [Project1].[ImgUrl] AS [ImgUrl], [Project1].[StatusId] AS [StatusId], [Project1].[WeChatUrl] AS [WeChatUrl], [Project1].[PaperId] AS [PaperId], [Project1].[PrizeName] AS [PrizeName], [Project1].[PrizeImgUrl] AS [PrizeImgUrl], [Project1].[VisitCount] AS [VisitCount], [Project1].[ForwardCount] AS [ForwardCount], [Project1].[AnswerCount] AS [AnswerCount], [Project1].[HavePrizeCount] AS [HavePrizeCount], [Project1].[PrizeCount] AS [PrizeCount], [Project1].[StartTime] AS [StartTime], [Project1].[ExamEndTime] AS [ExamEndTime], [Project1].[RewardTime] AS [RewardTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], [Project1].[Id1] AS [Id1], [Project1].[TypeName] AS [TypeName], [Project1].[Name1] AS [Name1], [Project1].[ImgUrl1] AS [ImgUrl1], [Project1].[IsDeleted1] AS [IsDeleted1], [Project1].[CreateDateTime1] AS [CreateDateTime1], [Project1].[Id2] AS [Id2], [Project1].[Num1] AS [Num1], [Project1].[TestTitle] AS [TestTitle], [Project1].[ExercisesCount] AS [ExercisesCount], [Project1].[IsDeleted2] AS [IsDeleted2], [Project1].[CreateDateTime2] AS [CreateDateTime2], [Project1].[C1] AS [C1], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Num] AS [Num], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[ImgUrl] AS [ImgUrl], 
            [Extent1].[StatusId] AS [StatusId], 
            [Extent1].[WeChatUrl] AS [WeChatUrl], 
            [Extent1].[PaperId] AS [PaperId], 
            [Extent1].[PrizeName] AS [PrizeName], 
            [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
            [Extent1].[VisitCount] AS [VisitCount], 
            [Extent1].[ForwardCount] AS [ForwardCount], 
            [Extent1].[AnswerCount] AS [AnswerCount], 
            [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
            [Extent1].[PrizeCount] AS [PrizeCount], 
            [Extent1].[StartTime] AS [StartTime], 
            [Extent1].[ExamEndTime] AS [ExamEndTime], 
            [Extent1].[RewardTime] AS [RewardTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime], 
            [Extent2].[Id] AS [Id1], 
            [Extent2].[TypeName] AS [TypeName], 
            [Extent2].[Name] AS [Name1], 
            [Extent2].[ImgUrl] AS [ImgUrl1], 
            [Extent2].[IsDeleted] AS [IsDeleted1], 
            [Extent2].[CreateDateTime] AS [CreateDateTime1], 
            [Extent3].[Id] AS [Id2], 
            [Extent3].[Num] AS [Num1], 
            [Extent3].[TestTitle] AS [TestTitle], 
            [Extent3].[ExercisesCount] AS [ExercisesCount], 
            [Extent3].[IsDeleted] AS [IsDeleted2], 
            [Extent3].[CreateDateTime] AS [CreateDateTime2], 
            1 AS [C1]
            FROM   [dbo].[T_Activities] AS [Extent1]
            INNER JOIN [dbo].[T_IdNames] AS [Extent2] ON [Extent1].[StatusId] = [Extent2].[Id]
            INNER JOIN [dbo].[T_TestPapers] AS [Extent3] ON [Extent1].[PaperId] = [Extent3].[Id]
            WHERE 0 = [Extent1].[IsDeleted]
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-19 11:44:49,194 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:44:49,194 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:44:49 +08:00

2017-11-19 11:44:49,198 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2017-11-19 11:44:49,198 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:44:49,233 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:44:49 +08:00

2017-11-19 11:44:49,242 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:44:49 +08:00

2017-11-19 11:44:49,253 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Activities] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [GroupBy1]
2017-11-19 11:44:49,253 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:44:49,253 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:44:49 +08:00

2017-11-19 11:44:49,254 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-19 11:44:49,254 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:44:49,258 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:44:49 +08:00

2017-11-19 11:44:52,000 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:44:52 +08:00

2017-11-19 11:44:52,000 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-19 11:44:52,000 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:44:52,000 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-19 11:44:52,000 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:44:52 +08:00

2017-11-19 11:44:52,003 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-19 11:44:52,003 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:44:52,004 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:44:52 +08:00

2017-11-19 11:44:52,004 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:44:52 +08:00

2017-11-19 11:44:52,004 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-19 11:44:52,004 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:44:52,004 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-19 11:44:52,004 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:44:52 +08:00

2017-11-19 11:44:52,005 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-19 11:44:52,005 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:44:52,005 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:44:52 +08:00

2017-11-19 11:44:52,009 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:44:52 +08:00

2017-11-19 11:44:52,025 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-19 11:44:52,025 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:44:52,025 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '11' (Type = Int64, IsNullable = false)

2017-11-19 11:44:52,025 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:44:52 +08:00

2017-11-19 11:44:52,028 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-19 11:44:52,028 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:44:52,028 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:44:52 +08:00

2017-11-19 11:44:52,034 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:44:52 +08:00

2017-11-19 11:44:52,036 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：select u.Id,u.Name,u.NickName,u.PhotoUrl,u.Mobile,u.Gender,u.Address,u.PasswordHash,u.PasswordSalt,u.LoginErrorTimes,u.LastLoginErrorDateTime,u.PassCount,u.WinCount,u.IsWon,u.IsDeleted,u.ChangeTime,u.CreateDateTime from T_Users as u, (select UserId from T_UserActivities where ActivityId=@id) as a where a.UserId=u.Id and u.IsWon=1 and u.IsDeleted=0
2017-11-19 11:44:52,036 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:44:52,036 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @id: '11' (Type = Int64, IsNullable = false)

2017-11-19 11:44:52,036 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:44:52 +08:00

2017-11-19 11:44:52,038 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-19 11:44:52,038 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:44:52,053 [18] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:44:52 +08:00

2017-11-19 11:46:30,433 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:46:30 +08:00

2017-11-19 11:46:30,444 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.T_Activities','dbo.T_TestPapers','dbo.T_IdNames','dbo.T_Users','dbo.T_ActivityImgs','dbo.T_AdminLogs','dbo.T_AdminUsers','dbo.T_Roles','dbo.T_Permissions','dbo.T_Cities','dbo.T_Exercises','dbo.T_Settings','dbo.T_UserActivities','dbo.T_RolePermissions','dbo.T_AdminUserRoles')
    OR t.TABLE_NAME = 'EdmMetadata'
2017-11-19 11:46:30,444 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:46:30,445 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:46:30 +08:00

2017-11-19 11:46:30,447 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: 15

2017-11-19 11:46:30,447 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:46:30,447 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:46:30 +08:00

2017-11-19 11:46:30,539 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:46:30 +08:00

2017-11-19 11:46:31,495 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2017-11-19 11:46:31,495 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:46:31,496 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'Chat.Service.MyDbContext' (Type = String, Size = 4000)

2017-11-19 11:46:31,496 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:46:31 +08:00

2017-11-19 11:46:31,499 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Failed in 2 ms with error: 对象名 'dbo.__MigrationHistory' 无效。

2017-11-19 11:46:31,499 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:46:31,500 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:46:31 +08:00

2017-11-19 11:46:31,502 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:46:31 +08:00

2017-11-19 11:46:31,503 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
    )  AS [GroupBy1]
2017-11-19 11:46:31,503 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:46:31,503 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:46:31 +08:00

2017-11-19 11:46:31,507 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Failed in 4 ms with error: 对象名 'dbo.__MigrationHistory' 无效。

2017-11-19 11:46:31,508 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:46:31,508 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:46:31 +08:00

2017-11-19 11:46:31,601 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:46:31 +08:00

2017-11-19 11:46:31,758 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_AdminUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] = @p__linq__0)
2017-11-19 11:46:31,758 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:46:31,759 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'system' (Type = String, Size = 4000)

2017-11-19 11:46:31,759 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:46:31 +08:00

2017-11-19 11:46:31,760 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-19 11:46:31,760 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:46:31,807 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:46:31 +08:00

2017-11-19 11:46:31,812 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:46:31 +08:00

2017-11-19 11:46:31,814 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[T_AdminUsers] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] = @p__linq__0)
    )  AS [GroupBy1]
2017-11-19 11:46:31,815 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:46:31,815 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'system' (Type = String, Size = 4000)

2017-11-19 11:46:31,815 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:46:31 +08:00

2017-11-19 11:46:31,815 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-19 11:46:31,815 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:46:31,819 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:46:31 +08:00

2017-11-19 11:46:31,820 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:46:31 +08:00

2017-11-19 11:46:31,821 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_AdminUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] = @p__linq__0)
2017-11-19 11:46:31,821 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:46:31,821 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'system' (Type = String, Size = 4000)

2017-11-19 11:46:31,821 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:46:31 +08:00

2017-11-19 11:46:31,822 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-19 11:46:31,822 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:46:31,823 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:46:31 +08:00

2017-11-19 11:46:31,956 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:46:31 +08:00

2017-11-19 11:46:32,166 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-19 11:46:32,166 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:46:32,166 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-19 11:46:32,166 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:46:32 +08:00

2017-11-19 11:46:32,169 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-19 11:46:32,169 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:46:32,209 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:46:32 +08:00

2017-11-19 11:46:32,222 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:46:32 +08:00

2017-11-19 11:46:32,277 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-19 11:46:32,277 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:46:32,278 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-19 11:46:32,278 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:46:32 +08:00

2017-11-19 11:46:32,279 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-19 11:46:32,279 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:46:32,282 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:46:32 +08:00

2017-11-19 11:46:32,287 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:46:32 +08:00

2017-11-19 11:46:32,306 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[C1] AS [C1], 
    [Project1].[Id] AS [Id], 
    [Project1].[TestTitle] AS [TestTitle], 
    [Project1].[ExercisesCount] AS [ExercisesCount], 
    [Project1].[CreateDateTime] AS [CreateDateTime], 
    [Project1].[Num] AS [Num]
    FROM ( SELECT 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Num] AS [Num], 
        [Extent1].[TestTitle] AS [TestTitle], 
        [Extent1].[ExercisesCount] AS [ExercisesCount], 
        [Extent1].[CreateDateTime] AS [CreateDateTime], 
        1 AS [C1]
        FROM [dbo].[T_TestPapers] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [Project1]
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-19 11:46:32,306 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:46:32,306 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:46:32 +08:00

2017-11-19 11:46:32,308 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-19 11:46:32,308 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:46:32,308 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:46:32 +08:00

2017-11-19 11:46:38,523 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:46:38 +08:00

2017-11-19 11:46:38,523 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-19 11:46:38,523 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:46:38,523 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-19 11:46:38,523 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:46:38 +08:00

2017-11-19 11:46:38,526 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-19 11:46:38,526 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:46:38,526 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:46:38 +08:00

2017-11-19 11:46:38,526 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:46:38 +08:00

2017-11-19 11:46:38,526 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-19 11:46:38,526 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:46:38,526 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-19 11:46:38,527 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:46:38 +08:00

2017-11-19 11:46:38,528 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-19 11:46:38,528 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:46:38,528 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:46:38 +08:00

2017-11-19 11:46:38,532 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:46:38 +08:00

2017-11-19 11:46:38,588 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[C1] AS [C1], 
    [Project1].[Id] AS [Id], 
    [Project1].[Num] AS [Num], 
    [Project1].[Name] AS [Name], 
    [Project1].[Description] AS [Description], 
    [Project1].[ImgUrl] AS [ImgUrl], 
    [Project1].[StatusId] AS [StatusId], 
    [Project1].[WeChatUrl] AS [WeChatUrl], 
    [Project1].[PaperId] AS [PaperId], 
    [Project1].[PrizeName] AS [PrizeName], 
    [Project1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Project1].[VisitCount] AS [VisitCount], 
    [Project1].[ForwardCount] AS [ForwardCount], 
    [Project1].[AnswerCount] AS [AnswerCount], 
    [Project1].[HavePrizeCount] AS [HavePrizeCount], 
    [Project1].[PrizeCount] AS [PrizeCount], 
    [Project1].[StartTime] AS [StartTime], 
    [Project1].[ExamEndTime] AS [ExamEndTime], 
    [Project1].[RewardTime] AS [RewardTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime], 
    [Project1].[Id1] AS [Id1], 
    [Project1].[TypeName] AS [TypeName], 
    [Project1].[Name1] AS [Name1], 
    [Project1].[ImgUrl1] AS [ImgUrl1], 
    [Project1].[IsDeleted1] AS [IsDeleted1], 
    [Project1].[CreateDateTime1] AS [CreateDateTime1], 
    [Project1].[Id2] AS [Id2], 
    [Project1].[Num1] AS [Num1], 
    [Project1].[TestTitle] AS [TestTitle], 
    [Project1].[ExercisesCount] AS [ExercisesCount], 
    [Project1].[IsDeleted2] AS [IsDeleted2], 
    [Project1].[CreateDateTime2] AS [CreateDateTime2]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Num] AS [Num], [Project1].[Name] AS [Name], [Project1].[Description] AS [Description], [Project1].[ImgUrl] AS [ImgUrl], [Project1].[StatusId] AS [StatusId], [Project1].[WeChatUrl] AS [WeChatUrl], [Project1].[PaperId] AS [PaperId], [Project1].[PrizeName] AS [PrizeName], [Project1].[PrizeImgUrl] AS [PrizeImgUrl], [Project1].[VisitCount] AS [VisitCount], [Project1].[ForwardCount] AS [ForwardCount], [Project1].[AnswerCount] AS [AnswerCount], [Project1].[HavePrizeCount] AS [HavePrizeCount], [Project1].[PrizeCount] AS [PrizeCount], [Project1].[StartTime] AS [StartTime], [Project1].[ExamEndTime] AS [ExamEndTime], [Project1].[RewardTime] AS [RewardTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], [Project1].[Id1] AS [Id1], [Project1].[TypeName] AS [TypeName], [Project1].[Name1] AS [Name1], [Project1].[ImgUrl1] AS [ImgUrl1], [Project1].[IsDeleted1] AS [IsDeleted1], [Project1].[CreateDateTime1] AS [CreateDateTime1], [Project1].[Id2] AS [Id2], [Project1].[Num1] AS [Num1], [Project1].[TestTitle] AS [TestTitle], [Project1].[ExercisesCount] AS [ExercisesCount], [Project1].[IsDeleted2] AS [IsDeleted2], [Project1].[CreateDateTime2] AS [CreateDateTime2], [Project1].[C1] AS [C1], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Num] AS [Num], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[ImgUrl] AS [ImgUrl], 
            [Extent1].[StatusId] AS [StatusId], 
            [Extent1].[WeChatUrl] AS [WeChatUrl], 
            [Extent1].[PaperId] AS [PaperId], 
            [Extent1].[PrizeName] AS [PrizeName], 
            [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
            [Extent1].[VisitCount] AS [VisitCount], 
            [Extent1].[ForwardCount] AS [ForwardCount], 
            [Extent1].[AnswerCount] AS [AnswerCount], 
            [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
            [Extent1].[PrizeCount] AS [PrizeCount], 
            [Extent1].[StartTime] AS [StartTime], 
            [Extent1].[ExamEndTime] AS [ExamEndTime], 
            [Extent1].[RewardTime] AS [RewardTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime], 
            [Extent2].[Id] AS [Id1], 
            [Extent2].[TypeName] AS [TypeName], 
            [Extent2].[Name] AS [Name1], 
            [Extent2].[ImgUrl] AS [ImgUrl1], 
            [Extent2].[IsDeleted] AS [IsDeleted1], 
            [Extent2].[CreateDateTime] AS [CreateDateTime1], 
            [Extent3].[Id] AS [Id2], 
            [Extent3].[Num] AS [Num1], 
            [Extent3].[TestTitle] AS [TestTitle], 
            [Extent3].[ExercisesCount] AS [ExercisesCount], 
            [Extent3].[IsDeleted] AS [IsDeleted2], 
            [Extent3].[CreateDateTime] AS [CreateDateTime2], 
            1 AS [C1]
            FROM   [dbo].[T_Activities] AS [Extent1]
            INNER JOIN [dbo].[T_IdNames] AS [Extent2] ON [Extent1].[StatusId] = [Extent2].[Id]
            INNER JOIN [dbo].[T_TestPapers] AS [Extent3] ON [Extent1].[PaperId] = [Extent3].[Id]
            WHERE 0 = [Extent1].[IsDeleted]
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-19 11:46:38,588 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:46:38,588 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:46:38 +08:00

2017-11-19 11:46:38,592 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2017-11-19 11:46:38,592 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:46:38,625 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:46:38 +08:00

2017-11-19 11:46:38,634 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:46:38 +08:00

2017-11-19 11:46:38,643 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Activities] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [GroupBy1]
2017-11-19 11:46:38,643 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:46:38,643 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:46:38 +08:00

2017-11-19 11:46:38,645 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-19 11:46:38,645 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:46:38,648 [23] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:46:38 +08:00

2017-11-19 11:46:41,394 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:46:41 +08:00

2017-11-19 11:46:41,395 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-19 11:46:41,395 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:46:41,395 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-19 11:46:41,395 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:46:41 +08:00

2017-11-19 11:46:41,398 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-19 11:46:41,398 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:46:41,398 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:46:41 +08:00

2017-11-19 11:46:41,398 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:46:41 +08:00

2017-11-19 11:46:41,398 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-19 11:46:41,398 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:46:41,398 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-19 11:46:41,398 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:46:41 +08:00

2017-11-19 11:46:41,399 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-19 11:46:41,399 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:46:41,399 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:46:41 +08:00

2017-11-19 11:46:41,402 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:46:41 +08:00

2017-11-19 11:46:41,418 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-19 11:46:41,418 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:46:41,418 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '11' (Type = Int64, IsNullable = false)

2017-11-19 11:46:41,418 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:46:41 +08:00

2017-11-19 11:46:41,420 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-19 11:46:41,421 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:46:41,421 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:46:41 +08:00

2017-11-19 11:46:41,426 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:46:41 +08:00

2017-11-19 11:46:41,429 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：select u.Id,u.Name,u.NickName,u.PhotoUrl,u.Mobile,u.Gender,u.Address,u.PasswordHash,u.PasswordSalt,u.LoginErrorTimes,u.LastLoginErrorDateTime,u.PassCount,u.WinCount,u.IsWon,u.IsDeleted,u.ChangeTime,u.CreateDateTime from T_Users as u, (select UserId from T_UserActivities where ActivityId=@id) as a where a.UserId=u.Id and u.IsWon=1 and u.IsDeleted=0
2017-11-19 11:46:41,429 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:46:41,429 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @id: '11' (Type = Int64, IsNullable = false)

2017-11-19 11:46:41,429 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:46:41 +08:00

2017-11-19 11:46:41,431 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-19 11:46:41,431 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:46:41,446 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:46:41 +08:00

2017-11-19 11:48:28,329 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:48:28 +08:00

2017-11-19 11:48:28,339 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.T_Activities','dbo.T_TestPapers','dbo.T_IdNames','dbo.T_Users','dbo.T_ActivityImgs','dbo.T_AdminLogs','dbo.T_AdminUsers','dbo.T_Roles','dbo.T_Permissions','dbo.T_Cities','dbo.T_Exercises','dbo.T_Settings','dbo.T_UserActivities','dbo.T_RolePermissions','dbo.T_AdminUserRoles')
    OR t.TABLE_NAME = 'EdmMetadata'
2017-11-19 11:48:28,339 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:48:28,339 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:48:28 +08:00

2017-11-19 11:48:28,340 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: 15

2017-11-19 11:48:28,340 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:48:28,340 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:48:28 +08:00

2017-11-19 11:48:28,364 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:48:28 +08:00

2017-11-19 11:48:28,404 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2017-11-19 11:48:28,404 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:48:28,405 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'Chat.Service.MyDbContext' (Type = String, Size = 4000)

2017-11-19 11:48:28,405 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:48:28 +08:00

2017-11-19 11:48:28,407 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Failed in 1 ms with error: 对象名 'dbo.__MigrationHistory' 无效。

2017-11-19 11:48:28,407 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:48:28,407 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:48:28 +08:00

2017-11-19 11:48:28,408 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:48:28 +08:00

2017-11-19 11:48:28,409 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
    )  AS [GroupBy1]
2017-11-19 11:48:28,409 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:48:28,409 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:48:28 +08:00

2017-11-19 11:48:28,410 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Failed in 1 ms with error: 对象名 'dbo.__MigrationHistory' 无效。

2017-11-19 11:48:28,410 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:48:28,410 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:48:28 +08:00

2017-11-19 11:48:28,430 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:48:28 +08:00

2017-11-19 11:48:28,473 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_AdminUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] = @p__linq__0)
2017-11-19 11:48:28,473 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:48:28,473 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'system' (Type = String, Size = 4000)

2017-11-19 11:48:28,473 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:48:28 +08:00

2017-11-19 11:48:28,475 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-19 11:48:28,475 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:48:28,479 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:48:28 +08:00

2017-11-19 11:48:28,483 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:48:28 +08:00

2017-11-19 11:48:28,485 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[T_AdminUsers] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] = @p__linq__0)
    )  AS [GroupBy1]
2017-11-19 11:48:28,485 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:48:28,485 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'system' (Type = String, Size = 4000)

2017-11-19 11:48:28,485 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:48:28 +08:00

2017-11-19 11:48:28,486 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-19 11:48:28,486 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:48:28,490 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:48:28 +08:00

2017-11-19 11:48:28,490 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:48:28 +08:00

2017-11-19 11:48:28,491 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_AdminUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] = @p__linq__0)
2017-11-19 11:48:28,491 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:48:28,491 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'system' (Type = String, Size = 4000)

2017-11-19 11:48:28,491 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:48:28 +08:00

2017-11-19 11:48:28,492 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-19 11:48:28,492 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:48:28,492 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:48:28 +08:00

2017-11-19 11:48:28,630 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:48:28 +08:00

2017-11-19 11:48:28,665 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-19 11:48:28,665 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:48:28,665 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-19 11:48:28,666 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:48:28 +08:00

2017-11-19 11:48:28,668 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-19 11:48:28,668 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:48:28,672 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:48:28 +08:00

2017-11-19 11:48:28,674 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:48:28 +08:00

2017-11-19 11:48:28,688 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-19 11:48:28,688 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:48:28,689 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-19 11:48:28,689 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:48:28 +08:00

2017-11-19 11:48:28,690 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-19 11:48:28,690 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:48:28,690 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:48:28 +08:00

2017-11-19 11:48:28,696 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:48:28 +08:00

2017-11-19 11:48:28,702 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[C1] AS [C1], 
    [Project1].[Id] AS [Id], 
    [Project1].[TestTitle] AS [TestTitle], 
    [Project1].[ExercisesCount] AS [ExercisesCount], 
    [Project1].[CreateDateTime] AS [CreateDateTime], 
    [Project1].[Num] AS [Num]
    FROM ( SELECT 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Num] AS [Num], 
        [Extent1].[TestTitle] AS [TestTitle], 
        [Extent1].[ExercisesCount] AS [ExercisesCount], 
        [Extent1].[CreateDateTime] AS [CreateDateTime], 
        1 AS [C1]
        FROM [dbo].[T_TestPapers] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [Project1]
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-19 11:48:28,702 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:48:28,702 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:48:28 +08:00

2017-11-19 11:48:28,704 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-19 11:48:28,704 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:48:28,704 [9] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:48:28 +08:00

2017-11-19 11:48:32,022 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:48:32 +08:00

2017-11-19 11:48:32,023 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-19 11:48:32,023 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:48:32,023 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-19 11:48:32,023 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:48:32 +08:00

2017-11-19 11:48:32,026 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-19 11:48:32,026 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:48:32,026 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:48:32 +08:00

2017-11-19 11:48:32,026 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:48:32 +08:00

2017-11-19 11:48:32,026 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-19 11:48:32,026 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:48:32,026 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-19 11:48:32,026 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:48:32 +08:00

2017-11-19 11:48:32,027 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-19 11:48:32,027 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:48:32,027 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:48:32 +08:00

2017-11-19 11:48:32,032 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:48:32 +08:00

2017-11-19 11:48:32,068 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[C1] AS [C1], 
    [Project1].[Id] AS [Id], 
    [Project1].[Num] AS [Num], 
    [Project1].[Name] AS [Name], 
    [Project1].[Description] AS [Description], 
    [Project1].[ImgUrl] AS [ImgUrl], 
    [Project1].[StatusId] AS [StatusId], 
    [Project1].[WeChatUrl] AS [WeChatUrl], 
    [Project1].[PaperId] AS [PaperId], 
    [Project1].[PrizeName] AS [PrizeName], 
    [Project1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Project1].[VisitCount] AS [VisitCount], 
    [Project1].[ForwardCount] AS [ForwardCount], 
    [Project1].[AnswerCount] AS [AnswerCount], 
    [Project1].[HavePrizeCount] AS [HavePrizeCount], 
    [Project1].[PrizeCount] AS [PrizeCount], 
    [Project1].[StartTime] AS [StartTime], 
    [Project1].[ExamEndTime] AS [ExamEndTime], 
    [Project1].[RewardTime] AS [RewardTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime], 
    [Project1].[Id1] AS [Id1], 
    [Project1].[TypeName] AS [TypeName], 
    [Project1].[Name1] AS [Name1], 
    [Project1].[ImgUrl1] AS [ImgUrl1], 
    [Project1].[IsDeleted1] AS [IsDeleted1], 
    [Project1].[CreateDateTime1] AS [CreateDateTime1], 
    [Project1].[Id2] AS [Id2], 
    [Project1].[Num1] AS [Num1], 
    [Project1].[TestTitle] AS [TestTitle], 
    [Project1].[ExercisesCount] AS [ExercisesCount], 
    [Project1].[IsDeleted2] AS [IsDeleted2], 
    [Project1].[CreateDateTime2] AS [CreateDateTime2]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Num] AS [Num], [Project1].[Name] AS [Name], [Project1].[Description] AS [Description], [Project1].[ImgUrl] AS [ImgUrl], [Project1].[StatusId] AS [StatusId], [Project1].[WeChatUrl] AS [WeChatUrl], [Project1].[PaperId] AS [PaperId], [Project1].[PrizeName] AS [PrizeName], [Project1].[PrizeImgUrl] AS [PrizeImgUrl], [Project1].[VisitCount] AS [VisitCount], [Project1].[ForwardCount] AS [ForwardCount], [Project1].[AnswerCount] AS [AnswerCount], [Project1].[HavePrizeCount] AS [HavePrizeCount], [Project1].[PrizeCount] AS [PrizeCount], [Project1].[StartTime] AS [StartTime], [Project1].[ExamEndTime] AS [ExamEndTime], [Project1].[RewardTime] AS [RewardTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], [Project1].[Id1] AS [Id1], [Project1].[TypeName] AS [TypeName], [Project1].[Name1] AS [Name1], [Project1].[ImgUrl1] AS [ImgUrl1], [Project1].[IsDeleted1] AS [IsDeleted1], [Project1].[CreateDateTime1] AS [CreateDateTime1], [Project1].[Id2] AS [Id2], [Project1].[Num1] AS [Num1], [Project1].[TestTitle] AS [TestTitle], [Project1].[ExercisesCount] AS [ExercisesCount], [Project1].[IsDeleted2] AS [IsDeleted2], [Project1].[CreateDateTime2] AS [CreateDateTime2], [Project1].[C1] AS [C1], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Num] AS [Num], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[ImgUrl] AS [ImgUrl], 
            [Extent1].[StatusId] AS [StatusId], 
            [Extent1].[WeChatUrl] AS [WeChatUrl], 
            [Extent1].[PaperId] AS [PaperId], 
            [Extent1].[PrizeName] AS [PrizeName], 
            [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
            [Extent1].[VisitCount] AS [VisitCount], 
            [Extent1].[ForwardCount] AS [ForwardCount], 
            [Extent1].[AnswerCount] AS [AnswerCount], 
            [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
            [Extent1].[PrizeCount] AS [PrizeCount], 
            [Extent1].[StartTime] AS [StartTime], 
            [Extent1].[ExamEndTime] AS [ExamEndTime], 
            [Extent1].[RewardTime] AS [RewardTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime], 
            [Extent2].[Id] AS [Id1], 
            [Extent2].[TypeName] AS [TypeName], 
            [Extent2].[Name] AS [Name1], 
            [Extent2].[ImgUrl] AS [ImgUrl1], 
            [Extent2].[IsDeleted] AS [IsDeleted1], 
            [Extent2].[CreateDateTime] AS [CreateDateTime1], 
            [Extent3].[Id] AS [Id2], 
            [Extent3].[Num] AS [Num1], 
            [Extent3].[TestTitle] AS [TestTitle], 
            [Extent3].[ExercisesCount] AS [ExercisesCount], 
            [Extent3].[IsDeleted] AS [IsDeleted2], 
            [Extent3].[CreateDateTime] AS [CreateDateTime2], 
            1 AS [C1]
            FROM   [dbo].[T_Activities] AS [Extent1]
            INNER JOIN [dbo].[T_IdNames] AS [Extent2] ON [Extent1].[StatusId] = [Extent2].[Id]
            INNER JOIN [dbo].[T_TestPapers] AS [Extent3] ON [Extent1].[PaperId] = [Extent3].[Id]
            WHERE 0 = [Extent1].[IsDeleted]
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-19 11:48:32,068 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:48:32,068 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:48:32 +08:00

2017-11-19 11:48:32,073 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2017-11-19 11:48:32,073 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:48:32,085 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:48:32 +08:00

2017-11-19 11:48:32,093 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:48:32 +08:00

2017-11-19 11:48:32,101 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Activities] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [GroupBy1]
2017-11-19 11:48:32,102 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:48:32,102 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:48:32 +08:00

2017-11-19 11:48:32,102 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-19 11:48:32,102 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:48:32,107 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:48:32 +08:00

2017-11-19 11:48:34,470 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:48:34 +08:00

2017-11-19 11:48:34,471 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-19 11:48:34,471 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:48:34,471 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-19 11:48:34,471 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:48:34 +08:00

2017-11-19 11:48:34,474 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-19 11:48:34,474 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:48:34,474 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:48:34 +08:00

2017-11-19 11:48:34,474 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:48:34 +08:00

2017-11-19 11:48:34,474 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-19 11:48:34,474 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:48:34,474 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-19 11:48:34,474 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:48:34 +08:00

2017-11-19 11:48:34,476 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-19 11:48:34,476 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:48:34,476 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:48:34 +08:00

2017-11-19 11:48:34,479 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:48:34 +08:00

2017-11-19 11:48:34,495 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-19 11:48:34,495 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:48:34,495 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '11' (Type = Int64, IsNullable = false)

2017-11-19 11:48:34,495 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:48:34 +08:00

2017-11-19 11:48:34,498 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-19 11:48:34,498 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:48:34,498 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:48:34 +08:00

2017-11-19 11:48:34,499 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:48:34 +08:00

2017-11-19 11:48:34,499 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：select u.Id,u.Name,u.NickName,u.PhotoUrl,u.Mobile,u.Gender,u.Address,u.PasswordHash,u.PasswordSalt,u.LoginErrorTimes,u.LastLoginErrorDateTime,u.PassCount,u.WinCount,u.IsWon,u.IsDeleted,u.ChangeTime,u.CreateDateTime from T_Users as u, (select UserId from T_UserActivities where ActivityId=@id) as a where a.UserId=u.Id and u.IsWon=1 and u.IsDeleted=0
2017-11-19 11:48:34,499 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:48:34,499 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @id: '11' (Type = Int64, IsNullable = false)

2017-11-19 11:48:34,499 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:48:34 +08:00

2017-11-19 11:48:34,501 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-19 11:48:34,501 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:48:34,510 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:48:34 +08:00

2017-11-19 11:49:53,543 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:49:53 +08:00

2017-11-19 11:49:53,554 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.T_Activities','dbo.T_TestPapers','dbo.T_IdNames','dbo.T_Users','dbo.T_ActivityImgs','dbo.T_AdminLogs','dbo.T_AdminUsers','dbo.T_Roles','dbo.T_Permissions','dbo.T_Cities','dbo.T_Exercises','dbo.T_Settings','dbo.T_UserActivities','dbo.T_RolePermissions','dbo.T_AdminUserRoles')
    OR t.TABLE_NAME = 'EdmMetadata'
2017-11-19 11:49:53,554 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:49:53,554 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:49:53 +08:00

2017-11-19 11:49:53,557 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: 15

2017-11-19 11:49:53,557 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:49:53,557 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:49:53 +08:00

2017-11-19 11:49:53,649 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:49:53 +08:00

2017-11-19 11:49:54,501 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2017-11-19 11:49:54,501 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:49:54,502 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'Chat.Service.MyDbContext' (Type = String, Size = 4000)

2017-11-19 11:49:54,502 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:49:54 +08:00

2017-11-19 11:49:54,505 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Failed in 2 ms with error: 对象名 'dbo.__MigrationHistory' 无效。

2017-11-19 11:49:54,505 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:49:54,507 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:49:54 +08:00

2017-11-19 11:49:54,508 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:49:54 +08:00

2017-11-19 11:49:54,509 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
    )  AS [GroupBy1]
2017-11-19 11:49:54,509 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:49:54,509 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:49:54 +08:00

2017-11-19 11:49:54,512 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Failed in 2 ms with error: 对象名 'dbo.__MigrationHistory' 无效。

2017-11-19 11:49:54,512 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:49:54,512 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:49:54 +08:00

2017-11-19 11:49:54,606 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:49:54 +08:00

2017-11-19 11:49:54,733 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_AdminUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] = @p__linq__0)
2017-11-19 11:49:54,733 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:49:54,733 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'system' (Type = String, Size = 4000)

2017-11-19 11:49:54,733 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:49:54 +08:00

2017-11-19 11:49:54,735 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-19 11:49:54,735 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:49:54,791 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:49:54 +08:00

2017-11-19 11:49:54,796 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:49:54 +08:00

2017-11-19 11:49:54,798 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[T_AdminUsers] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] = @p__linq__0)
    )  AS [GroupBy1]
2017-11-19 11:49:54,798 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:49:54,798 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'system' (Type = String, Size = 4000)

2017-11-19 11:49:54,798 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:49:54 +08:00

2017-11-19 11:49:54,800 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-19 11:49:54,800 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:49:54,803 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:49:54 +08:00

2017-11-19 11:49:54,804 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:49:54 +08:00

2017-11-19 11:49:54,805 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_AdminUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] = @p__linq__0)
2017-11-19 11:49:54,805 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:49:54,805 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'system' (Type = String, Size = 4000)

2017-11-19 11:49:54,805 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:49:54 +08:00

2017-11-19 11:49:54,806 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-19 11:49:54,806 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:49:54,806 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:49:54 +08:00

2017-11-19 11:49:54,956 [12] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:49:54 +08:00

2017-11-19 11:49:55,148 [12] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-19 11:49:55,148 [12] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:49:55,148 [12] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-19 11:49:55,148 [12] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:49:55 +08:00

2017-11-19 11:49:55,150 [12] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-19 11:49:55,150 [12] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:49:55,188 [12] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:49:55 +08:00

2017-11-19 11:49:55,200 [12] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:49:55 +08:00

2017-11-19 11:49:55,258 [12] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-19 11:49:55,258 [12] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:49:55,258 [12] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-19 11:49:55,258 [12] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:49:55 +08:00

2017-11-19 11:49:55,260 [12] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-19 11:49:55,260 [12] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:49:55,262 [12] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:49:55 +08:00

2017-11-19 11:49:55,269 [12] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:49:55 +08:00

2017-11-19 11:49:55,287 [12] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[C1] AS [C1], 
    [Project1].[Id] AS [Id], 
    [Project1].[TestTitle] AS [TestTitle], 
    [Project1].[ExercisesCount] AS [ExercisesCount], 
    [Project1].[CreateDateTime] AS [CreateDateTime], 
    [Project1].[Num] AS [Num]
    FROM ( SELECT 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Num] AS [Num], 
        [Extent1].[TestTitle] AS [TestTitle], 
        [Extent1].[ExercisesCount] AS [ExercisesCount], 
        [Extent1].[CreateDateTime] AS [CreateDateTime], 
        1 AS [C1]
        FROM [dbo].[T_TestPapers] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [Project1]
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-19 11:49:55,287 [12] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:49:55,287 [12] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:49:55 +08:00

2017-11-19 11:49:55,289 [12] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-19 11:49:55,289 [12] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:49:55,289 [12] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:49:55 +08:00

2017-11-19 11:49:56,579 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:49:56 +08:00

2017-11-19 11:49:56,579 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_AdminUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] = @p__linq__0)
2017-11-19 11:49:56,579 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:49:56,579 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'system' (Type = String, Size = 4000)

2017-11-19 11:49:56,579 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:49:56 +08:00

2017-11-19 11:49:56,701 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 120 ms with result: SqlDataReader

2017-11-19 11:49:56,701 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:49:56,701 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:49:56 +08:00

2017-11-19 11:49:56,702 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:49:56 +08:00

2017-11-19 11:49:56,702 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[T_AdminUsers] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] = @p__linq__0)
    )  AS [GroupBy1]
2017-11-19 11:49:56,702 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:49:56,702 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'system' (Type = String, Size = 4000)

2017-11-19 11:49:56,702 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:49:56 +08:00

2017-11-19 11:49:56,705 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-19 11:49:56,705 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:49:56,705 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:49:56 +08:00

2017-11-19 11:49:56,705 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:49:56 +08:00

2017-11-19 11:49:56,706 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_AdminUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] = @p__linq__0)
2017-11-19 11:49:56,706 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:49:56,706 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'system' (Type = String, Size = 4000)

2017-11-19 11:49:56,706 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:49:56 +08:00

2017-11-19 11:49:56,707 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-19 11:49:56,707 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:49:56,708 [21] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:49:56 +08:00

2017-11-19 11:49:59,723 [12] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:49:59 +08:00

2017-11-19 11:49:59,723 [12] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-19 11:49:59,723 [12] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:49:59,723 [12] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-19 11:49:59,723 [12] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:49:59 +08:00

2017-11-19 11:49:59,726 [12] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-19 11:49:59,726 [12] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:49:59,726 [12] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:49:59 +08:00

2017-11-19 11:49:59,727 [12] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:49:59 +08:00

2017-11-19 11:49:59,727 [12] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-19 11:49:59,727 [12] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:49:59,727 [12] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-19 11:49:59,727 [12] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:49:59 +08:00

2017-11-19 11:49:59,728 [12] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-19 11:49:59,728 [12] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:49:59,729 [12] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:49:59 +08:00

2017-11-19 11:49:59,733 [12] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:49:59 +08:00

2017-11-19 11:49:59,789 [12] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[C1] AS [C1], 
    [Project1].[Id] AS [Id], 
    [Project1].[Num] AS [Num], 
    [Project1].[Name] AS [Name], 
    [Project1].[Description] AS [Description], 
    [Project1].[ImgUrl] AS [ImgUrl], 
    [Project1].[StatusId] AS [StatusId], 
    [Project1].[WeChatUrl] AS [WeChatUrl], 
    [Project1].[PaperId] AS [PaperId], 
    [Project1].[PrizeName] AS [PrizeName], 
    [Project1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Project1].[VisitCount] AS [VisitCount], 
    [Project1].[ForwardCount] AS [ForwardCount], 
    [Project1].[AnswerCount] AS [AnswerCount], 
    [Project1].[HavePrizeCount] AS [HavePrizeCount], 
    [Project1].[PrizeCount] AS [PrizeCount], 
    [Project1].[StartTime] AS [StartTime], 
    [Project1].[ExamEndTime] AS [ExamEndTime], 
    [Project1].[RewardTime] AS [RewardTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime], 
    [Project1].[Id1] AS [Id1], 
    [Project1].[TypeName] AS [TypeName], 
    [Project1].[Name1] AS [Name1], 
    [Project1].[ImgUrl1] AS [ImgUrl1], 
    [Project1].[IsDeleted1] AS [IsDeleted1], 
    [Project1].[CreateDateTime1] AS [CreateDateTime1], 
    [Project1].[Id2] AS [Id2], 
    [Project1].[Num1] AS [Num1], 
    [Project1].[TestTitle] AS [TestTitle], 
    [Project1].[ExercisesCount] AS [ExercisesCount], 
    [Project1].[IsDeleted2] AS [IsDeleted2], 
    [Project1].[CreateDateTime2] AS [CreateDateTime2]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Num] AS [Num], [Project1].[Name] AS [Name], [Project1].[Description] AS [Description], [Project1].[ImgUrl] AS [ImgUrl], [Project1].[StatusId] AS [StatusId], [Project1].[WeChatUrl] AS [WeChatUrl], [Project1].[PaperId] AS [PaperId], [Project1].[PrizeName] AS [PrizeName], [Project1].[PrizeImgUrl] AS [PrizeImgUrl], [Project1].[VisitCount] AS [VisitCount], [Project1].[ForwardCount] AS [ForwardCount], [Project1].[AnswerCount] AS [AnswerCount], [Project1].[HavePrizeCount] AS [HavePrizeCount], [Project1].[PrizeCount] AS [PrizeCount], [Project1].[StartTime] AS [StartTime], [Project1].[ExamEndTime] AS [ExamEndTime], [Project1].[RewardTime] AS [RewardTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], [Project1].[Id1] AS [Id1], [Project1].[TypeName] AS [TypeName], [Project1].[Name1] AS [Name1], [Project1].[ImgUrl1] AS [ImgUrl1], [Project1].[IsDeleted1] AS [IsDeleted1], [Project1].[CreateDateTime1] AS [CreateDateTime1], [Project1].[Id2] AS [Id2], [Project1].[Num1] AS [Num1], [Project1].[TestTitle] AS [TestTitle], [Project1].[ExercisesCount] AS [ExercisesCount], [Project1].[IsDeleted2] AS [IsDeleted2], [Project1].[CreateDateTime2] AS [CreateDateTime2], [Project1].[C1] AS [C1], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Num] AS [Num], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[ImgUrl] AS [ImgUrl], 
            [Extent1].[StatusId] AS [StatusId], 
            [Extent1].[WeChatUrl] AS [WeChatUrl], 
            [Extent1].[PaperId] AS [PaperId], 
            [Extent1].[PrizeName] AS [PrizeName], 
            [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
            [Extent1].[VisitCount] AS [VisitCount], 
            [Extent1].[ForwardCount] AS [ForwardCount], 
            [Extent1].[AnswerCount] AS [AnswerCount], 
            [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
            [Extent1].[PrizeCount] AS [PrizeCount], 
            [Extent1].[StartTime] AS [StartTime], 
            [Extent1].[ExamEndTime] AS [ExamEndTime], 
            [Extent1].[RewardTime] AS [RewardTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime], 
            [Extent2].[Id] AS [Id1], 
            [Extent2].[TypeName] AS [TypeName], 
            [Extent2].[Name] AS [Name1], 
            [Extent2].[ImgUrl] AS [ImgUrl1], 
            [Extent2].[IsDeleted] AS [IsDeleted1], 
            [Extent2].[CreateDateTime] AS [CreateDateTime1], 
            [Extent3].[Id] AS [Id2], 
            [Extent3].[Num] AS [Num1], 
            [Extent3].[TestTitle] AS [TestTitle], 
            [Extent3].[ExercisesCount] AS [ExercisesCount], 
            [Extent3].[IsDeleted] AS [IsDeleted2], 
            [Extent3].[CreateDateTime] AS [CreateDateTime2], 
            1 AS [C1]
            FROM   [dbo].[T_Activities] AS [Extent1]
            INNER JOIN [dbo].[T_IdNames] AS [Extent2] ON [Extent1].[StatusId] = [Extent2].[Id]
            INNER JOIN [dbo].[T_TestPapers] AS [Extent3] ON [Extent1].[PaperId] = [Extent3].[Id]
            WHERE 0 = [Extent1].[IsDeleted]
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-19 11:49:59,789 [12] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:49:59,789 [12] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:49:59 +08:00

2017-11-19 11:49:59,793 [12] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2017-11-19 11:49:59,793 [12] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:49:59,828 [12] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:49:59 +08:00

2017-11-19 11:49:59,836 [12] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:49:59 +08:00

2017-11-19 11:49:59,845 [12] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Activities] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [GroupBy1]
2017-11-19 11:49:59,845 [12] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:49:59,845 [12] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:49:59 +08:00

2017-11-19 11:49:59,847 [12] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-19 11:49:59,847 [12] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:49:59,850 [12] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:49:59 +08:00

2017-11-19 11:50:02,273 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:50:02 +08:00

2017-11-19 11:50:02,273 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-19 11:50:02,274 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:50:02,274 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-19 11:50:02,274 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:50:02 +08:00

2017-11-19 11:50:02,276 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-19 11:50:02,277 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:50:02,277 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:50:02 +08:00

2017-11-19 11:50:02,277 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:50:02 +08:00

2017-11-19 11:50:02,277 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-19 11:50:02,277 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:50:02,277 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-19 11:50:02,277 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:50:02 +08:00

2017-11-19 11:50:02,278 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-19 11:50:02,278 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:50:02,278 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:50:02 +08:00

2017-11-19 11:50:02,282 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:50:02 +08:00

2017-11-19 11:50:02,298 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-19 11:50:02,298 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:50:02,298 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '11' (Type = Int64, IsNullable = false)

2017-11-19 11:50:02,298 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:50:02 +08:00

2017-11-19 11:50:02,300 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-19 11:50:02,300 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:50:02,301 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:50:02 +08:00

2017-11-19 11:50:02,306 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/19 11:50:02 +08:00

2017-11-19 11:50:02,309 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：select u.Id,u.Name,u.NickName,u.PhotoUrl,u.Mobile,u.Gender,u.Address,u.PasswordHash,u.PasswordSalt,u.LoginErrorTimes,u.LastLoginErrorDateTime,u.PassCount,u.WinCount,u.IsWon,u.IsDeleted,u.ChangeTime,u.CreateDateTime from T_Users as u, (select UserId from T_UserActivities where ActivityId=@id) as a where a.UserId=u.Id and u.IsWon=1 and u.IsDeleted=0
2017-11-19 11:50:02,309 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:50:02,309 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @id: '11' (Type = Int64, IsNullable = false)

2017-11-19 11:50:02,309 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/19 11:50:02 +08:00

2017-11-19 11:50:02,310 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-19 11:50:02,310 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-19 11:50:02,326 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/19 11:50:02 +08:00

