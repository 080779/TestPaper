2017-11-27 15:14:25,194 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 15:14:25 +08:00

2017-11-27 15:14:25,194 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.T_Activities','dbo.T_TestPapers','dbo.T_IdNames','dbo.T_Users','dbo.T_ActivityImgs','dbo.T_AdminLogs','dbo.T_AdminUsers','dbo.T_Roles','dbo.T_Permissions','dbo.T_Cities','dbo.T_Exercises','dbo.T_Settings','dbo.T_UserActivities','dbo.T_RolePermissions','dbo.T_AdminUserRoles')
    OR t.TABLE_NAME = 'EdmMetadata'
2017-11-27 15:14:25,194 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 15:14:25,194 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 15:14:25 +08:00

2017-11-27 15:14:25,209 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: 15

2017-11-27 15:14:25,209 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 15:14:25,209 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 15:14:25 +08:00

2017-11-27 15:14:25,319 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 15:14:25 +08:00

2017-11-27 15:14:25,412 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2017-11-27 15:14:25,412 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 15:14:25,412 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'Chat.Service.MyDbContext' (Type = String, Size = 4000)

2017-11-27 15:14:25,412 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 15:14:25 +08:00

2017-11-27 15:14:25,428 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Failed in 11 ms with error: 对象名 'dbo.__MigrationHistory' 无效。

2017-11-27 15:14:25,428 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 15:14:25,428 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 15:14:25 +08:00

2017-11-27 15:14:25,428 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 15:14:25 +08:00

2017-11-27 15:14:25,428 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
    )  AS [GroupBy1]
2017-11-27 15:14:25,428 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 15:14:25,428 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 15:14:25 +08:00

2017-11-27 15:14:25,428 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Failed in 1 ms with error: 对象名 'dbo.__MigrationHistory' 无效。

2017-11-27 15:14:25,428 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 15:14:25,428 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 15:14:25 +08:00

2017-11-27 15:14:25,444 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 15:14:25 +08:00

2017-11-27 15:14:25,491 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_AdminUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] = @p__linq__0)
2017-11-27 15:14:25,491 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 15:14:25,491 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'system' (Type = String, Size = 4000)

2017-11-27 15:14:25,491 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 15:14:25 +08:00

2017-11-27 15:14:25,491 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 15:14:25,491 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 15:14:25,506 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 15:14:25 +08:00

2017-11-27 15:14:25,506 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 15:14:25 +08:00

2017-11-27 15:14:25,506 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[T_AdminUsers] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] = @p__linq__0)
    )  AS [GroupBy1]
2017-11-27 15:14:25,506 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 15:14:25,506 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'system' (Type = String, Size = 4000)

2017-11-27 15:14:25,506 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 15:14:25 +08:00

2017-11-27 15:14:25,506 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 15:14:25,506 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 15:14:25,506 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 15:14:25 +08:00

2017-11-27 15:14:25,506 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 15:14:25 +08:00

2017-11-27 15:14:25,506 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_AdminUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] = @p__linq__0)
2017-11-27 15:14:25,506 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 15:14:25,506 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'system' (Type = String, Size = 4000)

2017-11-27 15:14:25,506 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 15:14:25 +08:00

2017-11-27 15:14:25,522 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 15:14:25,522 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 15:14:25,522 [6] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 15:14:25 +08:00

2017-11-27 15:14:25,980 [8] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 15:14:25 +08:00

2017-11-27 15:14:26,015 [8] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 15:14:26,015 [8] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 15:14:26,015 [8] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 15:14:26,015 [8] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 15:14:26 +08:00

2017-11-27 15:14:26,018 [8] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2017-11-27 15:14:26,018 [8] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 15:14:26,022 [8] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 15:14:26 +08:00

2017-11-27 15:14:26,023 [8] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 15:14:26 +08:00

2017-11-27 15:14:26,037 [8] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 15:14:26,037 [8] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 15:14:26,037 [8] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 15:14:26,038 [8] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 15:14:26 +08:00

2017-11-27 15:14:26,040 [8] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 15:14:26,040 [8] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 15:14:26,040 [8] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 15:14:26 +08:00

2017-11-27 15:14:26,045 [8] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 15:14:26 +08:00

2017-11-27 15:14:26,051 [8] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[C1] AS [C1], 
    [Project1].[Id] AS [Id], 
    [Project1].[TestTitle] AS [TestTitle], 
    [Project1].[ExercisesCount] AS [ExercisesCount], 
    [Project1].[CreateDateTime] AS [CreateDateTime], 
    [Project1].[Num] AS [Num]
    FROM ( SELECT 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Num] AS [Num], 
        [Extent1].[TestTitle] AS [TestTitle], 
        [Extent1].[ExercisesCount] AS [ExercisesCount], 
        [Extent1].[CreateDateTime] AS [CreateDateTime], 
        1 AS [C1]
        FROM [dbo].[T_TestPapers] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [Project1]
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 15:14:26,051 [8] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 15:14:26,051 [8] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 15:14:26 +08:00

2017-11-27 15:14:26,053 [8] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 15:14:26,053 [8] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 15:14:26,053 [8] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 15:14:26 +08:00

2017-11-27 15:15:07,184 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 15:15:07 +08:00

2017-11-27 15:15:07,184 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 15:15:07,184 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 15:15:07,184 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 15:15:07,184 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 15:15:07 +08:00

2017-11-27 15:15:07,187 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 15:15:07,187 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 15:15:07,187 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 15:15:07 +08:00

2017-11-27 15:15:07,187 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 15:15:07 +08:00

2017-11-27 15:15:07,188 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 15:15:07,188 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 15:15:07,188 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 15:15:07,188 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 15:15:07 +08:00

2017-11-27 15:15:07,189 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 15:15:07,189 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 15:15:07,189 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 15:15:07 +08:00

2017-11-27 15:15:07,193 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 15:15:07 +08:00

2017-11-27 15:15:07,273 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[C1] AS [C1], 
    [Project1].[Id] AS [Id], 
    [Project1].[Num] AS [Num], 
    [Project1].[Name] AS [Name], 
    [Project1].[Description] AS [Description], 
    [Project1].[ImgUrl] AS [ImgUrl], 
    [Project1].[StatusId] AS [StatusId], 
    [Project1].[WeChatUrl] AS [WeChatUrl], 
    [Project1].[PaperId] AS [PaperId], 
    [Project1].[PrizeName] AS [PrizeName], 
    [Project1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Project1].[VisitCount] AS [VisitCount], 
    [Project1].[ForwardCount] AS [ForwardCount], 
    [Project1].[AnswerCount] AS [AnswerCount], 
    [Project1].[HavePrizeCount] AS [HavePrizeCount], 
    [Project1].[PrizeCount] AS [PrizeCount], 
    [Project1].[StartTime] AS [StartTime], 
    [Project1].[ExamEndTime] AS [ExamEndTime], 
    [Project1].[RewardTime] AS [RewardTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime], 
    [Project1].[Id1] AS [Id1], 
    [Project1].[TypeName] AS [TypeName], 
    [Project1].[Name1] AS [Name1], 
    [Project1].[ImgUrl1] AS [ImgUrl1], 
    [Project1].[IsDeleted1] AS [IsDeleted1], 
    [Project1].[CreateDateTime1] AS [CreateDateTime1], 
    [Project1].[Id2] AS [Id2], 
    [Project1].[Num1] AS [Num1], 
    [Project1].[TestTitle] AS [TestTitle], 
    [Project1].[ExercisesCount] AS [ExercisesCount], 
    [Project1].[IsDeleted2] AS [IsDeleted2], 
    [Project1].[CreateDateTime2] AS [CreateDateTime2]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Num] AS [Num], [Project1].[Name] AS [Name], [Project1].[Description] AS [Description], [Project1].[ImgUrl] AS [ImgUrl], [Project1].[StatusId] AS [StatusId], [Project1].[WeChatUrl] AS [WeChatUrl], [Project1].[PaperId] AS [PaperId], [Project1].[PrizeName] AS [PrizeName], [Project1].[PrizeImgUrl] AS [PrizeImgUrl], [Project1].[VisitCount] AS [VisitCount], [Project1].[ForwardCount] AS [ForwardCount], [Project1].[AnswerCount] AS [AnswerCount], [Project1].[HavePrizeCount] AS [HavePrizeCount], [Project1].[PrizeCount] AS [PrizeCount], [Project1].[StartTime] AS [StartTime], [Project1].[ExamEndTime] AS [ExamEndTime], [Project1].[RewardTime] AS [RewardTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], [Project1].[Id1] AS [Id1], [Project1].[TypeName] AS [TypeName], [Project1].[Name1] AS [Name1], [Project1].[ImgUrl1] AS [ImgUrl1], [Project1].[IsDeleted1] AS [IsDeleted1], [Project1].[CreateDateTime1] AS [CreateDateTime1], [Project1].[Id2] AS [Id2], [Project1].[Num1] AS [Num1], [Project1].[TestTitle] AS [TestTitle], [Project1].[ExercisesCount] AS [ExercisesCount], [Project1].[IsDeleted2] AS [IsDeleted2], [Project1].[CreateDateTime2] AS [CreateDateTime2], [Project1].[C1] AS [C1], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Num] AS [Num], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[ImgUrl] AS [ImgUrl], 
            [Extent1].[StatusId] AS [StatusId], 
            [Extent1].[WeChatUrl] AS [WeChatUrl], 
            [Extent1].[PaperId] AS [PaperId], 
            [Extent1].[PrizeName] AS [PrizeName], 
            [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
            [Extent1].[VisitCount] AS [VisitCount], 
            [Extent1].[ForwardCount] AS [ForwardCount], 
            [Extent1].[AnswerCount] AS [AnswerCount], 
            [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
            [Extent1].[PrizeCount] AS [PrizeCount], 
            [Extent1].[StartTime] AS [StartTime], 
            [Extent1].[ExamEndTime] AS [ExamEndTime], 
            [Extent1].[RewardTime] AS [RewardTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime], 
            [Extent2].[Id] AS [Id1], 
            [Extent2].[TypeName] AS [TypeName], 
            [Extent2].[Name] AS [Name1], 
            [Extent2].[ImgUrl] AS [ImgUrl1], 
            [Extent2].[IsDeleted] AS [IsDeleted1], 
            [Extent2].[CreateDateTime] AS [CreateDateTime1], 
            [Extent3].[Id] AS [Id2], 
            [Extent3].[Num] AS [Num1], 
            [Extent3].[TestTitle] AS [TestTitle], 
            [Extent3].[ExercisesCount] AS [ExercisesCount], 
            [Extent3].[IsDeleted] AS [IsDeleted2], 
            [Extent3].[CreateDateTime] AS [CreateDateTime2], 
            1 AS [C1]
            FROM   [dbo].[T_Activities] AS [Extent1]
            INNER JOIN [dbo].[T_IdNames] AS [Extent2] ON [Extent1].[StatusId] = [Extent2].[Id]
            INNER JOIN [dbo].[T_TestPapers] AS [Extent3] ON [Extent1].[PaperId] = [Extent3].[Id]
            WHERE 0 = [Extent1].[IsDeleted]
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 15:15:07,273 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 15:15:07,273 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 15:15:07 +08:00

2017-11-27 15:15:07,278 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 4 ms with result: SqlDataReader

2017-11-27 15:15:07,278 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 15:15:07,288 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 15:15:07 +08:00

2017-11-27 15:15:07,305 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 15:15:07 +08:00

2017-11-27 15:15:07,313 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Activities] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [GroupBy1]
2017-11-27 15:15:07,313 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 15:15:07,313 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 15:15:07 +08:00

2017-11-27 15:15:07,314 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-27 15:15:07,314 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 15:15:07,317 [5] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 15:15:07 +08:00

2017-11-27 16:00:26,926 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:00:26 +08:00

2017-11-27 16:00:26,942 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.T_Activities','dbo.T_TestPapers','dbo.T_IdNames','dbo.T_Users','dbo.T_ActivityImgs','dbo.T_AdminLogs','dbo.T_AdminUsers','dbo.T_Roles','dbo.T_Permissions','dbo.T_Cities','dbo.T_Exercises','dbo.T_Settings','dbo.T_UserActivities','dbo.T_RolePermissions','dbo.T_AdminUserRoles')
    OR t.TABLE_NAME = 'EdmMetadata'
2017-11-27 16:00:26,942 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:00:26,942 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:00:26 +08:00

2017-11-27 16:00:26,942 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: 15

2017-11-27 16:00:26,942 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:00:26,942 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:00:26 +08:00

2017-11-27 16:00:27,036 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:00:27 +08:00

2017-11-27 16:00:27,837 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2017-11-27 16:00:27,837 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:00:27,838 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'Chat.Service.MyDbContext' (Type = String, Size = 4000)

2017-11-27 16:00:27,838 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:00:27 +08:00

2017-11-27 16:00:27,840 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Failed in 2 ms with error: 对象名 'dbo.__MigrationHistory' 无效。

2017-11-27 16:00:27,840 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:00:27,841 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:00:27 +08:00

2017-11-27 16:00:27,843 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:00:27 +08:00

2017-11-27 16:00:27,844 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
    )  AS [GroupBy1]
2017-11-27 16:00:27,844 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:00:27,844 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:00:27 +08:00

2017-11-27 16:00:27,846 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Failed in 1 ms with error: 对象名 'dbo.__MigrationHistory' 无效。

2017-11-27 16:00:27,846 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:00:27,846 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:00:27 +08:00

2017-11-27 16:00:27,931 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:00:27 +08:00

2017-11-27 16:00:28,039 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_AdminUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] = @p__linq__0)
2017-11-27 16:00:28,039 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:00:28,039 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'system' (Type = String, Size = 4000)

2017-11-27 16:00:28,039 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:00:28 +08:00

2017-11-27 16:00:28,039 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:00:28,039 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:00:28,086 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:00:28 +08:00

2017-11-27 16:00:28,102 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:00:28 +08:00

2017-11-27 16:00:28,102 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[T_AdminUsers] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] = @p__linq__0)
    )  AS [GroupBy1]
2017-11-27 16:00:28,102 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:00:28,102 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'system' (Type = String, Size = 4000)

2017-11-27 16:00:28,102 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:00:28 +08:00

2017-11-27 16:00:28,102 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-27 16:00:28,102 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:00:28,102 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:00:28 +08:00

2017-11-27 16:00:28,102 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:00:28 +08:00

2017-11-27 16:00:28,102 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_AdminUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] = @p__linq__0)
2017-11-27 16:00:28,102 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:00:28,102 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'system' (Type = String, Size = 4000)

2017-11-27 16:00:28,102 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:00:28 +08:00

2017-11-27 16:00:28,102 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:00:28,102 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:00:28,102 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:00:28 +08:00

2017-11-27 16:00:28,245 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:00:28 +08:00

2017-11-27 16:00:28,413 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:00:28,413 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:00:28,413 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:00:28,413 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:00:28 +08:00

2017-11-27 16:00:28,415 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:00:28,415 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:00:28,450 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:00:28 +08:00

2017-11-27 16:00:28,460 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:00:28 +08:00

2017-11-27 16:00:28,512 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:00:28,512 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:00:28,512 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:00:28,513 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:00:28 +08:00

2017-11-27 16:00:28,514 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:00:28,514 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:00:28,516 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:00:28 +08:00

2017-11-27 16:00:28,521 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:00:28 +08:00

2017-11-27 16:00:28,539 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[C1] AS [C1], 
    [Project1].[Id] AS [Id], 
    [Project1].[TestTitle] AS [TestTitle], 
    [Project1].[ExercisesCount] AS [ExercisesCount], 
    [Project1].[CreateDateTime] AS [CreateDateTime], 
    [Project1].[Num] AS [Num]
    FROM ( SELECT 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Num] AS [Num], 
        [Extent1].[TestTitle] AS [TestTitle], 
        [Extent1].[ExercisesCount] AS [ExercisesCount], 
        [Extent1].[CreateDateTime] AS [CreateDateTime], 
        1 AS [C1]
        FROM [dbo].[T_TestPapers] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [Project1]
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:00:28,539 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:00:28,539 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:00:28 +08:00

2017-11-27 16:00:28,540 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:00:28,540 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:00:28,541 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:00:28 +08:00

2017-11-27 16:00:35,265 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:00:35 +08:00

2017-11-27 16:00:35,266 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:00:35,266 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:00:35,266 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:00:35,266 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:00:35 +08:00

2017-11-27 16:00:35,269 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:00:35,269 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:00:35,269 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:00:35 +08:00

2017-11-27 16:00:35,269 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:00:35 +08:00

2017-11-27 16:00:35,270 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:00:35,270 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:00:35,270 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:00:35,270 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:00:35 +08:00

2017-11-27 16:00:35,271 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:00:35,271 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:00:35,271 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:00:35 +08:00

2017-11-27 16:00:35,275 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:00:35 +08:00

2017-11-27 16:00:35,331 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[C1] AS [C1], 
    [Project1].[Id] AS [Id], 
    [Project1].[Num] AS [Num], 
    [Project1].[Name] AS [Name], 
    [Project1].[Description] AS [Description], 
    [Project1].[ImgUrl] AS [ImgUrl], 
    [Project1].[StatusId] AS [StatusId], 
    [Project1].[WeChatUrl] AS [WeChatUrl], 
    [Project1].[PaperId] AS [PaperId], 
    [Project1].[PrizeName] AS [PrizeName], 
    [Project1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Project1].[VisitCount] AS [VisitCount], 
    [Project1].[ForwardCount] AS [ForwardCount], 
    [Project1].[AnswerCount] AS [AnswerCount], 
    [Project1].[HavePrizeCount] AS [HavePrizeCount], 
    [Project1].[PrizeCount] AS [PrizeCount], 
    [Project1].[StartTime] AS [StartTime], 
    [Project1].[ExamEndTime] AS [ExamEndTime], 
    [Project1].[RewardTime] AS [RewardTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime], 
    [Project1].[Id1] AS [Id1], 
    [Project1].[TypeName] AS [TypeName], 
    [Project1].[Name1] AS [Name1], 
    [Project1].[ImgUrl1] AS [ImgUrl1], 
    [Project1].[IsDeleted1] AS [IsDeleted1], 
    [Project1].[CreateDateTime1] AS [CreateDateTime1], 
    [Project1].[Id2] AS [Id2], 
    [Project1].[Num1] AS [Num1], 
    [Project1].[TestTitle] AS [TestTitle], 
    [Project1].[ExercisesCount] AS [ExercisesCount], 
    [Project1].[IsDeleted2] AS [IsDeleted2], 
    [Project1].[CreateDateTime2] AS [CreateDateTime2]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Num] AS [Num], [Project1].[Name] AS [Name], [Project1].[Description] AS [Description], [Project1].[ImgUrl] AS [ImgUrl], [Project1].[StatusId] AS [StatusId], [Project1].[WeChatUrl] AS [WeChatUrl], [Project1].[PaperId] AS [PaperId], [Project1].[PrizeName] AS [PrizeName], [Project1].[PrizeImgUrl] AS [PrizeImgUrl], [Project1].[VisitCount] AS [VisitCount], [Project1].[ForwardCount] AS [ForwardCount], [Project1].[AnswerCount] AS [AnswerCount], [Project1].[HavePrizeCount] AS [HavePrizeCount], [Project1].[PrizeCount] AS [PrizeCount], [Project1].[StartTime] AS [StartTime], [Project1].[ExamEndTime] AS [ExamEndTime], [Project1].[RewardTime] AS [RewardTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], [Project1].[Id1] AS [Id1], [Project1].[TypeName] AS [TypeName], [Project1].[Name1] AS [Name1], [Project1].[ImgUrl1] AS [ImgUrl1], [Project1].[IsDeleted1] AS [IsDeleted1], [Project1].[CreateDateTime1] AS [CreateDateTime1], [Project1].[Id2] AS [Id2], [Project1].[Num1] AS [Num1], [Project1].[TestTitle] AS [TestTitle], [Project1].[ExercisesCount] AS [ExercisesCount], [Project1].[IsDeleted2] AS [IsDeleted2], [Project1].[CreateDateTime2] AS [CreateDateTime2], [Project1].[C1] AS [C1], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Num] AS [Num], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[ImgUrl] AS [ImgUrl], 
            [Extent1].[StatusId] AS [StatusId], 
            [Extent1].[WeChatUrl] AS [WeChatUrl], 
            [Extent1].[PaperId] AS [PaperId], 
            [Extent1].[PrizeName] AS [PrizeName], 
            [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
            [Extent1].[VisitCount] AS [VisitCount], 
            [Extent1].[ForwardCount] AS [ForwardCount], 
            [Extent1].[AnswerCount] AS [AnswerCount], 
            [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
            [Extent1].[PrizeCount] AS [PrizeCount], 
            [Extent1].[StartTime] AS [StartTime], 
            [Extent1].[ExamEndTime] AS [ExamEndTime], 
            [Extent1].[RewardTime] AS [RewardTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime], 
            [Extent2].[Id] AS [Id1], 
            [Extent2].[TypeName] AS [TypeName], 
            [Extent2].[Name] AS [Name1], 
            [Extent2].[ImgUrl] AS [ImgUrl1], 
            [Extent2].[IsDeleted] AS [IsDeleted1], 
            [Extent2].[CreateDateTime] AS [CreateDateTime1], 
            [Extent3].[Id] AS [Id2], 
            [Extent3].[Num] AS [Num1], 
            [Extent3].[TestTitle] AS [TestTitle], 
            [Extent3].[ExercisesCount] AS [ExercisesCount], 
            [Extent3].[IsDeleted] AS [IsDeleted2], 
            [Extent3].[CreateDateTime] AS [CreateDateTime2], 
            1 AS [C1]
            FROM   [dbo].[T_Activities] AS [Extent1]
            INNER JOIN [dbo].[T_IdNames] AS [Extent2] ON [Extent1].[StatusId] = [Extent2].[Id]
            INNER JOIN [dbo].[T_TestPapers] AS [Extent3] ON [Extent1].[PaperId] = [Extent3].[Id]
            WHERE 0 = [Extent1].[IsDeleted]
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:00:35,331 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:00:35,331 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:00:35 +08:00

2017-11-27 16:00:35,335 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 4 ms with result: SqlDataReader

2017-11-27 16:00:35,335 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:00:35,366 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:00:35 +08:00

2017-11-27 16:00:35,374 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:00:35 +08:00

2017-11-27 16:00:35,383 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Activities] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [GroupBy1]
2017-11-27 16:00:35,383 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:00:35,383 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:00:35 +08:00

2017-11-27 16:00:35,385 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:00:35,385 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:00:35,388 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:00:35 +08:00

2017-11-27 16:00:39,539 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:00:39 +08:00

2017-11-27 16:00:39,539 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:00:39,539 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:00:39,540 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:00:39,540 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:00:39 +08:00

2017-11-27 16:00:39,542 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:00:39,542 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:00:39,542 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:00:39 +08:00

2017-11-27 16:00:39,543 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:00:39 +08:00

2017-11-27 16:00:39,543 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:00:39,543 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:00:39,543 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:00:39,543 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:00:39 +08:00

2017-11-27 16:00:39,544 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:00:39,544 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:00:39,544 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:00:39 +08:00

2017-11-27 16:00:39,547 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:00:39 +08:00

2017-11-27 16:00:39,563 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:00:39,563 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:00:39,563 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:00:39,563 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:00:39 +08:00

2017-11-27 16:00:39,566 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:00:39,566 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:00:39,566 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:00:39 +08:00

2017-11-27 16:00:39,571 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:00:39 +08:00

2017-11-27 16:00:39,573 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：select u.Id,u.Name,u.NickName,u.PhotoUrl,u.Mobile,u.Gender,u.Address,u.PasswordHash,u.PasswordSalt,u.LoginErrorTimes,u.LastLoginErrorDateTime,u.PassCount,u.WinCount,u.IsWon,u.IsDeleted,u.ChangeTime,u.CreateDateTime from T_Users as u, (select UserId from T_UserActivities where ActivityId=@id) as a where a.UserId=u.Id and u.LoginErrorTimes=1 and u.IsDeleted=0
2017-11-27 16:00:39,574 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:00:39,574 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @id: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:00:39,574 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:00:39 +08:00

2017-11-27 16:00:39,576 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:00:39,576 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:00:39,606 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:00:39 +08:00

2017-11-27 16:01:17,300 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:01:17 +08:00

2017-11-27 16:01:17,301 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:01:17,301 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:17,301 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:01:17,301 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:01:17 +08:00

2017-11-27 16:01:17,307 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 5 ms with result: SqlDataReader

2017-11-27 16:01:17,307 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:17,307 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:01:17 +08:00

2017-11-27 16:01:17,307 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:01:17 +08:00

2017-11-27 16:01:17,307 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:01:17,307 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:17,307 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:01:17,307 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:01:17 +08:00

2017-11-27 16:01:17,309 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:01:17,309 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:17,309 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:01:17 +08:00

2017-11-27 16:01:17,317 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:01:17 +08:00

2017-11-27 16:01:17,317 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:01:17,318 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:17,318 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:01:17,318 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:01:17 +08:00

2017-11-27 16:01:17,320 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:01:17,320 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:17,320 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:01:17 +08:00

2017-11-27 16:01:17,328 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:01:17 +08:00

2017-11-27 16:01:17,363 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes]) AND (([Extent1].[Name] LIKE @p__linq__1 ESCAPE N'~') OR ([Extent1].[Mobile] LIKE @p__linq__2 ESCAPE '~'))
    )  AS [GroupBy1]
2017-11-27 16:01:17,363 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:17,363 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:01:17,363 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '%f%' (Type = String, Size = 4000)

2017-11-27 16:01:17,363 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__2: '%f%' (Type = AnsiString, Size = 8000)

2017-11-27 16:01:17,363 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:01:17 +08:00

2017-11-27 16:01:17,370 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 6 ms with result: SqlDataReader

2017-11-27 16:01:17,370 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:17,370 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:01:17 +08:00

2017-11-27 16:01:17,371 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:01:17 +08:00

2017-11-27 16:01:17,394 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes]) AND (([Extent1].[Name] LIKE @p__linq__1 ESCAPE N'~') OR ([Extent1].[Mobile] LIKE @p__linq__2 ESCAPE '~'))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:01:17,394 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:17,394 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:01:17,394 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '%f%' (Type = String, Size = 4000)

2017-11-27 16:01:17,394 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__2: '%f%' (Type = AnsiString, Size = 8000)

2017-11-27 16:01:17,394 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:01:17 +08:00

2017-11-27 16:01:17,404 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 9 ms with result: SqlDataReader

2017-11-27 16:01:17,404 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:17,407 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:01:17 +08:00

2017-11-27 16:01:18,664 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:01:18 +08:00

2017-11-27 16:01:18,664 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:01:18,664 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:18,664 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:01:18,664 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:01:18 +08:00

2017-11-27 16:01:18,666 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:01:18,666 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:18,667 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:01:18 +08:00

2017-11-27 16:01:18,667 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:01:18 +08:00

2017-11-27 16:01:18,667 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:01:18,667 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:18,667 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:01:18,667 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:01:18 +08:00

2017-11-27 16:01:18,668 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:01:18,668 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:18,668 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:01:18 +08:00

2017-11-27 16:01:18,669 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:01:18 +08:00

2017-11-27 16:01:18,669 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:01:18,669 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:18,669 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:01:18,669 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:01:18 +08:00

2017-11-27 16:01:18,671 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:01:18,671 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:18,671 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:01:18 +08:00

2017-11-27 16:01:18,672 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:01:18 +08:00

2017-11-27 16:01:18,672 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes]) AND (([Extent1].[Name] LIKE @p__linq__1 ESCAPE N'~') OR ([Extent1].[Mobile] LIKE @p__linq__2 ESCAPE '~'))
    )  AS [GroupBy1]
2017-11-27 16:01:18,673 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:18,673 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:01:18,673 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '%f%' (Type = String, Size = 4000)

2017-11-27 16:01:18,673 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__2: '%f%' (Type = AnsiString, Size = 8000)

2017-11-27 16:01:18,673 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:01:18 +08:00

2017-11-27 16:01:18,674 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:01:18,674 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:18,674 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:01:18 +08:00

2017-11-27 16:01:18,675 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:01:18 +08:00

2017-11-27 16:01:18,676 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes]) AND (([Extent1].[Name] LIKE @p__linq__1 ESCAPE N'~') OR ([Extent1].[Mobile] LIKE @p__linq__2 ESCAPE '~'))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:01:18,676 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:18,676 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:01:18,676 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '%f%' (Type = String, Size = 4000)

2017-11-27 16:01:18,676 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__2: '%f%' (Type = AnsiString, Size = 8000)

2017-11-27 16:01:18,676 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:01:18 +08:00

2017-11-27 16:01:18,678 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:01:18,678 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:18,678 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:01:18 +08:00

2017-11-27 16:01:19,087 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:01:19 +08:00

2017-11-27 16:01:19,088 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:01:19,088 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:19,088 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:01:19,088 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:01:19 +08:00

2017-11-27 16:01:19,090 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:01:19,090 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:19,090 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:01:19 +08:00

2017-11-27 16:01:19,090 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:01:19 +08:00

2017-11-27 16:01:19,090 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:01:19,091 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:19,091 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:01:19,091 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:01:19 +08:00

2017-11-27 16:01:19,092 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:01:19,092 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:19,092 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:01:19 +08:00

2017-11-27 16:01:19,093 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:01:19 +08:00

2017-11-27 16:01:19,093 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:01:19,093 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:19,093 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:01:19,093 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:01:19 +08:00

2017-11-27 16:01:19,095 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:01:19,096 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:19,096 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:01:19 +08:00

2017-11-27 16:01:19,096 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:01:19 +08:00

2017-11-27 16:01:19,097 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes]) AND (([Extent1].[Name] LIKE @p__linq__1 ESCAPE N'~') OR ([Extent1].[Mobile] LIKE @p__linq__2 ESCAPE '~'))
    )  AS [GroupBy1]
2017-11-27 16:01:19,097 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:19,097 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:01:19,097 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '%f%' (Type = String, Size = 4000)

2017-11-27 16:01:19,097 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__2: '%f%' (Type = AnsiString, Size = 8000)

2017-11-27 16:01:19,097 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:01:19 +08:00

2017-11-27 16:01:19,098 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:01:19,098 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:19,098 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:01:19 +08:00

2017-11-27 16:01:19,099 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:01:19 +08:00

2017-11-27 16:01:19,099 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes]) AND (([Extent1].[Name] LIKE @p__linq__1 ESCAPE N'~') OR ([Extent1].[Mobile] LIKE @p__linq__2 ESCAPE '~'))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:01:19,099 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:19,099 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:01:19,099 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '%f%' (Type = String, Size = 4000)

2017-11-27 16:01:19,100 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__2: '%f%' (Type = AnsiString, Size = 8000)

2017-11-27 16:01:19,100 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:01:19 +08:00

2017-11-27 16:01:19,102 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:01:19,102 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:19,102 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:01:19 +08:00

2017-11-27 16:01:19,283 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:01:19 +08:00

2017-11-27 16:01:19,283 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:01:19,284 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:19,284 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:01:19,284 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:01:19 +08:00

2017-11-27 16:01:19,287 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:01:19,287 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:19,287 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:01:19 +08:00

2017-11-27 16:01:19,287 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:01:19 +08:00

2017-11-27 16:01:19,287 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:01:19,287 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:19,287 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:01:19,287 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:01:19 +08:00

2017-11-27 16:01:19,289 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:01:19,289 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:19,289 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:01:19 +08:00

2017-11-27 16:01:19,289 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:01:19 +08:00

2017-11-27 16:01:19,289 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:01:19,290 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:19,290 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:01:19,290 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:01:19 +08:00

2017-11-27 16:01:19,292 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:01:19,292 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:19,292 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:01:19 +08:00

2017-11-27 16:01:19,292 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:01:19 +08:00

2017-11-27 16:01:19,294 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes]) AND (([Extent1].[Name] LIKE @p__linq__1 ESCAPE N'~') OR ([Extent1].[Mobile] LIKE @p__linq__2 ESCAPE '~'))
    )  AS [GroupBy1]
2017-11-27 16:01:19,294 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:19,294 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:01:19,294 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '%f%' (Type = String, Size = 4000)

2017-11-27 16:01:19,294 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__2: '%f%' (Type = AnsiString, Size = 8000)

2017-11-27 16:01:19,294 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:01:19 +08:00

2017-11-27 16:01:19,296 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:01:19,296 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:19,296 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:01:19 +08:00

2017-11-27 16:01:19,296 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:01:19 +08:00

2017-11-27 16:01:19,297 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes]) AND (([Extent1].[Name] LIKE @p__linq__1 ESCAPE N'~') OR ([Extent1].[Mobile] LIKE @p__linq__2 ESCAPE '~'))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:01:19,297 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:19,297 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:01:19,297 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '%f%' (Type = String, Size = 4000)

2017-11-27 16:01:19,297 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__2: '%f%' (Type = AnsiString, Size = 8000)

2017-11-27 16:01:19,297 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:01:19 +08:00

2017-11-27 16:01:19,300 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:01:19,300 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:19,300 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:01:19 +08:00

2017-11-27 16:01:20,454 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:01:20 +08:00

2017-11-27 16:01:20,455 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:01:20,455 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:20,455 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:01:20,455 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:01:20 +08:00

2017-11-27 16:01:20,458 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:01:20,458 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:20,458 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:01:20 +08:00

2017-11-27 16:01:20,458 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:01:20 +08:00

2017-11-27 16:01:20,458 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:01:20,458 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:20,458 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:01:20,458 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:01:20 +08:00

2017-11-27 16:01:20,459 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:01:20,459 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:20,459 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:01:20 +08:00

2017-11-27 16:01:20,460 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:01:20 +08:00

2017-11-27 16:01:20,460 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:01:20,460 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:20,460 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:01:20,460 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:01:20 +08:00

2017-11-27 16:01:20,463 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:01:20,463 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:20,463 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:01:20 +08:00

2017-11-27 16:01:20,464 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:01:20 +08:00

2017-11-27 16:01:20,465 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes]) AND (([Extent1].[Name] LIKE @p__linq__1 ESCAPE N'~') OR ([Extent1].[Mobile] LIKE @p__linq__2 ESCAPE '~'))
    )  AS [GroupBy1]
2017-11-27 16:01:20,465 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:20,465 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:01:20,465 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '%f%' (Type = String, Size = 4000)

2017-11-27 16:01:20,465 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__2: '%f%' (Type = AnsiString, Size = 8000)

2017-11-27 16:01:20,465 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:01:20 +08:00

2017-11-27 16:01:20,466 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:01:20,466 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:20,466 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:01:20 +08:00

2017-11-27 16:01:20,467 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:01:20 +08:00

2017-11-27 16:01:20,468 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes]) AND (([Extent1].[Name] LIKE @p__linq__1 ESCAPE N'~') OR ([Extent1].[Mobile] LIKE @p__linq__2 ESCAPE '~'))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:01:20,468 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:20,468 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:01:20,468 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '%f%' (Type = String, Size = 4000)

2017-11-27 16:01:20,468 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__2: '%f%' (Type = AnsiString, Size = 8000)

2017-11-27 16:01:20,468 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:01:20 +08:00

2017-11-27 16:01:20,471 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:01:20,471 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:20,471 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:01:20 +08:00

2017-11-27 16:01:23,644 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:01:23 +08:00

2017-11-27 16:01:23,644 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:01:23,644 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:23,645 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:01:23,645 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:01:23 +08:00

2017-11-27 16:01:23,647 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:01:23,647 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:23,647 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:01:23 +08:00

2017-11-27 16:01:23,648 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:01:23 +08:00

2017-11-27 16:01:23,648 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:01:23,648 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:23,648 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:01:23,648 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:01:23 +08:00

2017-11-27 16:01:23,649 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:01:23,649 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:23,649 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:01:23 +08:00

2017-11-27 16:01:23,650 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:01:23 +08:00

2017-11-27 16:01:23,650 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:01:23,650 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:23,650 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:01:23,650 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:01:23 +08:00

2017-11-27 16:01:23,653 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:01:23,653 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:23,653 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:01:23 +08:00

2017-11-27 16:01:23,653 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:01:23 +08:00

2017-11-27 16:01:23,654 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes]) AND (([Extent1].[Name] LIKE @p__linq__1 ESCAPE N'~') OR ([Extent1].[Mobile] LIKE @p__linq__2 ESCAPE '~'))
    )  AS [GroupBy1]
2017-11-27 16:01:23,654 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:23,654 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:01:23,654 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '%f%' (Type = String, Size = 4000)

2017-11-27 16:01:23,654 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__2: '%f%' (Type = AnsiString, Size = 8000)

2017-11-27 16:01:23,654 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:01:23 +08:00

2017-11-27 16:01:23,656 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:01:23,656 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:23,656 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:01:23 +08:00

2017-11-27 16:01:23,656 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:01:23 +08:00

2017-11-27 16:01:23,657 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes]) AND (([Extent1].[Name] LIKE @p__linq__1 ESCAPE N'~') OR ([Extent1].[Mobile] LIKE @p__linq__2 ESCAPE '~'))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:01:23,657 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:23,657 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:01:23,657 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '%f%' (Type = String, Size = 4000)

2017-11-27 16:01:23,657 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__2: '%f%' (Type = AnsiString, Size = 8000)

2017-11-27 16:01:23,657 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:01:23 +08:00

2017-11-27 16:01:23,660 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:01:23,660 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:23,660 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:01:23 +08:00

2017-11-27 16:01:26,655 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:01:26 +08:00

2017-11-27 16:01:26,656 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:01:26,656 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:26,656 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:01:26,656 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:01:26 +08:00

2017-11-27 16:01:26,658 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:01:26,658 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:26,658 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:01:26 +08:00

2017-11-27 16:01:26,659 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:01:26 +08:00

2017-11-27 16:01:26,659 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:01:26,659 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:26,659 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:01:26,659 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:01:26 +08:00

2017-11-27 16:01:26,660 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:01:26,660 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:26,660 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:01:26 +08:00

2017-11-27 16:01:26,661 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:01:26 +08:00

2017-11-27 16:01:26,661 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:01:26,661 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:26,661 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:01:26,661 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:01:26 +08:00

2017-11-27 16:01:26,664 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:01:26,664 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:26,664 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:01:26 +08:00

2017-11-27 16:01:26,664 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:01:26 +08:00

2017-11-27 16:01:26,668 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-27 16:01:26,668 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:26,668 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:01:26,668 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:01:26 +08:00

2017-11-27 16:01:26,672 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 4 ms with result: SqlDataReader

2017-11-27 16:01:26,672 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:26,672 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:01:26 +08:00

2017-11-27 16:01:26,673 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:01:26 +08:00

2017-11-27 16:01:26,677 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:01:26,677 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:26,677 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:01:26,677 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:01:26 +08:00

2017-11-27 16:01:26,685 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 7 ms with result: SqlDataReader

2017-11-27 16:01:26,685 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:26,685 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:01:26 +08:00

2017-11-27 16:01:27,101 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:01:27 +08:00

2017-11-27 16:01:27,101 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:01:27,101 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:27,101 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:01:27,102 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:01:27 +08:00

2017-11-27 16:01:27,104 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:01:27,105 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:27,105 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:01:27 +08:00

2017-11-27 16:01:27,105 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:01:27 +08:00

2017-11-27 16:01:27,105 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:01:27,105 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:27,105 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:01:27,105 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:01:27 +08:00

2017-11-27 16:01:27,106 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:01:27,106 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:27,106 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:01:27 +08:00

2017-11-27 16:01:27,107 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:01:27 +08:00

2017-11-27 16:01:27,107 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:01:27,107 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:27,107 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:01:27,107 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:01:27 +08:00

2017-11-27 16:01:27,110 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:01:27,110 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:27,110 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:01:27 +08:00

2017-11-27 16:01:27,110 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:01:27 +08:00

2017-11-27 16:01:27,111 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-27 16:01:27,111 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:27,111 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:01:27,111 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:01:27 +08:00

2017-11-27 16:01:27,112 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-27 16:01:27,112 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:27,112 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:01:27 +08:00

2017-11-27 16:01:27,112 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:01:27 +08:00

2017-11-27 16:01:27,112 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:01:27,112 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:27,112 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:01:27,112 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:01:27 +08:00

2017-11-27 16:01:27,115 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:01:27,115 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:27,115 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:01:27 +08:00

2017-11-27 16:01:29,624 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:01:29 +08:00

2017-11-27 16:01:29,625 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:01:29,625 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:29,625 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:01:29,625 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:01:29 +08:00

2017-11-27 16:01:29,627 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:01:29,627 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:29,628 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:01:29 +08:00

2017-11-27 16:01:29,628 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:01:29 +08:00

2017-11-27 16:01:29,628 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:01:29,628 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:29,628 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:01:29,628 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:01:29 +08:00

2017-11-27 16:01:29,629 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:01:29,629 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:29,629 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:01:29 +08:00

2017-11-27 16:01:29,630 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:01:29 +08:00

2017-11-27 16:01:29,630 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:01:29,630 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:29,630 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:01:29,630 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:01:29 +08:00

2017-11-27 16:01:29,633 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:01:29,633 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:29,633 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:01:29 +08:00

2017-11-27 16:01:29,633 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:01:29 +08:00

2017-11-27 16:01:29,634 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-27 16:01:29,634 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:29,634 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:01:29,634 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:01:29 +08:00

2017-11-27 16:01:29,635 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-27 16:01:29,635 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:29,635 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:01:29 +08:00

2017-11-27 16:01:29,635 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:01:29 +08:00

2017-11-27 16:01:29,635 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:01:29,636 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:29,636 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:01:29,636 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:01:29 +08:00

2017-11-27 16:01:29,638 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:01:29,638 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:29,638 [34] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:01:29 +08:00

2017-11-27 16:01:37,042 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:01:37 +08:00

2017-11-27 16:01:37,044 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:01:37,044 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:37,044 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:01:37,044 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:01:37 +08:00

2017-11-27 16:01:37,047 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:01:37,047 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:37,047 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:01:37 +08:00

2017-11-27 16:01:37,047 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:01:37 +08:00

2017-11-27 16:01:37,047 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:01:37,047 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:37,047 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:01:37,047 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:01:37 +08:00

2017-11-27 16:01:37,048 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:01:37,048 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:37,048 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:01:37 +08:00

2017-11-27 16:01:37,049 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:01:37 +08:00

2017-11-27 16:01:37,049 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:01:37,049 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:37,049 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:01:37,049 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:01:37 +08:00

2017-11-27 16:01:37,052 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:01:37,052 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:37,052 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:01:37 +08:00

2017-11-27 16:01:37,052 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:01:37 +08:00

2017-11-27 16:01:37,054 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes]) AND (([Extent1].[Name] LIKE @p__linq__1 ESCAPE N'~') OR ([Extent1].[Mobile] LIKE @p__linq__2 ESCAPE '~'))
    )  AS [GroupBy1]
2017-11-27 16:01:37,054 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:37,054 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:01:37,054 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '%f%' (Type = String, Size = 4000)

2017-11-27 16:01:37,054 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__2: '%f%' (Type = AnsiString, Size = 8000)

2017-11-27 16:01:37,054 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:01:37 +08:00

2017-11-27 16:01:37,055 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:01:37,055 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:37,055 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:01:37 +08:00

2017-11-27 16:01:37,056 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:01:37 +08:00

2017-11-27 16:01:37,057 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes]) AND (([Extent1].[Name] LIKE @p__linq__1 ESCAPE N'~') OR ([Extent1].[Mobile] LIKE @p__linq__2 ESCAPE '~'))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:01:37,057 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:37,057 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:01:37,057 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '%f%' (Type = String, Size = 4000)

2017-11-27 16:01:37,057 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__2: '%f%' (Type = AnsiString, Size = 8000)

2017-11-27 16:01:37,057 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:01:37 +08:00

2017-11-27 16:01:37,060 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:01:37,060 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:37,060 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:01:37 +08:00

2017-11-27 16:01:50,983 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:01:50 +08:00

2017-11-27 16:01:50,983 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:01:50,983 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:50,983 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:01:50,983 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:01:50 +08:00

2017-11-27 16:01:50,986 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:01:50,986 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:50,986 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:01:50 +08:00

2017-11-27 16:01:50,986 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:01:50 +08:00

2017-11-27 16:01:50,986 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:01:50,986 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:50,986 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:01:50,986 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:01:50 +08:00

2017-11-27 16:01:50,988 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:01:50,988 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:50,988 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:01:50 +08:00

2017-11-27 16:01:50,988 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:01:50 +08:00

2017-11-27 16:01:50,989 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:01:50,989 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:50,989 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:01:50,989 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:01:50 +08:00

2017-11-27 16:01:50,991 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:01:50,991 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:50,992 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:01:50 +08:00

2017-11-27 16:01:50,992 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:01:50 +08:00

2017-11-27 16:01:50,993 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes]) AND (([Extent1].[Name] LIKE @p__linq__1 ESCAPE N'~') OR ([Extent1].[Mobile] LIKE @p__linq__2 ESCAPE '~'))
    )  AS [GroupBy1]
2017-11-27 16:01:50,993 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:50,993 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:01:50,993 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '%f%' (Type = String, Size = 4000)

2017-11-27 16:01:50,993 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__2: '%f%' (Type = AnsiString, Size = 8000)

2017-11-27 16:01:50,993 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:01:50 +08:00

2017-11-27 16:01:50,995 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:01:50,995 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:50,995 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:01:50 +08:00

2017-11-27 16:01:50,995 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:01:50 +08:00

2017-11-27 16:01:50,996 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes]) AND (([Extent1].[Name] LIKE @p__linq__1 ESCAPE N'~') OR ([Extent1].[Mobile] LIKE @p__linq__2 ESCAPE '~'))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:01:50,996 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:50,996 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:01:50,996 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '%f%' (Type = String, Size = 4000)

2017-11-27 16:01:50,996 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__2: '%f%' (Type = AnsiString, Size = 8000)

2017-11-27 16:01:50,996 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:01:50 +08:00

2017-11-27 16:01:50,999 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:01:50,999 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:01:50,999 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:01:50 +08:00

2017-11-27 16:02:03,195 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:02:03 +08:00

2017-11-27 16:02:03,195 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:02:03,195 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:03,195 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:02:03,195 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:02:03 +08:00

2017-11-27 16:02:03,201 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 5 ms with result: SqlDataReader

2017-11-27 16:02:03,201 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:03,201 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:02:03 +08:00

2017-11-27 16:02:03,201 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:02:03 +08:00

2017-11-27 16:02:03,201 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:02:03,201 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:03,201 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:02:03,201 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:02:03 +08:00

2017-11-27 16:02:03,206 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 5 ms with result: SqlDataReader

2017-11-27 16:02:03,206 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:03,206 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:02:03 +08:00

2017-11-27 16:02:03,207 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:02:03 +08:00

2017-11-27 16:02:03,207 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:02:03,207 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:03,207 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:02:03,207 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:02:03 +08:00

2017-11-27 16:02:03,212 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 4 ms with result: SqlDataReader

2017-11-27 16:02:03,212 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:03,212 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:02:03 +08:00

2017-11-27 16:02:03,213 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:02:03 +08:00

2017-11-27 16:02:03,214 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes]) AND (([Extent1].[Name] LIKE @p__linq__1 ESCAPE N'~') OR ([Extent1].[Mobile] LIKE @p__linq__2 ESCAPE '~'))
    )  AS [GroupBy1]
2017-11-27 16:02:03,214 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:03,214 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:02:03,214 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '%f%' (Type = String, Size = 4000)

2017-11-27 16:02:03,214 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__2: '%f%' (Type = AnsiString, Size = 8000)

2017-11-27 16:02:03,214 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:02:03 +08:00

2017-11-27 16:02:03,219 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 4 ms with result: SqlDataReader

2017-11-27 16:02:03,219 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:03,219 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:02:03 +08:00

2017-11-27 16:02:03,219 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:02:03 +08:00

2017-11-27 16:02:03,220 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes]) AND (([Extent1].[Name] LIKE @p__linq__1 ESCAPE N'~') OR ([Extent1].[Mobile] LIKE @p__linq__2 ESCAPE '~'))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:02:03,220 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:03,220 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:02:03,220 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '%f%' (Type = String, Size = 4000)

2017-11-27 16:02:03,220 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__2: '%f%' (Type = AnsiString, Size = 8000)

2017-11-27 16:02:03,220 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:02:03 +08:00

2017-11-27 16:02:03,225 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 4 ms with result: SqlDataReader

2017-11-27 16:02:03,225 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:03,225 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:02:03 +08:00

2017-11-27 16:02:44,850 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:02:44 +08:00

2017-11-27 16:02:44,850 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:02:44,850 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:44,850 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:02:44,850 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:02:44 +08:00

2017-11-27 16:02:44,853 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:02:44,853 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:44,853 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:02:44 +08:00

2017-11-27 16:02:44,853 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:02:44 +08:00

2017-11-27 16:02:44,853 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:02:44,853 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:44,853 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:02:44,853 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:02:44 +08:00

2017-11-27 16:02:44,854 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:02:44,854 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:44,855 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:02:44 +08:00

2017-11-27 16:02:44,855 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:02:44 +08:00

2017-11-27 16:02:44,855 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:02:44,856 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:44,856 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:02:44,856 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:02:44 +08:00

2017-11-27 16:02:44,858 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:02:44,858 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:44,858 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:02:44 +08:00

2017-11-27 16:02:44,859 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:02:44 +08:00

2017-11-27 16:02:44,860 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes]) AND (([Extent1].[Name] LIKE @p__linq__1 ESCAPE N'~') OR ([Extent1].[Mobile] LIKE @p__linq__2 ESCAPE '~'))
    )  AS [GroupBy1]
2017-11-27 16:02:44,860 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:44,860 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:02:44,860 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '%f%' (Type = String, Size = 4000)

2017-11-27 16:02:44,860 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__2: '%f%' (Type = AnsiString, Size = 8000)

2017-11-27 16:02:44,860 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:02:44 +08:00

2017-11-27 16:02:44,862 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:02:44,862 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:44,862 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:02:44 +08:00

2017-11-27 16:02:44,862 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:02:44 +08:00

2017-11-27 16:02:44,863 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes]) AND (([Extent1].[Name] LIKE @p__linq__1 ESCAPE N'~') OR ([Extent1].[Mobile] LIKE @p__linq__2 ESCAPE '~'))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:02:44,863 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:44,863 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:02:44,863 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '%f%' (Type = String, Size = 4000)

2017-11-27 16:02:44,863 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__2: '%f%' (Type = AnsiString, Size = 8000)

2017-11-27 16:02:44,863 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:02:44 +08:00

2017-11-27 16:02:44,865 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:02:44,865 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:44,866 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:02:44 +08:00

2017-11-27 16:02:50,366 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:02:50 +08:00

2017-11-27 16:02:50,366 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:02:50,366 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:50,366 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:02:50,366 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:02:50 +08:00

2017-11-27 16:02:50,369 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:02:50,369 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:50,369 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:02:50 +08:00

2017-11-27 16:02:50,369 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:02:50 +08:00

2017-11-27 16:02:50,369 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:02:50,369 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:50,369 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:02:50,370 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:02:50 +08:00

2017-11-27 16:02:50,371 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:02:50,371 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:50,371 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:02:50 +08:00

2017-11-27 16:02:50,372 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:02:50 +08:00

2017-11-27 16:02:50,372 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:02:50,372 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:50,372 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:02:50,372 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:02:50 +08:00

2017-11-27 16:02:50,374 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:02:50,374 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:50,375 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:02:50 +08:00

2017-11-27 16:02:50,375 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:02:50 +08:00

2017-11-27 16:02:50,375 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-27 16:02:50,375 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:50,375 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:02:50,375 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:02:50 +08:00

2017-11-27 16:02:50,376 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:02:50,377 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:50,377 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:02:50 +08:00

2017-11-27 16:02:50,377 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:02:50 +08:00

2017-11-27 16:02:50,377 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:02:50,377 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:50,377 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:02:50,377 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:02:50 +08:00

2017-11-27 16:02:50,380 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:02:50,380 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:50,380 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:02:50 +08:00

2017-11-27 16:02:51,005 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:02:51 +08:00

2017-11-27 16:02:51,006 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:02:51,006 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:51,006 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:02:51,006 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:02:51 +08:00

2017-11-27 16:02:51,008 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:02:51,009 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:51,009 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:02:51 +08:00

2017-11-27 16:02:51,009 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:02:51 +08:00

2017-11-27 16:02:51,009 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:02:51,009 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:51,009 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:02:51,009 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:02:51 +08:00

2017-11-27 16:02:51,010 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:02:51,010 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:51,010 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:02:51 +08:00

2017-11-27 16:02:51,011 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:02:51 +08:00

2017-11-27 16:02:51,011 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:02:51,011 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:51,011 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:02:51,011 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:02:51 +08:00

2017-11-27 16:02:51,014 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:02:51,014 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:51,014 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:02:51 +08:00

2017-11-27 16:02:51,014 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:02:51 +08:00

2017-11-27 16:02:51,015 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-27 16:02:51,015 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:51,015 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:02:51,015 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:02:51 +08:00

2017-11-27 16:02:51,016 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:02:51,016 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:51,016 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:02:51 +08:00

2017-11-27 16:02:51,016 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:02:51 +08:00

2017-11-27 16:02:51,016 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:02:51,016 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:51,016 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:02:51,017 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:02:51 +08:00

2017-11-27 16:02:51,019 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:02:51,019 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:51,019 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:02:51 +08:00

2017-11-27 16:02:51,212 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:02:51 +08:00

2017-11-27 16:02:51,213 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:02:51,213 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:51,213 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:02:51,213 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:02:51 +08:00

2017-11-27 16:02:51,215 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:02:51,215 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:51,216 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:02:51 +08:00

2017-11-27 16:02:51,216 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:02:51 +08:00

2017-11-27 16:02:51,216 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:02:51,216 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:51,216 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:02:51,216 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:02:51 +08:00

2017-11-27 16:02:51,217 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:02:51,217 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:51,217 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:02:51 +08:00

2017-11-27 16:02:51,217 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:02:51 +08:00

2017-11-27 16:02:51,218 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:02:51,218 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:51,218 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:02:51,218 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:02:51 +08:00

2017-11-27 16:02:51,220 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:02:51,220 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:51,220 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:02:51 +08:00

2017-11-27 16:02:51,221 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:02:51 +08:00

2017-11-27 16:02:51,221 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-27 16:02:51,221 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:51,221 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:02:51,221 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:02:51 +08:00

2017-11-27 16:02:51,222 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-27 16:02:51,222 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:51,222 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:02:51 +08:00

2017-11-27 16:02:51,222 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:02:51 +08:00

2017-11-27 16:02:51,223 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:02:51,223 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:51,223 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:02:51,223 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:02:51 +08:00

2017-11-27 16:02:51,225 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:02:51,225 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:51,225 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:02:51 +08:00

2017-11-27 16:02:55,687 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:02:55 +08:00

2017-11-27 16:02:55,687 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:02:55,687 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:55,687 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:02:55,687 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:02:55 +08:00

2017-11-27 16:02:55,690 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:02:55,690 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:55,690 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:02:55 +08:00

2017-11-27 16:02:55,690 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:02:55 +08:00

2017-11-27 16:02:55,690 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:02:55,690 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:55,690 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:02:55,690 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:02:55 +08:00

2017-11-27 16:02:55,692 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:02:55,692 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:55,692 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:02:55 +08:00

2017-11-27 16:02:55,692 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:02:55 +08:00

2017-11-27 16:02:55,693 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:02:55,693 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:55,693 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:02:55,693 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:02:55 +08:00

2017-11-27 16:02:55,695 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:02:55,695 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:55,696 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:02:55 +08:00

2017-11-27 16:02:55,696 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:02:55 +08:00

2017-11-27 16:02:55,697 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-27 16:02:55,697 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:55,697 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:02:55,697 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:02:55 +08:00

2017-11-27 16:02:55,698 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:02:55,698 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:55,698 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:02:55 +08:00

2017-11-27 16:02:55,698 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:02:55 +08:00

2017-11-27 16:02:55,699 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:02:55,699 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:55,699 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:02:55,699 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:02:55 +08:00

2017-11-27 16:02:55,701 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:02:55,701 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:02:55,701 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:02:55 +08:00

2017-11-27 16:03:53,091 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:03:53 +08:00

2017-11-27 16:03:53,094 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:03:53,094 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:03:53,094 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:03:53,094 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:03:53 +08:00

2017-11-27 16:03:53,097 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:03:53,097 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:03:53,097 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:03:53 +08:00

2017-11-27 16:03:53,097 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:03:53 +08:00

2017-11-27 16:03:53,098 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:03:53,098 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:03:53,098 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:03:53,098 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:03:53 +08:00

2017-11-27 16:03:53,099 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:03:53,099 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:03:53,099 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:03:53 +08:00

2017-11-27 16:03:53,100 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:03:53 +08:00

2017-11-27 16:03:53,100 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:03:53,100 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:03:53,100 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:03:53,100 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:03:53 +08:00

2017-11-27 16:03:53,103 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:03:53,103 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:03:53,103 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:03:53 +08:00

2017-11-27 16:03:53,103 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:03:53 +08:00

2017-11-27 16:03:53,103 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：select u.Id,u.Name,u.NickName,u.PhotoUrl,u.Mobile,u.Gender,u.Address,u.PasswordHash,u.PasswordSalt,u.LoginErrorTimes,u.LastLoginErrorDateTime,u.PassCount,u.WinCount,u.IsWon,u.IsDeleted,u.ChangeTime,u.CreateDateTime from T_Users as u, (select UserId from T_UserActivities where ActivityId=@id) as a where a.UserId=u.Id and u.LoginErrorTimes=1 and u.IsDeleted=0
2017-11-27 16:03:53,103 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:03:53,103 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @id: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:03:53,103 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:03:53 +08:00

2017-11-27 16:03:53,105 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:03:53,105 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:03:53,107 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:03:53 +08:00

2017-11-27 16:03:58,741 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:03:58 +08:00

2017-11-27 16:03:58,743 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:03:58,743 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:03:58,743 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:03:58,743 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:03:58 +08:00

2017-11-27 16:03:58,746 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:03:58,746 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:03:58,746 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:03:58 +08:00

2017-11-27 16:03:58,747 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:03:58 +08:00

2017-11-27 16:03:58,747 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:03:58,747 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:03:58,747 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:03:58,747 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:03:58 +08:00

2017-11-27 16:03:58,748 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:03:58,748 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:03:58,748 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:03:58 +08:00

2017-11-27 16:03:58,749 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:03:58 +08:00

2017-11-27 16:03:58,749 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:03:58,749 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:03:58,749 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:03:58,749 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:03:58 +08:00

2017-11-27 16:03:58,752 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:03:58,752 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:03:58,752 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:03:58 +08:00

2017-11-27 16:03:58,753 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:03:58 +08:00

2017-11-27 16:03:58,753 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-27 16:03:58,753 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:03:58,753 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:03:58,753 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:03:58 +08:00

2017-11-27 16:03:58,754 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-27 16:03:58,754 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:03:58,754 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:03:58 +08:00

2017-11-27 16:03:58,754 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:03:58 +08:00

2017-11-27 16:03:58,755 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:03:58,755 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:03:58,755 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:03:58,755 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:03:58 +08:00

2017-11-27 16:03:58,758 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:03:58,758 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:03:58,758 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:03:58 +08:00

2017-11-27 16:04:04,002 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:04:04 +08:00

2017-11-27 16:04:04,002 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:04:04,002 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:04:04,002 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:04:04,002 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:04:04 +08:00

2017-11-27 16:04:04,005 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:04:04,005 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:04:04,005 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:04:04 +08:00

2017-11-27 16:04:04,005 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:04:04 +08:00

2017-11-27 16:04:04,005 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:04:04,005 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:04:04,005 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:04:04,005 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:04:04 +08:00

2017-11-27 16:04:04,007 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:04:04,007 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:04:04,007 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:04:04 +08:00

2017-11-27 16:04:04,007 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:04:04 +08:00

2017-11-27 16:04:04,008 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:04:04,008 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:04:04,008 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:04:04,008 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:04:04 +08:00

2017-11-27 16:04:04,010 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:04:04,010 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:04:04,010 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:04:04 +08:00

2017-11-27 16:04:04,011 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:04:04 +08:00

2017-11-27 16:04:04,011 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-27 16:04:04,011 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:04:04,011 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:04:04,011 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:04:04 +08:00

2017-11-27 16:04:04,012 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:04:04,012 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:04:04,013 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:04:04 +08:00

2017-11-27 16:04:04,013 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:04:04 +08:00

2017-11-27 16:04:04,013 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:04:04,013 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:04:04,013 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:04:04,013 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:04:04 +08:00

2017-11-27 16:04:04,016 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:04:04,016 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:04:04,017 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:04:04 +08:00

2017-11-27 16:05:08,420 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:05:08 +08:00

2017-11-27 16:05:08,420 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:05:08,420 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:05:08,420 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:05:08,420 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:05:08 +08:00

2017-11-27 16:05:08,423 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:05:08,423 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:05:08,423 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:05:08 +08:00

2017-11-27 16:05:08,423 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:05:08 +08:00

2017-11-27 16:05:08,424 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:05:08,424 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:05:08,424 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:05:08,424 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:05:08 +08:00

2017-11-27 16:05:08,425 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:05:08,425 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:05:08,425 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:05:08 +08:00

2017-11-27 16:05:08,426 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:05:08 +08:00

2017-11-27 16:05:08,427 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:05:08,427 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:05:08,427 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:05:08,427 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:05:08 +08:00

2017-11-27 16:05:08,429 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:05:08,429 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:05:08,429 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:05:08 +08:00

2017-11-27 16:05:08,429 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:05:08 +08:00

2017-11-27 16:05:08,430 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：select u.Id,u.Name,u.NickName,u.PhotoUrl,u.Mobile,u.Gender,u.Address,u.PasswordHash,u.PasswordSalt,u.LoginErrorTimes,u.LastLoginErrorDateTime,u.PassCount,u.WinCount,u.IsWon,u.IsDeleted,u.ChangeTime,u.CreateDateTime from T_Users as u, (select UserId from T_UserActivities where ActivityId=@id) as a where a.UserId=u.Id and u.LoginErrorTimes=1 and u.IsDeleted=0
2017-11-27 16:05:08,430 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:05:08,430 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @id: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:05:08,430 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:05:08 +08:00

2017-11-27 16:05:08,431 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:05:08,431 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:05:08,433 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:05:08 +08:00

2017-11-27 16:05:13,088 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:05:13 +08:00

2017-11-27 16:05:13,089 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:05:13,089 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:05:13,090 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:05:13,090 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:05:13 +08:00

2017-11-27 16:05:13,092 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:05:13,092 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:05:13,092 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:05:13 +08:00

2017-11-27 16:05:13,092 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:05:13 +08:00

2017-11-27 16:05:13,093 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:05:13,093 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:05:13,093 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:05:13,093 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:05:13 +08:00

2017-11-27 16:05:13,094 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:05:13,094 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:05:13,094 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:05:13 +08:00

2017-11-27 16:05:13,095 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:05:13 +08:00

2017-11-27 16:05:13,095 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:05:13,095 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:05:13,095 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:05:13,095 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:05:13 +08:00

2017-11-27 16:05:13,097 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:05:13,097 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:05:13,098 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:05:13 +08:00

2017-11-27 16:05:13,098 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:05:13 +08:00

2017-11-27 16:05:13,098 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-27 16:05:13,098 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:05:13,098 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:05:13,098 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:05:13 +08:00

2017-11-27 16:05:13,099 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-27 16:05:13,099 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:05:13,099 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:05:13 +08:00

2017-11-27 16:05:13,100 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:05:13 +08:00

2017-11-27 16:05:13,100 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:05:13,100 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:05:13,100 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:05:13,100 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:05:13 +08:00

2017-11-27 16:05:13,103 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:05:13,103 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:05:13,103 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:05:13 +08:00

2017-11-27 16:05:15,827 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:05:15 +08:00

2017-11-27 16:05:15,827 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:05:15,829 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:05:15,829 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:05:15,829 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:05:15 +08:00

2017-11-27 16:05:15,831 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:05:15,831 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:05:15,832 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:05:15 +08:00

2017-11-27 16:05:15,832 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:05:15 +08:00

2017-11-27 16:05:15,832 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:05:15,832 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:05:15,832 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:05:15,832 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:05:15 +08:00

2017-11-27 16:05:15,833 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:05:15,834 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:05:15,834 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:05:15 +08:00

2017-11-27 16:05:15,834 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:05:15 +08:00

2017-11-27 16:05:15,834 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:05:15,835 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:05:15,835 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:05:15,835 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:05:15 +08:00

2017-11-27 16:05:15,837 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:05:15,837 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:05:15,837 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:05:15 +08:00

2017-11-27 16:05:15,838 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:05:15 +08:00

2017-11-27 16:05:15,838 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-27 16:05:15,838 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:05:15,838 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:05:15,838 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:05:15 +08:00

2017-11-27 16:05:15,839 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-27 16:05:15,839 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:05:15,839 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:05:15 +08:00

2017-11-27 16:05:15,840 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:05:15 +08:00

2017-11-27 16:05:15,840 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:05:15,840 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:05:15,840 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:05:15,840 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:05:15 +08:00

2017-11-27 16:05:15,843 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:05:15,843 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:05:15,843 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:05:15 +08:00

2017-11-27 16:09:01,798 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:09:01 +08:00

2017-11-27 16:09:01,799 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:09:01,799 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:09:01,799 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:09:01,799 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:09:01 +08:00

2017-11-27 16:09:01,802 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:09:01,802 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:09:01,802 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:09:01 +08:00

2017-11-27 16:09:01,802 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:09:01 +08:00

2017-11-27 16:09:01,802 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:09:01,802 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:09:01,802 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:09:01,802 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:09:01 +08:00

2017-11-27 16:09:01,804 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:09:01,804 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:09:01,804 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:09:01 +08:00

2017-11-27 16:09:01,805 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:09:01 +08:00

2017-11-27 16:09:01,805 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:09:01,805 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:09:01,805 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:09:01,805 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:09:01 +08:00

2017-11-27 16:09:01,808 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:09:01,808 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:09:01,808 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:09:01 +08:00

2017-11-27 16:09:01,808 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:09:01 +08:00

2017-11-27 16:09:01,809 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-27 16:09:01,809 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:09:01,809 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:09:01,809 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:09:01 +08:00

2017-11-27 16:09:01,810 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-27 16:09:01,810 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:09:01,810 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:09:01 +08:00

2017-11-27 16:09:01,810 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:09:01 +08:00

2017-11-27 16:09:01,811 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:09:01,811 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:09:01,811 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:09:01,811 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:09:01 +08:00

2017-11-27 16:09:01,814 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:09:01,814 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:09:01,814 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:09:01 +08:00

2017-11-27 16:09:04,319 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:09:04 +08:00

2017-11-27 16:09:04,319 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:09:04,319 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:09:04,319 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:09:04,319 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:09:04 +08:00

2017-11-27 16:09:04,322 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:09:04,322 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:09:04,323 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:09:04 +08:00

2017-11-27 16:09:04,323 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:09:04 +08:00

2017-11-27 16:09:04,323 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:09:04,323 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:09:04,324 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:09:04,324 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:09:04 +08:00

2017-11-27 16:09:04,325 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:09:04,325 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:09:04,325 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:09:04 +08:00

2017-11-27 16:09:04,326 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:09:04 +08:00

2017-11-27 16:09:04,326 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:09:04,327 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:09:04,327 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:09:04,327 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:09:04 +08:00

2017-11-27 16:09:04,330 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2017-11-27 16:09:04,330 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:09:04,330 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:09:04 +08:00

2017-11-27 16:09:04,330 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:09:04 +08:00

2017-11-27 16:09:04,330 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：select u.Id,u.Name,u.NickName,u.PhotoUrl,u.Mobile,u.Gender,u.Address,u.PasswordHash,u.PasswordSalt,u.LoginErrorTimes,u.LastLoginErrorDateTime,u.PassCount,u.WinCount,u.IsWon,u.IsDeleted,u.ChangeTime,u.CreateDateTime from T_Users as u, (select UserId from T_UserActivities where ActivityId=@id) as a where a.UserId=u.Id and u.LoginErrorTimes=1 and u.IsDeleted=0
2017-11-27 16:09:04,330 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:09:04,330 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @id: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:09:04,330 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:09:04 +08:00

2017-11-27 16:09:04,332 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:09:04,332 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:09:04,334 [36] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:09:04 +08:00

2017-11-27 16:09:10,147 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:09:10 +08:00

2017-11-27 16:09:10,147 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:09:10,147 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:09:10,147 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:09:10,147 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:09:10 +08:00

2017-11-27 16:09:10,150 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:09:10,150 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:09:10,150 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:09:10 +08:00

2017-11-27 16:09:10,150 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:09:10 +08:00

2017-11-27 16:09:10,150 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:09:10,150 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:09:10,150 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:09:10,150 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:09:10 +08:00

2017-11-27 16:09:10,151 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:09:10,151 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:09:10,152 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:09:10 +08:00

2017-11-27 16:09:10,152 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:09:10 +08:00

2017-11-27 16:09:10,152 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:09:10,152 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:09:10,153 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:09:10,153 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:09:10 +08:00

2017-11-27 16:09:10,155 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:09:10,155 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:09:10,155 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:09:10 +08:00

2017-11-27 16:09:10,156 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:09:10 +08:00

2017-11-27 16:09:10,157 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-27 16:09:10,157 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:09:10,157 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:09:10,157 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:09:10 +08:00

2017-11-27 16:09:10,158 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:09:10,158 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:09:10,158 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:09:10 +08:00

2017-11-27 16:09:10,159 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:09:10 +08:00

2017-11-27 16:09:10,159 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:09:10,159 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:09:10,159 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:09:10,159 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:09:10 +08:00

2017-11-27 16:09:10,162 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:09:10,162 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:09:10,162 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:09:10 +08:00

2017-11-27 16:09:15,391 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:09:15 +08:00

2017-11-27 16:09:15,391 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:09:15,391 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:09:15,391 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:09:15,391 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:09:15 +08:00

2017-11-27 16:09:15,394 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:09:15,394 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:09:15,394 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:09:15 +08:00

2017-11-27 16:09:15,394 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:09:15 +08:00

2017-11-27 16:09:15,394 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:09:15,394 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:09:15,394 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:09:15,394 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:09:15 +08:00

2017-11-27 16:09:15,395 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:09:15,395 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:09:15,396 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:09:15 +08:00

2017-11-27 16:09:15,396 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:09:15 +08:00

2017-11-27 16:09:15,396 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:09:15,396 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:09:15,396 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:09:15,397 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:09:15 +08:00

2017-11-27 16:09:15,399 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:09:15,399 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:09:15,399 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:09:15 +08:00

2017-11-27 16:09:15,400 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:09:15 +08:00

2017-11-27 16:09:15,400 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-27 16:09:15,400 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:09:15,400 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:09:15,400 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:09:15 +08:00

2017-11-27 16:09:15,401 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:09:15,401 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:09:15,401 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:09:15 +08:00

2017-11-27 16:09:15,402 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:09:15 +08:00

2017-11-27 16:09:15,402 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:09:15,402 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:09:15,402 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:09:15,402 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:09:15 +08:00

2017-11-27 16:09:15,405 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:09:15,405 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:09:15,405 [35] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:09:15 +08:00

2017-11-27 16:10:09,642 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:10:09 +08:00

2017-11-27 16:10:09,642 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:10:09,643 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:10:09,643 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:10:09,643 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:10:09 +08:00

2017-11-27 16:10:09,645 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:10:09,645 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:10:09,645 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:10:09 +08:00

2017-11-27 16:10:09,646 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:10:09 +08:00

2017-11-27 16:10:09,646 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:10:09,646 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:10:09,646 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:10:09,646 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:10:09 +08:00

2017-11-27 16:10:09,647 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:10:09,647 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:10:09,647 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:10:09 +08:00

2017-11-27 16:10:09,648 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:10:09 +08:00

2017-11-27 16:10:09,648 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:10:09,648 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:10:09,648 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:10:09,648 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:10:09 +08:00

2017-11-27 16:10:09,651 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:10:09,651 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:10:09,651 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:10:09 +08:00

2017-11-27 16:10:09,651 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:10:09 +08:00

2017-11-27 16:10:09,651 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：select u.Id,u.Name,u.NickName,u.PhotoUrl,u.Mobile,u.Gender,u.Address,u.PasswordHash,u.PasswordSalt,u.LoginErrorTimes,u.LastLoginErrorDateTime,u.PassCount,u.WinCount,u.IsWon,u.IsDeleted,u.ChangeTime,u.CreateDateTime from T_Users as u, (select UserId from T_UserActivities where ActivityId=@id) as a where a.UserId=u.Id and u.LoginErrorTimes=1 and u.IsDeleted=0
2017-11-27 16:10:09,652 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:10:09,652 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @id: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:10:09,652 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:10:09 +08:00

2017-11-27 16:10:09,653 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:10:09,653 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:10:09,655 [10] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:10:09 +08:00

2017-11-27 16:10:15,815 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:10:15 +08:00

2017-11-27 16:10:15,815 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:10:15,815 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:10:15,815 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:10:15,815 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:10:15 +08:00

2017-11-27 16:10:15,826 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 10 ms with result: SqlDataReader

2017-11-27 16:10:15,826 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:10:15,826 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:10:15 +08:00

2017-11-27 16:10:15,827 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:10:15 +08:00

2017-11-27 16:10:15,827 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:10:15,827 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:10:15,827 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:10:15,827 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:10:15 +08:00

2017-11-27 16:10:15,828 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:10:15,828 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:10:15,828 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:10:15 +08:00

2017-11-27 16:10:15,829 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:10:15 +08:00

2017-11-27 16:10:15,829 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:10:15,829 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:10:15,829 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:10:15,829 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:10:15 +08:00

2017-11-27 16:10:15,832 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:10:15,832 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:10:15,832 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:10:15 +08:00

2017-11-27 16:10:15,832 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:10:15 +08:00

2017-11-27 16:10:15,833 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-27 16:10:15,833 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:10:15,833 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:10:15,833 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:10:15 +08:00

2017-11-27 16:10:15,834 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-27 16:10:15,834 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:10:15,834 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:10:15 +08:00

2017-11-27 16:10:15,834 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:10:15 +08:00

2017-11-27 16:10:15,835 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:10:15,835 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:10:15,835 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:10:15,835 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:10:15 +08:00

2017-11-27 16:10:15,837 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:10:15,837 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:10:15,838 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:10:15 +08:00

2017-11-27 16:13:00,298 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:00 +08:00

2017-11-27 16:13:00,313 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.T_Activities','dbo.T_TestPapers','dbo.T_IdNames','dbo.T_Users','dbo.T_ActivityImgs','dbo.T_AdminLogs','dbo.T_AdminUsers','dbo.T_Roles','dbo.T_Permissions','dbo.T_Cities','dbo.T_Exercises','dbo.T_Settings','dbo.T_UserActivities','dbo.T_RolePermissions','dbo.T_AdminUserRoles')
    OR t.TABLE_NAME = 'EdmMetadata'
2017-11-27 16:13:00,313 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:00,313 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:00 +08:00

2017-11-27 16:13:00,313 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: 15

2017-11-27 16:13:00,313 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:00,313 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:00 +08:00

2017-11-27 16:13:00,344 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:00 +08:00

2017-11-27 16:13:00,376 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2017-11-27 16:13:00,376 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:00,376 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'Chat.Service.MyDbContext' (Type = String, Size = 4000)

2017-11-27 16:13:00,376 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:00 +08:00

2017-11-27 16:13:00,376 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Failed in 1 ms with error: 对象名 'dbo.__MigrationHistory' 无效。

2017-11-27 16:13:00,376 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:00,376 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:00 +08:00

2017-11-27 16:13:00,376 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:00 +08:00

2017-11-27 16:13:00,376 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
    )  AS [GroupBy1]
2017-11-27 16:13:00,376 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:00,376 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:00 +08:00

2017-11-27 16:13:00,376 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Failed in 1 ms with error: 对象名 'dbo.__MigrationHistory' 无效。

2017-11-27 16:13:00,376 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:00,376 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:00 +08:00

2017-11-27 16:13:00,407 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:00 +08:00

2017-11-27 16:13:00,438 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_AdminUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] = @p__linq__0)
2017-11-27 16:13:00,438 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:00,438 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'system' (Type = String, Size = 4000)

2017-11-27 16:13:00,438 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:00 +08:00

2017-11-27 16:13:00,438 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:00,438 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:00,454 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:00 +08:00

2017-11-27 16:13:00,454 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:00 +08:00

2017-11-27 16:13:00,454 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[T_AdminUsers] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] = @p__linq__0)
    )  AS [GroupBy1]
2017-11-27 16:13:00,454 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:00,454 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'system' (Type = String, Size = 4000)

2017-11-27 16:13:00,454 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:00 +08:00

2017-11-27 16:13:00,454 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-27 16:13:00,454 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:00,454 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:00 +08:00

2017-11-27 16:13:00,454 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:00 +08:00

2017-11-27 16:13:00,454 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Gender] AS [Gender], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[Email] AS [Email], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_AdminUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] = @p__linq__0)
2017-11-27 16:13:00,454 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:00,454 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'system' (Type = String, Size = 4000)

2017-11-27 16:13:00,454 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:00 +08:00

2017-11-27 16:13:00,454 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:00,454 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:00,454 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:00 +08:00

2017-11-27 16:13:00,611 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:00 +08:00

2017-11-27 16:13:00,649 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:13:00,649 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:00,649 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:00,649 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:00 +08:00

2017-11-27 16:13:00,652 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:00,652 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:00,657 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:00 +08:00

2017-11-27 16:13:00,659 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:00 +08:00

2017-11-27 16:13:00,674 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:13:00,674 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:00,674 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:00,674 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:00 +08:00

2017-11-27 16:13:00,675 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:00,675 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:00,676 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:00 +08:00

2017-11-27 16:13:00,681 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:00 +08:00

2017-11-27 16:13:00,686 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[C1] AS [C1], 
    [Project1].[Id] AS [Id], 
    [Project1].[TestTitle] AS [TestTitle], 
    [Project1].[ExercisesCount] AS [ExercisesCount], 
    [Project1].[CreateDateTime] AS [CreateDateTime], 
    [Project1].[Num] AS [Num]
    FROM ( SELECT 
        [Extent1].[Id] AS [Id], 
        [Extent1].[Num] AS [Num], 
        [Extent1].[TestTitle] AS [TestTitle], 
        [Extent1].[ExercisesCount] AS [ExercisesCount], 
        [Extent1].[CreateDateTime] AS [CreateDateTime], 
        1 AS [C1]
        FROM [dbo].[T_TestPapers] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [Project1]
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:13:00,686 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:00,686 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:00 +08:00

2017-11-27 16:13:00,687 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:00,687 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:00,688 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:00 +08:00

2017-11-27 16:13:07,318 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:07 +08:00

2017-11-27 16:13:07,319 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:13:07,319 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:07,319 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:07,319 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:07 +08:00

2017-11-27 16:13:07,321 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:07,322 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:07,322 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:07 +08:00

2017-11-27 16:13:07,322 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:07 +08:00

2017-11-27 16:13:07,322 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:13:07,322 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:07,322 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:07,322 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:07 +08:00

2017-11-27 16:13:07,323 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:07,323 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:07,323 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:07 +08:00

2017-11-27 16:13:07,327 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:07 +08:00

2017-11-27 16:13:07,362 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[C1] AS [C1], 
    [Project1].[Id] AS [Id], 
    [Project1].[Num] AS [Num], 
    [Project1].[Name] AS [Name], 
    [Project1].[Description] AS [Description], 
    [Project1].[ImgUrl] AS [ImgUrl], 
    [Project1].[StatusId] AS [StatusId], 
    [Project1].[WeChatUrl] AS [WeChatUrl], 
    [Project1].[PaperId] AS [PaperId], 
    [Project1].[PrizeName] AS [PrizeName], 
    [Project1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Project1].[VisitCount] AS [VisitCount], 
    [Project1].[ForwardCount] AS [ForwardCount], 
    [Project1].[AnswerCount] AS [AnswerCount], 
    [Project1].[HavePrizeCount] AS [HavePrizeCount], 
    [Project1].[PrizeCount] AS [PrizeCount], 
    [Project1].[StartTime] AS [StartTime], 
    [Project1].[ExamEndTime] AS [ExamEndTime], 
    [Project1].[RewardTime] AS [RewardTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime], 
    [Project1].[Id1] AS [Id1], 
    [Project1].[TypeName] AS [TypeName], 
    [Project1].[Name1] AS [Name1], 
    [Project1].[ImgUrl1] AS [ImgUrl1], 
    [Project1].[IsDeleted1] AS [IsDeleted1], 
    [Project1].[CreateDateTime1] AS [CreateDateTime1], 
    [Project1].[Id2] AS [Id2], 
    [Project1].[Num1] AS [Num1], 
    [Project1].[TestTitle] AS [TestTitle], 
    [Project1].[ExercisesCount] AS [ExercisesCount], 
    [Project1].[IsDeleted2] AS [IsDeleted2], 
    [Project1].[CreateDateTime2] AS [CreateDateTime2]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Num] AS [Num], [Project1].[Name] AS [Name], [Project1].[Description] AS [Description], [Project1].[ImgUrl] AS [ImgUrl], [Project1].[StatusId] AS [StatusId], [Project1].[WeChatUrl] AS [WeChatUrl], [Project1].[PaperId] AS [PaperId], [Project1].[PrizeName] AS [PrizeName], [Project1].[PrizeImgUrl] AS [PrizeImgUrl], [Project1].[VisitCount] AS [VisitCount], [Project1].[ForwardCount] AS [ForwardCount], [Project1].[AnswerCount] AS [AnswerCount], [Project1].[HavePrizeCount] AS [HavePrizeCount], [Project1].[PrizeCount] AS [PrizeCount], [Project1].[StartTime] AS [StartTime], [Project1].[ExamEndTime] AS [ExamEndTime], [Project1].[RewardTime] AS [RewardTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], [Project1].[Id1] AS [Id1], [Project1].[TypeName] AS [TypeName], [Project1].[Name1] AS [Name1], [Project1].[ImgUrl1] AS [ImgUrl1], [Project1].[IsDeleted1] AS [IsDeleted1], [Project1].[CreateDateTime1] AS [CreateDateTime1], [Project1].[Id2] AS [Id2], [Project1].[Num1] AS [Num1], [Project1].[TestTitle] AS [TestTitle], [Project1].[ExercisesCount] AS [ExercisesCount], [Project1].[IsDeleted2] AS [IsDeleted2], [Project1].[CreateDateTime2] AS [CreateDateTime2], [Project1].[C1] AS [C1], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Num] AS [Num], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[ImgUrl] AS [ImgUrl], 
            [Extent1].[StatusId] AS [StatusId], 
            [Extent1].[WeChatUrl] AS [WeChatUrl], 
            [Extent1].[PaperId] AS [PaperId], 
            [Extent1].[PrizeName] AS [PrizeName], 
            [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
            [Extent1].[VisitCount] AS [VisitCount], 
            [Extent1].[ForwardCount] AS [ForwardCount], 
            [Extent1].[AnswerCount] AS [AnswerCount], 
            [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
            [Extent1].[PrizeCount] AS [PrizeCount], 
            [Extent1].[StartTime] AS [StartTime], 
            [Extent1].[ExamEndTime] AS [ExamEndTime], 
            [Extent1].[RewardTime] AS [RewardTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime], 
            [Extent2].[Id] AS [Id1], 
            [Extent2].[TypeName] AS [TypeName], 
            [Extent2].[Name] AS [Name1], 
            [Extent2].[ImgUrl] AS [ImgUrl1], 
            [Extent2].[IsDeleted] AS [IsDeleted1], 
            [Extent2].[CreateDateTime] AS [CreateDateTime1], 
            [Extent3].[Id] AS [Id2], 
            [Extent3].[Num] AS [Num1], 
            [Extent3].[TestTitle] AS [TestTitle], 
            [Extent3].[ExercisesCount] AS [ExercisesCount], 
            [Extent3].[IsDeleted] AS [IsDeleted2], 
            [Extent3].[CreateDateTime] AS [CreateDateTime2], 
            1 AS [C1]
            FROM   [dbo].[T_Activities] AS [Extent1]
            INNER JOIN [dbo].[T_IdNames] AS [Extent2] ON [Extent1].[StatusId] = [Extent2].[Id]
            INNER JOIN [dbo].[T_TestPapers] AS [Extent3] ON [Extent1].[PaperId] = [Extent3].[Id]
            WHERE 0 = [Extent1].[IsDeleted]
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:13:07,362 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:07,362 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:07 +08:00

2017-11-27 16:13:07,366 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2017-11-27 16:13:07,366 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:07,377 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:07 +08:00

2017-11-27 16:13:07,384 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:07 +08:00

2017-11-27 16:13:07,393 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Activities] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [GroupBy1]
2017-11-27 16:13:07,393 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:07,393 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:07 +08:00

2017-11-27 16:13:07,394 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-27 16:13:07,394 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:07,398 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:07 +08:00

2017-11-27 16:13:11,294 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:11 +08:00

2017-11-27 16:13:11,294 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:13:11,294 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:11,294 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:11,294 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:11 +08:00

2017-11-27 16:13:11,297 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2017-11-27 16:13:11,297 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:11,298 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:11 +08:00

2017-11-27 16:13:11,298 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:11 +08:00

2017-11-27 16:13:11,298 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:13:11,298 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:11,298 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:11,298 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:11 +08:00

2017-11-27 16:13:11,299 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:11,299 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:11,299 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:11 +08:00

2017-11-27 16:13:11,301 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:11 +08:00

2017-11-27 16:13:11,317 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:13:11,317 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:11,317 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:11,318 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:11 +08:00

2017-11-27 16:13:11,320 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:11,320 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:11,321 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:11 +08:00

2017-11-27 16:13:11,332 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:11 +08:00

2017-11-27 16:13:11,332 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：select u.Id,u.Name,u.NickName,u.PhotoUrl,u.Mobile,u.Gender,u.Address,u.PasswordHash,u.PasswordSalt,u.LoginErrorTimes,u.LastLoginErrorDateTime,u.PassCount,u.WinCount,u.IsWon,u.IsDeleted,u.ChangeTime,u.CreateDateTime from T_Users as u, (select UserId from T_UserActivities where ActivityId=@id) as a where a.UserId=u.Id and u.LoginErrorTimes=1 and u.IsDeleted=0
2017-11-27 16:13:11,332 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:11,332 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- @id: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:11,332 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:11 +08:00

2017-11-27 16:13:11,334 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:11,334 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:11,343 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:11 +08:00

2017-11-27 16:13:13,813 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:13 +08:00

2017-11-27 16:13:13,814 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:13:13,814 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:13,814 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:13,814 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:13 +08:00

2017-11-27 16:13:13,817 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:13,817 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:13,817 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:13 +08:00

2017-11-27 16:13:13,817 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:13 +08:00

2017-11-27 16:13:13,817 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:13:13,817 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:13,817 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:13,817 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:13 +08:00

2017-11-27 16:13:13,819 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:13,819 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:13,819 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:13 +08:00

2017-11-27 16:13:13,827 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:13 +08:00

2017-11-27 16:13:13,827 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:13:13,828 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:13,828 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:13,828 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:13 +08:00

2017-11-27 16:13:13,830 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:13,830 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:13,831 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:13 +08:00

2017-11-27 16:13:13,832 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:13 +08:00

2017-11-27 16:13:13,836 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-27 16:13:13,836 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:13,836 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:13,836 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:13 +08:00

2017-11-27 16:13:13,837 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:13,837 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:13,837 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:13 +08:00

2017-11-27 16:13:13,838 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:13 +08:00

2017-11-27 16:13:13,855 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:13:13,855 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:13,855 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:13,855 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:13 +08:00

2017-11-27 16:13:13,855 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:13,855 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:13,855 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:13 +08:00

2017-11-27 16:13:15,276 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:15 +08:00

2017-11-27 16:13:15,277 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:13:15,277 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:15,277 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:15,277 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:15 +08:00

2017-11-27 16:13:15,280 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:15,280 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:15,280 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:15 +08:00

2017-11-27 16:13:15,280 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:15 +08:00

2017-11-27 16:13:15,280 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:13:15,280 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:15,280 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:15,280 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:15 +08:00

2017-11-27 16:13:15,281 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:15,281 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:15,281 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:15 +08:00

2017-11-27 16:13:15,282 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:15 +08:00

2017-11-27 16:13:15,282 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:13:15,282 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:15,282 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:15,283 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:15 +08:00

2017-11-27 16:13:15,285 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:15,285 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:15,285 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:15 +08:00

2017-11-27 16:13:15,286 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:15 +08:00

2017-11-27 16:13:15,286 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-27 16:13:15,286 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:15,286 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:15,286 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:15 +08:00

2017-11-27 16:13:15,288 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:15,288 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:15,288 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:15 +08:00

2017-11-27 16:13:15,288 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:15 +08:00

2017-11-27 16:13:15,289 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:13:15,289 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:15,289 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:15,289 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:15 +08:00

2017-11-27 16:13:15,291 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:15,291 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:15,291 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:15 +08:00

2017-11-27 16:13:15,772 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:15 +08:00

2017-11-27 16:13:15,773 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:13:15,773 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:15,773 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:15,773 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:15 +08:00

2017-11-27 16:13:15,776 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:15,776 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:15,776 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:15 +08:00

2017-11-27 16:13:15,776 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:15 +08:00

2017-11-27 16:13:15,776 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:13:15,776 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:15,776 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:15,776 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:15 +08:00

2017-11-27 16:13:15,777 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:15,777 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:15,778 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:15 +08:00

2017-11-27 16:13:15,778 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:15 +08:00

2017-11-27 16:13:15,778 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:13:15,778 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:15,778 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:15,779 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:15 +08:00

2017-11-27 16:13:15,781 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:15,781 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:15,781 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:15 +08:00

2017-11-27 16:13:15,782 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:15 +08:00

2017-11-27 16:13:15,782 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-27 16:13:15,782 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:15,782 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:15,782 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:15 +08:00

2017-11-27 16:13:15,783 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:15,783 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:15,783 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:15 +08:00

2017-11-27 16:13:15,783 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:15 +08:00

2017-11-27 16:13:15,784 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:13:15,784 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:15,784 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:15,784 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:15 +08:00

2017-11-27 16:13:15,786 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:15,786 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:15,787 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:15 +08:00

2017-11-27 16:13:16,063 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:16 +08:00

2017-11-27 16:13:16,063 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:13:16,063 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:16,063 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:16,063 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:16 +08:00

2017-11-27 16:13:16,066 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:16,066 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:16,066 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:16 +08:00

2017-11-27 16:13:16,066 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:16 +08:00

2017-11-27 16:13:16,066 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:13:16,067 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:16,067 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:16,067 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:16 +08:00

2017-11-27 16:13:16,068 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:16,068 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:16,068 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:16 +08:00

2017-11-27 16:13:16,068 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:16 +08:00

2017-11-27 16:13:16,069 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:13:16,069 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:16,069 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:16,069 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:16 +08:00

2017-11-27 16:13:16,072 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:16,072 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:16,072 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:16 +08:00

2017-11-27 16:13:16,072 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:16 +08:00

2017-11-27 16:13:16,073 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-27 16:13:16,073 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:16,073 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:16,073 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:16 +08:00

2017-11-27 16:13:16,074 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:16,074 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:16,074 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:16 +08:00

2017-11-27 16:13:16,074 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:16 +08:00

2017-11-27 16:13:16,075 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:13:16,075 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:16,075 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:16,075 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:16 +08:00

2017-11-27 16:13:16,077 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:16,077 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:16,077 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:16 +08:00

2017-11-27 16:13:17,624 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:17 +08:00

2017-11-27 16:13:17,624 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:13:17,624 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:17,624 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:17,624 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:17 +08:00

2017-11-27 16:13:17,627 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:17,627 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:17,628 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:17 +08:00

2017-11-27 16:13:17,628 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:17 +08:00

2017-11-27 16:13:17,628 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:13:17,628 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:17,628 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:17,628 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:17 +08:00

2017-11-27 16:13:17,629 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:17,629 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:17,629 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:17 +08:00

2017-11-27 16:13:17,630 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:17 +08:00

2017-11-27 16:13:17,630 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:13:17,630 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:17,630 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:17,630 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:17 +08:00

2017-11-27 16:13:17,633 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:17,633 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:17,633 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:17 +08:00

2017-11-27 16:13:17,633 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:17 +08:00

2017-11-27 16:13:17,634 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-27 16:13:17,634 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:17,634 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:17,634 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:17 +08:00

2017-11-27 16:13:17,635 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:17,635 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:17,635 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:17 +08:00

2017-11-27 16:13:17,635 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:17 +08:00

2017-11-27 16:13:17,636 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:13:17,636 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:17,636 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:17,636 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:17 +08:00

2017-11-27 16:13:17,638 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:17,638 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:17,638 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:17 +08:00

2017-11-27 16:13:20,530 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:20 +08:00

2017-11-27 16:13:20,531 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:13:20,531 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:20,531 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:20,531 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:20 +08:00

2017-11-27 16:13:20,533 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:20,533 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:20,534 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:20 +08:00

2017-11-27 16:13:20,534 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:20 +08:00

2017-11-27 16:13:20,534 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:13:20,534 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:20,534 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:20,534 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:20 +08:00

2017-11-27 16:13:20,535 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:20,535 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:20,535 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:20 +08:00

2017-11-27 16:13:20,536 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:20 +08:00

2017-11-27 16:13:20,536 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:13:20,536 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:20,536 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:20,536 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:20 +08:00

2017-11-27 16:13:20,538 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:20,539 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:20,539 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:20 +08:00

2017-11-27 16:13:20,539 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:20 +08:00

2017-11-27 16:13:20,540 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-27 16:13:20,540 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:20,540 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:20,540 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:20 +08:00

2017-11-27 16:13:20,541 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-27 16:13:20,541 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:20,541 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:20 +08:00

2017-11-27 16:13:20,541 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:20 +08:00

2017-11-27 16:13:20,542 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:13:20,542 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:20,542 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:20,542 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:20 +08:00

2017-11-27 16:13:20,544 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:20,544 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:20,544 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:20 +08:00

2017-11-27 16:13:20,766 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:20 +08:00

2017-11-27 16:13:20,766 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:13:20,767 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:20,767 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:20,767 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:20 +08:00

2017-11-27 16:13:20,769 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:20,770 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:20,770 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:20 +08:00

2017-11-27 16:13:20,770 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:20 +08:00

2017-11-27 16:13:20,770 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:13:20,770 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:20,770 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:20,770 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:20 +08:00

2017-11-27 16:13:20,771 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:20,771 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:20,771 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:20 +08:00

2017-11-27 16:13:20,772 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:20 +08:00

2017-11-27 16:13:20,772 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:13:20,772 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:20,772 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:20,772 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:20 +08:00

2017-11-27 16:13:20,775 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:20,775 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:20,775 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:20 +08:00

2017-11-27 16:13:20,776 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:20 +08:00

2017-11-27 16:13:20,776 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-27 16:13:20,776 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:20,776 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:20,776 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:20 +08:00

2017-11-27 16:13:20,777 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:20,777 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:20,778 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:20 +08:00

2017-11-27 16:13:20,778 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:20 +08:00

2017-11-27 16:13:20,778 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:13:20,778 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:20,778 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:20,778 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:20 +08:00

2017-11-27 16:13:20,781 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:20,781 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:20,781 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:20 +08:00

2017-11-27 16:13:20,963 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:20 +08:00

2017-11-27 16:13:20,964 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:13:20,964 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:20,964 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:20,964 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:20 +08:00

2017-11-27 16:13:20,966 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:20,966 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:20,967 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:20 +08:00

2017-11-27 16:13:20,967 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:20 +08:00

2017-11-27 16:13:20,967 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:13:20,967 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:20,967 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:20,967 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:20 +08:00

2017-11-27 16:13:20,968 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:20,968 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:20,968 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:20 +08:00

2017-11-27 16:13:20,969 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:20 +08:00

2017-11-27 16:13:20,969 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:13:20,969 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:20,969 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:20,969 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:20 +08:00

2017-11-27 16:13:20,972 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:20,972 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:20,972 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:20 +08:00

2017-11-27 16:13:20,973 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:20 +08:00

2017-11-27 16:13:20,973 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-27 16:13:20,973 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:20,973 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:20,973 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:20 +08:00

2017-11-27 16:13:20,974 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:20,974 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:20,974 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:20 +08:00

2017-11-27 16:13:20,974 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:20 +08:00

2017-11-27 16:13:20,975 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:13:20,975 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:20,975 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:20,975 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:20 +08:00

2017-11-27 16:13:20,977 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:20,977 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:20,978 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:20 +08:00

2017-11-27 16:13:21,129 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:21 +08:00

2017-11-27 16:13:21,129 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:13:21,129 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:21,129 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:21,129 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:21 +08:00

2017-11-27 16:13:21,132 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:21,132 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:21,132 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:21 +08:00

2017-11-27 16:13:21,132 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:21 +08:00

2017-11-27 16:13:21,133 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:13:21,133 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:21,133 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:21,133 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:21 +08:00

2017-11-27 16:13:21,134 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:21,134 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:21,134 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:21 +08:00

2017-11-27 16:13:21,135 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:21 +08:00

2017-11-27 16:13:21,135 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:13:21,135 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:21,135 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:21,135 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:21 +08:00

2017-11-27 16:13:21,138 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:21,138 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:21,138 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:21 +08:00

2017-11-27 16:13:21,138 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:21 +08:00

2017-11-27 16:13:21,139 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-27 16:13:21,139 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:21,139 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:21,139 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:21 +08:00

2017-11-27 16:13:21,140 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:21,140 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:21,140 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:21 +08:00

2017-11-27 16:13:21,140 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:21 +08:00

2017-11-27 16:13:21,140 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:13:21,140 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:21,141 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:21,141 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:21 +08:00

2017-11-27 16:13:21,143 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:21,143 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:21,143 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:21 +08:00

2017-11-27 16:13:21,305 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:21 +08:00

2017-11-27 16:13:21,306 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:13:21,306 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:21,306 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:21,306 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:21 +08:00

2017-11-27 16:13:21,309 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:21,309 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:21,309 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:21 +08:00

2017-11-27 16:13:21,309 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:21 +08:00

2017-11-27 16:13:21,309 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:13:21,309 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:21,309 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:21,309 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:21 +08:00

2017-11-27 16:13:21,311 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:21,311 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:21,311 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:21 +08:00

2017-11-27 16:13:21,311 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:21 +08:00

2017-11-27 16:13:21,312 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:13:21,312 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:21,312 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:21,312 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:21 +08:00

2017-11-27 16:13:21,314 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:21,314 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:21,314 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:21 +08:00

2017-11-27 16:13:21,315 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:21 +08:00

2017-11-27 16:13:21,315 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-27 16:13:21,315 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:21,315 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:21,315 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:21 +08:00

2017-11-27 16:13:21,316 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:21,316 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:21,317 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:21 +08:00

2017-11-27 16:13:21,317 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:21 +08:00

2017-11-27 16:13:21,317 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:13:21,317 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:21,317 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:21,317 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:21 +08:00

2017-11-27 16:13:21,320 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:21,320 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:21,320 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:21 +08:00

2017-11-27 16:13:23,994 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:23 +08:00

2017-11-27 16:13:23,995 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:13:23,995 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:23,995 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:23,995 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:23 +08:00

2017-11-27 16:13:23,997 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:23,997 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:23,998 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:23 +08:00

2017-11-27 16:13:23,998 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:23 +08:00

2017-11-27 16:13:23,998 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:13:23,998 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:23,998 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:23,998 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:23 +08:00

2017-11-27 16:13:23,999 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:23,999 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:23,999 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:23 +08:00

2017-11-27 16:13:24,000 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,000 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:13:24,000 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,000 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:24,000 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,004 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2017-11-27 16:13:24,004 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,004 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,005 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,005 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-27 16:13:24,005 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,005 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:24,005 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,006 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:24,007 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,007 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,007 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,007 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:13:24,007 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,007 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:24,007 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,010 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:24,010 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,010 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,182 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,183 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:13:24,183 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,183 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:24,183 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,185 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:24,186 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,186 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,186 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,186 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:13:24,186 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,186 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:24,186 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,187 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-27 16:13:24,187 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,187 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,188 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,188 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:13:24,188 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,188 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:24,188 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,191 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:24,191 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,191 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,191 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,192 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-27 16:13:24,192 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,192 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:24,192 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,193 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:24,193 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,194 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,194 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,194 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:13:24,194 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,194 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:24,194 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,197 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:24,197 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,198 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,346 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,346 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:13:24,346 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,346 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:24,346 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,349 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:24,349 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,349 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,349 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,349 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:13:24,349 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,349 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:24,349 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,351 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:24,351 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,351 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,351 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,352 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:13:24,352 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,352 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:24,352 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,355 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:24,355 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,355 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,355 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,356 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-27 16:13:24,356 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,356 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:24,356 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,357 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:24,357 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,357 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,358 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,358 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:13:24,358 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,358 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:24,358 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,361 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:24,361 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,362 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,501 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,501 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:13:24,501 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,501 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:24,501 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,618 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 116 ms with result: SqlDataReader

2017-11-27 16:13:24,618 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,618 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,619 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,619 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:13:24,619 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,619 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:24,619 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,620 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:24,620 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,621 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,622 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,622 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:13:24,622 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,622 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:24,622 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,625 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:24,625 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,625 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,626 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,626 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-27 16:13:24,626 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,627 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:24,627 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,628 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:24,628 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,628 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,628 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,629 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:13:24,629 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,629 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:24,629 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,632 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:24,632 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,632 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,682 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,682 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:13:24,683 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,683 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:24,683 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,685 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:24,685 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,686 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,686 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,686 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:13:24,686 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,686 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:24,686 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,687 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:24,687 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,688 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,689 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,689 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:13:24,689 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,689 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:24,689 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,692 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:24,692 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,692 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,693 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,693 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-27 16:13:24,693 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,693 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:24,693 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,694 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-27 16:13:24,694 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,694 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,695 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,695 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:13:24,695 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,695 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:24,695 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,698 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:24,698 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,698 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,801 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,801 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:13:24,801 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,801 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:24,801 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,804 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:24,804 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,804 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,804 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,804 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:13:24,804 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,804 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:24,804 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,805 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:24,805 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,806 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,806 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,807 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:13:24,807 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,807 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:24,807 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,809 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:24,809 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,810 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,810 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,811 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-27 16:13:24,811 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,811 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:24,811 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,812 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-27 16:13:24,812 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,812 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,812 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,813 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:13:24,813 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,813 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:24,813 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,815 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:24,815 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,815 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,945 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,946 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:13:24,946 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,946 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:24,946 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,949 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:24,949 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,949 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,949 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,949 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:13:24,949 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,949 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:24,949 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,950 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:24,951 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,951 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,951 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,952 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:13:24,952 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,952 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:24,952 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,955 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:24,955 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,955 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,956 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,956 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-27 16:13:24,956 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,956 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:24,956 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,957 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-27 16:13:24,957 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,957 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,958 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,958 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:13:24,958 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,958 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:24,958 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:24,961 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:24,961 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:24,961 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:24 +08:00

2017-11-27 16:13:25,102 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,102 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:13:25,103 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:25,103 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:25,103 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,105 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:25,105 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:25,106 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,106 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,106 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:13:25,106 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:25,106 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:25,106 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,107 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:25,107 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:25,107 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,108 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,108 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:13:25,108 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:25,108 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:25,109 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,111 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:25,111 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:25,111 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,112 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,112 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-27 16:13:25,113 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:25,113 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:25,113 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,114 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-27 16:13:25,114 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:25,114 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,114 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,114 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:13:25,114 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:25,115 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:25,115 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,117 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:25,117 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:25,117 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,245 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,246 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:13:25,246 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:25,246 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:25,246 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,248 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:25,248 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:25,249 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,249 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,249 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:13:25,249 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:25,249 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:25,249 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,250 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:25,250 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:25,250 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,251 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,251 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:13:25,251 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:25,251 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:25,251 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,254 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:25,254 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:25,254 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,255 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,255 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-27 16:13:25,255 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:25,255 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:25,256 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,257 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-27 16:13:25,257 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:25,257 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,257 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,257 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:13:25,258 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:25,258 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:25,258 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,260 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:25,260 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:25,260 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,421 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,421 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:13:25,421 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:25,422 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:25,422 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,424 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:25,424 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:25,424 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,424 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,425 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:13:25,425 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:25,425 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:25,425 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,426 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:25,426 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:25,426 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,427 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,427 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:13:25,427 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:25,427 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:25,427 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,430 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:25,430 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:25,430 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,430 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,431 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-27 16:13:25,431 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:25,431 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:25,431 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,432 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:25,432 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:25,432 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,433 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,433 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:13:25,433 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:25,433 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:25,433 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,436 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:25,436 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:25,436 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,845 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,846 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:13:25,846 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:25,846 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:25,846 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,849 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:25,849 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:25,849 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,849 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,849 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:13:25,849 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:25,849 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:25,849 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,851 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:25,851 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:25,851 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,851 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,852 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:13:25,852 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:25,852 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:25,852 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,854 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:25,855 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:25,855 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,855 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,856 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-27 16:13:25,856 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:25,856 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:25,856 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,857 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:25,857 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:25,857 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,857 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,859 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:13:25,859 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:25,859 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:25,859 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:25,861 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:25,862 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:25,862 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:25 +08:00

2017-11-27 16:13:26,011 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,011 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:13:26,011 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,011 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:26,011 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,014 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:26,014 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,014 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,014 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,014 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:13:26,014 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,014 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:26,014 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,015 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:26,016 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,016 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,016 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,016 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:13:26,017 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,017 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:26,017 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,019 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:26,019 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,020 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,020 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,021 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-27 16:13:26,021 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,021 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:26,021 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,022 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-27 16:13:26,022 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,022 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,022 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,023 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:13:26,023 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,023 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:26,023 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,026 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:26,026 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,026 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,166 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,167 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:13:26,167 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,167 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:26,167 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,169 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:26,169 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,170 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,170 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,170 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:13:26,170 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,170 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:26,170 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,171 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:26,171 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,171 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,172 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,172 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:13:26,172 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,172 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:26,172 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,175 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:26,175 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,175 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,175 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,176 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-27 16:13:26,176 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,176 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:26,176 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,177 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:26,177 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,177 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,178 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,178 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:13:26,178 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,178 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:26,179 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,181 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:26,181 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,182 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,309 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,310 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:13:26,310 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,310 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:26,310 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,313 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:26,313 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,313 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,313 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,313 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:13:26,313 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,313 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:26,313 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,314 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:26,314 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,314 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,315 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,315 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:13:26,315 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,315 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:26,316 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,318 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:26,318 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,319 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,319 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,319 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-27 16:13:26,319 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,319 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:26,319 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,321 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:26,321 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,321 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,321 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,322 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:13:26,322 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,322 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:26,322 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,325 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2017-11-27 16:13:26,325 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,326 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,465 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,465 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:13:26,465 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,465 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:26,465 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,468 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:26,468 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,468 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,468 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,469 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:13:26,469 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,469 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:26,469 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,470 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:26,470 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,470 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,471 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,471 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:13:26,471 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,471 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:26,471 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,474 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:26,474 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,474 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,474 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,475 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-27 16:13:26,475 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,475 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:26,475 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,476 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-27 16:13:26,476 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,476 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,477 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,477 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:13:26,477 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,477 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:26,477 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,480 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:26,480 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,480 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,609 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,609 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:13:26,609 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,609 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:26,609 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,612 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:26,612 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,612 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,612 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,612 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:13:26,612 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,612 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:26,612 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,614 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:26,614 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,614 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,614 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,615 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:13:26,615 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,615 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:26,615 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,617 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:26,617 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,618 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,618 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,619 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-27 16:13:26,619 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,619 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:26,619 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,631 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 11 ms with result: SqlDataReader

2017-11-27 16:13:26,631 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,631 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,631 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,631 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:13:26,632 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,632 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:26,632 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,634 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:26,634 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,634 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,754 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,755 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:13:26,755 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,755 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:26,755 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,758 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:26,758 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,758 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,758 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,758 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:13:26,758 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,758 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:26,758 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,759 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:26,759 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,759 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,760 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,760 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:13:26,760 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,760 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:26,760 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,763 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:26,763 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,763 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,764 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,764 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-27 16:13:26,764 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,764 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:26,765 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,766 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:26,766 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,766 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,766 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,767 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:13:26,767 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,767 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:26,767 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,769 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:26,769 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,769 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,908 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,909 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:13:26,909 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,909 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:26,909 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,912 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:26,912 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,912 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,912 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,913 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:13:26,913 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,913 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:26,913 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,914 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:26,914 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,914 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,914 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,915 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:13:26,915 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,915 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:26,915 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,918 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:26,918 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,918 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,919 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,919 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-27 16:13:26,919 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,919 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:26,919 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,920 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:26,920 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,920 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,921 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,921 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:13:26,921 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,921 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:26,921 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:26,924 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:26,924 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:26,924 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:26 +08:00

2017-11-27 16:13:27,074 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,074 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:13:27,074 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,074 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:27,074 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,077 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:27,077 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,077 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,077 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,077 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:13:27,077 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,077 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:27,077 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,079 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:27,079 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,079 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,080 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,080 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:13:27,080 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,080 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:27,080 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,082 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:27,082 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,083 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,083 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,084 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-27 16:13:27,084 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,084 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:27,084 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,085 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:27,085 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,085 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,086 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,086 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:13:27,086 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,086 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:27,086 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,089 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:27,089 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,089 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,221 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,221 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:13:27,221 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,221 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:27,222 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,224 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:27,224 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,224 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,225 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,225 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:13:27,225 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,225 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:27,225 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,226 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:27,226 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,226 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,227 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,227 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:13:27,227 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,227 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:27,227 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,230 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:27,230 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,230 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,231 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,231 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-27 16:13:27,231 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,231 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:27,231 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,232 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-27 16:13:27,232 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,233 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,233 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,234 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:13:27,234 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,234 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:27,234 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,237 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:27,237 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,237 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,378 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,378 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:13:27,378 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,378 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:27,378 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,381 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:27,381 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,381 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,381 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,381 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:13:27,381 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,381 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:27,381 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,382 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:27,383 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,383 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,383 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,384 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:13:27,384 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,384 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:27,384 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,387 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:27,387 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,387 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,387 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,388 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-27 16:13:27,388 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,388 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:27,388 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,389 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:27,389 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,390 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,390 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,390 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:13:27,390 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,390 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:27,390 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,393 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:27,393 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,393 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,541 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,542 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:13:27,542 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,542 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:27,542 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,544 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:27,544 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,545 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,545 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,545 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:13:27,545 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,545 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:27,545 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,546 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:27,546 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,546 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,547 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,547 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:13:27,547 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,547 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:27,548 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,550 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:27,550 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,551 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,551 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,552 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-27 16:13:27,552 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,552 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:27,552 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,553 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-27 16:13:27,553 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,553 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,553 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,554 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:13:27,554 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,554 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:27,554 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,556 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:27,556 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,557 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,694 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,695 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:13:27,695 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,695 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:27,695 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,698 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:27,698 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,698 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,698 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,698 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:13:27,698 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,698 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:27,698 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,699 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:27,700 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,700 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,700 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,701 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:13:27,701 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,701 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:27,701 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,704 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:27,704 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,704 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,704 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,705 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-27 16:13:27,705 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,705 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:27,705 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,706 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-27 16:13:27,706 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,706 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,706 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,707 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:13:27,707 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,707 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:27,707 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,710 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:27,710 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,710 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,849 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,849 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:13:27,849 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,849 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:27,849 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,851 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:27,852 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,852 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,852 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,852 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:13:27,852 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,852 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:27,852 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,853 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:27,853 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,853 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,854 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,854 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:13:27,854 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,854 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:27,854 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,857 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:27,857 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,857 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,858 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,858 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-27 16:13:27,858 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,858 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:27,858 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,859 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-27 16:13:27,859 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,859 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,860 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,860 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:13:27,860 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,860 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:27,860 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:27,863 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:27,863 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:27,863 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:27 +08:00

2017-11-27 16:13:29,089 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,090 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:13:29,090 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,090 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:29,090 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,093 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:29,093 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,093 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,093 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,093 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:13:29,093 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,093 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:29,093 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,094 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:29,094 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,094 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,095 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,095 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:13:29,095 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,095 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:29,095 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,098 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:29,098 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,098 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,099 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,099 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-27 16:13:29,099 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,099 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:29,099 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,100 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-27 16:13:29,100 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,100 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,101 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,101 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:13:29,101 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,101 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:29,101 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,104 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:29,104 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,104 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,264 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,264 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:13:29,264 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,264 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:29,264 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,267 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:29,267 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,267 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,267 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,268 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:13:29,268 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,268 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:29,268 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,269 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:29,269 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,269 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,270 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,270 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:13:29,270 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,270 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:29,270 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,273 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:29,273 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,273 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,273 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,274 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-27 16:13:29,274 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,274 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:29,274 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,275 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:29,275 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,275 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,276 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,276 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:13:29,276 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,277 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:29,277 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,279 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:29,279 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,279 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,421 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,422 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:13:29,422 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,422 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:29,422 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,425 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:29,425 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,425 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,425 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,425 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:13:29,425 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,425 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:29,425 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,427 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:29,427 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,427 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,427 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,428 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:13:29,428 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,428 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:29,428 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,431 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:29,431 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,431 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,431 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,432 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-27 16:13:29,432 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,432 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:29,432 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,433 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:29,433 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,433 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,434 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,434 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:13:29,434 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,434 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:29,434 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,437 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:29,437 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,437 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,585 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,586 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:13:29,586 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,586 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:29,586 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,588 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:29,589 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,589 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,589 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,589 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:13:29,589 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,589 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:29,589 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,590 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:29,590 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,591 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,591 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,592 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:13:29,592 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,592 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:29,592 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,594 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:29,594 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,595 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,595 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,596 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-27 16:13:29,596 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,596 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:29,596 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,597 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:29,597 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,597 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,597 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,598 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:13:29,598 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,598 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:29,598 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,601 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:29,601 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,601 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,739 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,740 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:13:29,740 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,740 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:29,740 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,742 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:29,743 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,743 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,743 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,743 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:13:29,743 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,743 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:29,743 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,744 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:29,744 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,744 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,745 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,745 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:13:29,745 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,745 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:29,745 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,748 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:29,748 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,748 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,749 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,749 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-27 16:13:29,749 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,749 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:29,749 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,750 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2017-11-27 16:13:29,750 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,750 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,751 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,751 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:13:29,751 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,751 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:29,751 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,754 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:29,754 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,754 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,884 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,885 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:13:29,885 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,885 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:29,885 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,887 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:29,887 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,888 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,888 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,888 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:13:29,888 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,888 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:29,888 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,889 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:29,890 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,890 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,890 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,891 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:13:29,891 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,891 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:29,891 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,893 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:29,893 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,894 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,894 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,894 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
    )  AS [GroupBy1]
2017-11-27 16:13:29,895 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,895 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:29,895 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,896 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:29,896 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,896 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,896 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,897 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes])
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:13:29,897 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,897 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:29,897 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:29,899 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:29,899 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:29,900 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:29 +08:00

2017-11-27 16:13:36,151 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:36 +08:00

2017-11-27 16:13:36,151 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:13:36,151 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:36,151 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:36,152 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:36 +08:00

2017-11-27 16:13:36,154 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:36,154 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:36,155 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:36 +08:00

2017-11-27 16:13:36,155 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:36 +08:00

2017-11-27 16:13:36,155 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:13:36,155 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:36,155 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:36,155 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:36 +08:00

2017-11-27 16:13:36,157 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:36,157 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:36,157 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:36 +08:00

2017-11-27 16:13:36,157 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:36 +08:00

2017-11-27 16:13:36,158 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:13:36,158 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:36,158 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:36,158 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:36 +08:00

2017-11-27 16:13:36,160 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:36,160 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:36,161 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:36 +08:00

2017-11-27 16:13:36,161 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:36 +08:00

2017-11-27 16:13:36,166 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes]) AND (([Extent1].[Name] LIKE @p__linq__1 ESCAPE N'~') OR ([Extent1].[Mobile] LIKE @p__linq__2 ESCAPE '~'))
    )  AS [GroupBy1]
2017-11-27 16:13:36,167 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:36,167 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:36,167 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '%s%' (Type = String, Size = 4000)

2017-11-27 16:13:36,167 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__2: '%s%' (Type = AnsiString, Size = 8000)

2017-11-27 16:13:36,167 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:36 +08:00

2017-11-27 16:13:36,168 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:36,168 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:36,168 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:36 +08:00

2017-11-27 16:13:36,168 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:36 +08:00

2017-11-27 16:13:36,173 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes]) AND (([Extent1].[Name] LIKE @p__linq__1 ESCAPE N'~') OR ([Extent1].[Mobile] LIKE @p__linq__2 ESCAPE '~'))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:13:36,174 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:36,174 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:36,174 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '%s%' (Type = String, Size = 4000)

2017-11-27 16:13:36,174 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__2: '%s%' (Type = AnsiString, Size = 8000)

2017-11-27 16:13:36,174 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:36 +08:00

2017-11-27 16:13:36,176 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:36,177 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:36,177 [33] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:36 +08:00

2017-11-27 16:13:45,250 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:45 +08:00

2017-11-27 16:13:45,250 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:13:45,250 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:45,250 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:45,250 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:45 +08:00

2017-11-27 16:13:45,253 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:45,253 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:45,253 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:45 +08:00

2017-11-27 16:13:45,253 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:45 +08:00

2017-11-27 16:13:45,253 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:13:45,253 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:45,253 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:45,253 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:45 +08:00

2017-11-27 16:13:45,255 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:45,255 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:45,255 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:45 +08:00

2017-11-27 16:13:45,256 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:45 +08:00

2017-11-27 16:13:45,256 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:13:45,256 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:45,256 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:45,256 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:45 +08:00

2017-11-27 16:13:45,258 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:45,258 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:45,259 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:45 +08:00

2017-11-27 16:13:45,259 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:45 +08:00

2017-11-27 16:13:45,260 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes]) AND (([Extent1].[Name] LIKE @p__linq__1 ESCAPE N'~') OR ([Extent1].[Mobile] LIKE @p__linq__2 ESCAPE '~'))
    )  AS [GroupBy1]
2017-11-27 16:13:45,260 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:45,260 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:45,260 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '%a%' (Type = String, Size = 4000)

2017-11-27 16:13:45,260 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__2: '%a%' (Type = AnsiString, Size = 8000)

2017-11-27 16:13:45,260 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:45 +08:00

2017-11-27 16:13:45,261 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:45,262 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:45,262 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:45 +08:00

2017-11-27 16:13:45,262 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:45 +08:00

2017-11-27 16:13:45,263 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes]) AND (([Extent1].[Name] LIKE @p__linq__1 ESCAPE N'~') OR ([Extent1].[Mobile] LIKE @p__linq__2 ESCAPE '~'))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:13:45,263 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:45,263 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:45,263 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '%a%' (Type = String, Size = 4000)

2017-11-27 16:13:45,263 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__2: '%a%' (Type = AnsiString, Size = 8000)

2017-11-27 16:13:45,263 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:45 +08:00

2017-11-27 16:13:45,266 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:45,266 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:45,266 [27] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:45 +08:00

2017-11-27 16:13:46,908 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:46 +08:00

2017-11-27 16:13:46,909 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:13:46,909 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:46,909 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:46,909 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:46 +08:00

2017-11-27 16:13:46,911 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:46,911 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:46,912 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:46 +08:00

2017-11-27 16:13:46,912 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:46 +08:00

2017-11-27 16:13:46,912 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:13:46,912 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:46,912 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:46,912 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:46 +08:00

2017-11-27 16:13:46,913 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:46,914 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:46,914 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:46 +08:00

2017-11-27 16:13:46,915 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:46 +08:00

2017-11-27 16:13:46,915 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:13:46,915 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:46,915 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:46,915 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:46 +08:00

2017-11-27 16:13:46,918 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:46,918 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:46,918 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:46 +08:00

2017-11-27 16:13:46,918 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:46 +08:00

2017-11-27 16:13:46,919 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes]) AND (([Extent1].[Name] LIKE @p__linq__1 ESCAPE N'~') OR ([Extent1].[Mobile] LIKE @p__linq__2 ESCAPE '~'))
    )  AS [GroupBy1]
2017-11-27 16:13:46,920 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:46,920 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:46,920 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '%a%' (Type = String, Size = 4000)

2017-11-27 16:13:46,920 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__2: '%a%' (Type = AnsiString, Size = 8000)

2017-11-27 16:13:46,920 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:46 +08:00

2017-11-27 16:13:46,921 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:46,921 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:46,921 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:46 +08:00

2017-11-27 16:13:46,921 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:46 +08:00

2017-11-27 16:13:46,923 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes]) AND (([Extent1].[Name] LIKE @p__linq__1 ESCAPE N'~') OR ([Extent1].[Mobile] LIKE @p__linq__2 ESCAPE '~'))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:13:46,923 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:46,923 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:46,923 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '%a%' (Type = String, Size = 4000)

2017-11-27 16:13:46,923 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__2: '%a%' (Type = AnsiString, Size = 8000)

2017-11-27 16:13:46,923 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:46 +08:00

2017-11-27 16:13:46,926 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:46,926 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:46,926 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:46 +08:00

2017-11-27 16:13:47,296 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,297 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:13:47,297 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:47,297 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:47,297 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,299 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:47,300 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:47,300 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,300 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,300 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:13:47,300 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:47,300 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:47,300 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,301 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:47,301 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:47,301 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,302 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,302 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:13:47,302 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:47,302 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:47,302 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,305 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:47,305 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:47,306 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,306 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,307 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes]) AND (([Extent1].[Name] LIKE @p__linq__1 ESCAPE N'~') OR ([Extent1].[Mobile] LIKE @p__linq__2 ESCAPE '~'))
    )  AS [GroupBy1]
2017-11-27 16:13:47,307 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:47,307 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:47,307 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '%a%' (Type = String, Size = 4000)

2017-11-27 16:13:47,307 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__2: '%a%' (Type = AnsiString, Size = 8000)

2017-11-27 16:13:47,307 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,309 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:47,309 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:47,309 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,309 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,310 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes]) AND (([Extent1].[Name] LIKE @p__linq__1 ESCAPE N'~') OR ([Extent1].[Mobile] LIKE @p__linq__2 ESCAPE '~'))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:13:47,310 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:47,310 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:47,311 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '%a%' (Type = String, Size = 4000)

2017-11-27 16:13:47,311 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__2: '%a%' (Type = AnsiString, Size = 8000)

2017-11-27 16:13:47,311 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,313 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:47,313 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:47,314 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,513 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,514 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:13:47,514 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:47,514 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:47,514 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,526 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 11 ms with result: SqlDataReader

2017-11-27 16:13:47,526 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:47,526 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,527 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,527 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:13:47,527 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:47,527 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:47,527 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,528 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:47,528 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:47,528 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,529 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,529 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:13:47,529 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:47,529 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:47,530 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,532 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:47,532 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:47,532 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,533 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,534 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes]) AND (([Extent1].[Name] LIKE @p__linq__1 ESCAPE N'~') OR ([Extent1].[Mobile] LIKE @p__linq__2 ESCAPE '~'))
    )  AS [GroupBy1]
2017-11-27 16:13:47,534 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:47,534 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:47,534 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '%a%' (Type = String, Size = 4000)

2017-11-27 16:13:47,534 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__2: '%a%' (Type = AnsiString, Size = 8000)

2017-11-27 16:13:47,534 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,536 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:47,536 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:47,536 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,536 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,537 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes]) AND (([Extent1].[Name] LIKE @p__linq__1 ESCAPE N'~') OR ([Extent1].[Mobile] LIKE @p__linq__2 ESCAPE '~'))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:13:47,537 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:47,537 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:47,537 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '%a%' (Type = String, Size = 4000)

2017-11-27 16:13:47,537 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__2: '%a%' (Type = AnsiString, Size = 8000)

2017-11-27 16:13:47,538 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,540 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:47,540 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:47,540 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,678 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,679 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:13:47,679 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:47,679 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:47,679 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,681 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:47,681 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:47,682 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,682 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,682 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:13:47,682 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:47,682 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:47,682 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,683 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:47,683 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:47,683 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,684 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,685 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:13:47,685 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:47,685 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:47,685 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,687 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:47,687 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:47,688 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,688 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,689 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes]) AND (([Extent1].[Name] LIKE @p__linq__1 ESCAPE N'~') OR ([Extent1].[Mobile] LIKE @p__linq__2 ESCAPE '~'))
    )  AS [GroupBy1]
2017-11-27 16:13:47,689 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:47,689 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:47,689 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '%a%' (Type = String, Size = 4000)

2017-11-27 16:13:47,689 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__2: '%a%' (Type = AnsiString, Size = 8000)

2017-11-27 16:13:47,689 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,691 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:47,691 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:47,691 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,691 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,692 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes]) AND (([Extent1].[Name] LIKE @p__linq__1 ESCAPE N'~') OR ([Extent1].[Mobile] LIKE @p__linq__2 ESCAPE '~'))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:13:47,692 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:47,692 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:47,692 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '%a%' (Type = String, Size = 4000)

2017-11-27 16:13:47,692 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__2: '%a%' (Type = AnsiString, Size = 8000)

2017-11-27 16:13:47,692 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,695 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:47,695 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:47,695 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,857 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,858 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:13:47,858 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:47,858 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:47,858 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,860 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:47,860 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:47,861 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,861 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,861 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:13:47,861 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:47,861 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:47,861 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,862 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:47,862 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:47,862 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,863 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,863 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:13:47,864 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:47,864 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:47,864 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,866 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:47,866 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:47,867 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,867 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,868 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes]) AND (([Extent1].[Name] LIKE @p__linq__1 ESCAPE N'~') OR ([Extent1].[Mobile] LIKE @p__linq__2 ESCAPE '~'))
    )  AS [GroupBy1]
2017-11-27 16:13:47,868 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:47,868 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:47,868 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '%a%' (Type = String, Size = 4000)

2017-11-27 16:13:47,869 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__2: '%a%' (Type = AnsiString, Size = 8000)

2017-11-27 16:13:47,869 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,870 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:47,870 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:47,870 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,870 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,872 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes]) AND (([Extent1].[Name] LIKE @p__linq__1 ESCAPE N'~') OR ([Extent1].[Mobile] LIKE @p__linq__2 ESCAPE '~'))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:13:47,872 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:47,872 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:47,872 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '%a%' (Type = String, Size = 4000)

2017-11-27 16:13:47,872 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__2: '%a%' (Type = AnsiString, Size = 8000)

2017-11-27 16:13:47,872 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:47,875 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:47,875 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:47,875 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:47 +08:00

2017-11-27 16:13:48,011 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:48 +08:00

2017-11-27 16:13:48,012 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:13:48,012 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:48,012 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:48,012 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:48 +08:00

2017-11-27 16:13:48,015 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:48,015 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:48,015 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:48 +08:00

2017-11-27 16:13:48,015 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:48 +08:00

2017-11-27 16:13:48,015 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:13:48,015 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:48,015 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:48,015 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:48 +08:00

2017-11-27 16:13:48,017 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:48,017 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:48,017 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:48 +08:00

2017-11-27 16:13:48,018 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:48 +08:00

2017-11-27 16:13:48,018 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:13:48,018 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:48,018 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:48,018 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:48 +08:00

2017-11-27 16:13:48,021 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:48,021 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:48,021 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:48 +08:00

2017-11-27 16:13:48,021 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:48 +08:00

2017-11-27 16:13:48,023 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes]) AND (([Extent1].[Name] LIKE @p__linq__1 ESCAPE N'~') OR ([Extent1].[Mobile] LIKE @p__linq__2 ESCAPE '~'))
    )  AS [GroupBy1]
2017-11-27 16:13:48,023 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:48,023 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:48,023 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '%a%' (Type = String, Size = 4000)

2017-11-27 16:13:48,023 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__2: '%a%' (Type = AnsiString, Size = 8000)

2017-11-27 16:13:48,023 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:48 +08:00

2017-11-27 16:13:48,024 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:48,024 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:48,024 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:48 +08:00

2017-11-27 16:13:48,025 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:48 +08:00

2017-11-27 16:13:48,026 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes]) AND (([Extent1].[Name] LIKE @p__linq__1 ESCAPE N'~') OR ([Extent1].[Mobile] LIKE @p__linq__2 ESCAPE '~'))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:13:48,026 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:48,026 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:48,026 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '%a%' (Type = String, Size = 4000)

2017-11-27 16:13:48,026 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__2: '%a%' (Type = AnsiString, Size = 8000)

2017-11-27 16:13:48,026 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:48 +08:00

2017-11-27 16:13:48,028 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:48,029 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:48,029 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:48 +08:00

2017-11-27 16:13:48,145 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:48 +08:00

2017-11-27 16:13:48,145 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:13:48,145 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:48,145 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:48,145 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:48 +08:00

2017-11-27 16:13:48,148 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:48,148 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:48,148 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:48 +08:00

2017-11-27 16:13:48,148 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:48 +08:00

2017-11-27 16:13:48,148 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:13:48,148 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:48,148 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:48,148 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:48 +08:00

2017-11-27 16:13:48,150 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:48,150 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:48,150 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:48 +08:00

2017-11-27 16:13:48,150 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:48 +08:00

2017-11-27 16:13:48,151 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:13:48,151 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:48,151 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:48,151 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:48 +08:00

2017-11-27 16:13:48,154 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:48,154 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:48,154 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:48 +08:00

2017-11-27 16:13:48,155 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:48 +08:00

2017-11-27 16:13:48,156 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes]) AND (([Extent1].[Name] LIKE @p__linq__1 ESCAPE N'~') OR ([Extent1].[Mobile] LIKE @p__linq__2 ESCAPE '~'))
    )  AS [GroupBy1]
2017-11-27 16:13:48,156 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:48,156 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:48,156 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '%a%' (Type = String, Size = 4000)

2017-11-27 16:13:48,156 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__2: '%a%' (Type = AnsiString, Size = 8000)

2017-11-27 16:13:48,156 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:48 +08:00

2017-11-27 16:13:48,157 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:48,157 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:48,157 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:48 +08:00

2017-11-27 16:13:48,158 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:48 +08:00

2017-11-27 16:13:48,159 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes]) AND (([Extent1].[Name] LIKE @p__linq__1 ESCAPE N'~') OR ([Extent1].[Mobile] LIKE @p__linq__2 ESCAPE '~'))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:13:48,159 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:48,159 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:48,159 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '%a%' (Type = String, Size = 4000)

2017-11-27 16:13:48,159 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__2: '%a%' (Type = AnsiString, Size = 8000)

2017-11-27 16:13:48,159 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:48 +08:00

2017-11-27 16:13:48,162 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:48,162 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:48,162 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:48 +08:00

2017-11-27 16:13:48,309 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:48 +08:00

2017-11-27 16:13:48,310 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:13:48,310 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:48,310 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:48,310 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:48 +08:00

2017-11-27 16:13:48,312 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:48,312 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:48,313 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:48 +08:00

2017-11-27 16:13:48,313 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:48 +08:00

2017-11-27 16:13:48,313 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:13:48,313 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:48,313 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:48,313 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:48 +08:00

2017-11-27 16:13:48,314 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:48,314 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:48,315 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:48 +08:00

2017-11-27 16:13:48,315 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:48 +08:00

2017-11-27 16:13:48,316 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:13:48,316 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:48,316 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:48,316 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:48 +08:00

2017-11-27 16:13:48,319 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:48,319 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:48,319 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:48 +08:00

2017-11-27 16:13:48,319 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:48 +08:00

2017-11-27 16:13:48,362 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes]) AND (([Extent1].[Name] LIKE @p__linq__1 ESCAPE N'~') OR ([Extent1].[Mobile] LIKE @p__linq__2 ESCAPE '~'))
    )  AS [GroupBy1]
2017-11-27 16:13:48,362 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:48,362 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:48,362 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '%a%' (Type = String, Size = 4000)

2017-11-27 16:13:48,362 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__2: '%a%' (Type = AnsiString, Size = 8000)

2017-11-27 16:13:48,362 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:48 +08:00

2017-11-27 16:13:48,364 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:48,364 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:48,364 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:48 +08:00

2017-11-27 16:13:48,364 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:48 +08:00

2017-11-27 16:13:48,365 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes]) AND (([Extent1].[Name] LIKE @p__linq__1 ESCAPE N'~') OR ([Extent1].[Mobile] LIKE @p__linq__2 ESCAPE '~'))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:13:48,365 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:48,366 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:48,366 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '%a%' (Type = String, Size = 4000)

2017-11-27 16:13:48,366 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__2: '%a%' (Type = AnsiString, Size = 8000)

2017-11-27 16:13:48,366 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:48 +08:00

2017-11-27 16:13:48,368 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:48,368 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:48,368 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:48 +08:00

2017-11-27 16:13:52,356 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:52 +08:00

2017-11-27 16:13:52,357 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:13:52,357 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:52,357 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:52,357 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:52 +08:00

2017-11-27 16:13:52,359 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:52,359 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:52,360 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:52 +08:00

2017-11-27 16:13:52,360 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:52 +08:00

2017-11-27 16:13:52,360 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:13:52,360 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:52,360 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:52,360 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:52 +08:00

2017-11-27 16:13:52,361 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:52,361 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:52,361 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:52 +08:00

2017-11-27 16:13:52,362 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:52 +08:00

2017-11-27 16:13:52,362 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:13:52,363 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:52,363 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:52,363 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:52 +08:00

2017-11-27 16:13:52,365 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:52,365 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:52,366 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:52 +08:00

2017-11-27 16:13:52,366 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:52 +08:00

2017-11-27 16:13:52,367 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes]) AND (([Extent1].[Name] LIKE @p__linq__1 ESCAPE N'~') OR ([Extent1].[Mobile] LIKE @p__linq__2 ESCAPE '~'))
    )  AS [GroupBy1]
2017-11-27 16:13:52,367 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:52,367 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:52,368 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '%a%' (Type = String, Size = 4000)

2017-11-27 16:13:52,368 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__2: '%a%' (Type = AnsiString, Size = 8000)

2017-11-27 16:13:52,368 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:52 +08:00

2017-11-27 16:13:52,369 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:52,369 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:52,369 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:52 +08:00

2017-11-27 16:13:52,369 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:52 +08:00

2017-11-27 16:13:52,371 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes]) AND (([Extent1].[Name] LIKE @p__linq__1 ESCAPE N'~') OR ([Extent1].[Mobile] LIKE @p__linq__2 ESCAPE '~'))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
2017-11-27 16:13:52,371 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:52,371 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:52,371 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '%a%' (Type = String, Size = 4000)

2017-11-27 16:13:52,371 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__2: '%a%' (Type = AnsiString, Size = 8000)

2017-11-27 16:13:52,371 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:52 +08:00

2017-11-27 16:13:52,374 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:52,374 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:52,374 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:52 +08:00

2017-11-27 16:13:55,623 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:55 +08:00

2017-11-27 16:13:55,624 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Project2].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project2].[Id] AS [Id], 
    [Project2].[Name] AS [Name], 
    [Project2].[Mobile] AS [Mobile], 
    [Project2].[Gender] AS [Gender], 
    [Project2].[PasswordSalt] AS [PasswordSalt], 
    [Project2].[PasswordHash] AS [PasswordHash], 
    [Project2].[Email] AS [Email], 
    [Project2].[LastLoginErrorTime] AS [LastLoginErrorTime], 
    [Project2].[IsDeleted] AS [IsDeleted], 
    [Project2].[CreateDateTime] AS [CreateDateTime], 
    [Project2].[C1] AS [C1], 
    [Project2].[Id1] AS [Id1], 
    [Project2].[Name1] AS [Name1], 
    [Project2].[Description] AS [Description], 
    [Project2].[IsDeleted1] AS [IsDeleted1], 
    [Project2].[CreateDateTime1] AS [CreateDateTime1]
    FROM ( SELECT 
        [Limit1].[Id] AS [Id], 
        [Limit1].[Name] AS [Name], 
        [Limit1].[Mobile] AS [Mobile], 
        [Limit1].[Gender] AS [Gender], 
        [Limit1].[PasswordSalt] AS [PasswordSalt], 
        [Limit1].[PasswordHash] AS [PasswordHash], 
        [Limit1].[Email] AS [Email], 
        [Limit1].[LoginErrorTimes] AS [LoginErrorTimes], 
        [Limit1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
        [Limit1].[IsDeleted] AS [IsDeleted], 
        [Limit1].[CreateDateTime] AS [CreateDateTime], 
        [Join1].[Id] AS [Id1], 
        [Join1].[Name] AS [Name1], 
        [Join1].[Description] AS [Description], 
        [Join1].[IsDeleted] AS [IsDeleted1], 
        [Join1].[CreateDateTime] AS [CreateDateTime1], 
        CASE WHEN ([Join1].[AdminUserId] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C1]
        FROM   (SELECT TOP (2) 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[Email] AS [Email], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorTime] AS [LastLoginErrorTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM [dbo].[T_AdminUsers] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0) ) AS [Limit1]
        LEFT OUTER JOIN  (SELECT [Extent2].[AdminUserId] AS [AdminUserId], [Extent3].[Id] AS [Id], [Extent3].[Name] AS [Name], [Extent3].[Description] AS [Description], [Extent3].[IsDeleted] AS [IsDeleted], [Extent3].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_AdminUserRoles] AS [Extent2]
            INNER JOIN [dbo].[T_Roles] AS [Extent3] ON [Extent3].[Id] = [Extent2].[RoleId] ) AS [Join1] ON [Limit1].[Id] = [Join1].[AdminUserId]
    )  AS [Project2]
    ORDER BY [Project2].[Id] ASC, [Project2].[C1] ASC
2017-11-27 16:13:55,624 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:55,624 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:55,624 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:55 +08:00

2017-11-27 16:13:55,627 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:55,627 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:55,627 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:55 +08:00

2017-11-27 16:13:55,627 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:55 +08:00

2017-11-27 16:13:55,627 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[IsDeleted] AS [IsDeleted], 
    [Extent2].[CreateDateTime] AS [CreateDateTime]
    FROM  [dbo].[T_RolePermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[PermissionId] = [Extent2].[Id]
    WHERE [Extent1].[RoleId] = @EntityKeyValue1
2017-11-27 16:13:55,627 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:55,627 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2017-11-27 16:13:55,627 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:55 +08:00

2017-11-27 16:13:55,629 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2017-11-27 16:13:55,629 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:55,629 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:55 +08:00

2017-11-27 16:13:55,645 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:55 +08:00

2017-11-27 16:13:55,645 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Num] AS [Num], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[ImgUrl] AS [ImgUrl], 
    [Extent1].[StatusId] AS [StatusId], 
    [Extent1].[WeChatUrl] AS [WeChatUrl], 
    [Extent1].[PaperId] AS [PaperId], 
    [Extent1].[PrizeName] AS [PrizeName], 
    [Extent1].[PrizeImgUrl] AS [PrizeImgUrl], 
    [Extent1].[VisitCount] AS [VisitCount], 
    [Extent1].[ForwardCount] AS [ForwardCount], 
    [Extent1].[AnswerCount] AS [AnswerCount], 
    [Extent1].[HavePrizeCount] AS [HavePrizeCount], 
    [Extent1].[PrizeCount] AS [PrizeCount], 
    [Extent1].[StartTime] AS [StartTime], 
    [Extent1].[ExamEndTime] AS [ExamEndTime], 
    [Extent1].[RewardTime] AS [RewardTime], 
    [Extent1].[IsDeleted] AS [IsDeleted], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[T_Activities] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2017-11-27 16:13:55,645 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:55,645 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:55,645 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:55 +08:00

2017-11-27 16:13:55,648 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2017-11-27 16:13:55,648 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:55,648 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:55 +08:00

2017-11-27 16:13:55,649 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:55 +08:00

2017-11-27 16:13:55,653 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM  [dbo].[T_Users] AS [Extent1]
        INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
        WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes]) AND ([Extent1].[CreateDateTime] >= @p__linq__1)
    )  AS [GroupBy1]
2017-11-27 16:13:55,653 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:55,653 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__0: '16' (Type = Int64, IsNullable = false)

2017-11-27 16:13:55,653 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2017/11/9 0:00:00' (Type = DateTime2)

2017-11-27 16:13:55,653 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Executing at 2017/11/27 16:13:55 +08:00

2017-11-27 16:13:55,659 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：-- Completed in 5 ms with result: SqlDataReader

2017-11-27 16:13:55,659 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：

2017-11-27 16:13:55,659 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Closed connection at 2017/11/27 16:13:55 +08:00

2017-11-27 16:13:55,659 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：Opened connection at 2017/11/27 16:13:55 +08:00

2017-11-27 16:13:55,664 [31] DEBUG Chat.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Name] AS [Name], 
    [Project1].[NickName] AS [NickName], 
    [Project1].[PhotoUrl] AS [PhotoUrl], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Gender] AS [Gender], 
    [Project1].[Address] AS [Address], 
    [Project1].[PasswordSalt] AS [PasswordSalt], 
    [Project1].[PasswordHash] AS [PasswordHash], 
    [Project1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Project1].[PassCount] AS [PassCount], 
    [Project1].[WinCount] AS [WinCount], 
    [Project1].[IsWon] AS [IsWon], 
    [Project1].[ChangeTime] AS [ChangeTime], 
    [Project1].[IsDeleted] AS [IsDeleted], 
    [Project1].[CreateDateTime] AS [CreateDateTime]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Name] AS [Name], [Project1].[NickName] AS [NickName], [Project1].[PhotoUrl] AS [PhotoUrl], [Project1].[Mobile] AS [Mobile], [Project1].[Gender] AS [Gender], [Project1].[Address] AS [Address], [Project1].[PasswordSalt] AS [PasswordSalt], [Project1].[PasswordHash] AS [PasswordHash], [Project1].[LoginErrorTimes] AS [LoginErrorTimes], [Project1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], [Project1].[PassCount] AS [PassCount], [Project1].[WinCount] AS [WinCount], [Project1].[IsWon] AS [IsWon], [Project1].[ChangeTime] AS [ChangeTime], [Project1].[IsDeleted] AS [IsDeleted], [Project1].[CreateDateTime] AS [CreateDateTime], row_number() OVER (ORDER BY [Project1].[CreateDateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Name] AS [Name], 
            [Extent1].[NickName] AS [NickName], 
            [Extent1].[PhotoUrl] AS [PhotoUrl], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Gender] AS [Gender], 
            [Extent1].[Address] AS [Address], 
            [Extent1].[PasswordSalt] AS [PasswordSalt], 
            [Extent1].[PasswordHash] AS [PasswordHash], 
            [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
            [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
            [Extent1].[PassCount] AS [PassCount], 
            [Extent1].[WinCount] AS [WinCount], 
            [Extent1].[IsWon] AS [IsWon], 
            [Extent1].[ChangeTime] AS [ChangeTime], 
            [Extent1].[IsDeleted] AS [IsDeleted], 
            [Extent1].[CreateDateTime] AS [CreateDateTime]
            FROM  [dbo].[T_Users] AS [Extent1]
            INNER JOIN [dbo].[T_UserActivities] AS [Extent2] ON [Extent1].[Id] = [Extent2].[UserId]
            WHERE ([Extent2].[ActivityId] = @p__linq__0) AND (0 = [Extent1].[IsDeleted]) AND (1 = [Extent1].[LoginErrorTimes]) AND ([Extent1].[CreateDateTime] >= @p__linq__1)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateDateTime] DESC
